/*! For license information please see reportbro.js.LICENSE.txt */
(()=>{var e={456:(e,t,r)=>{"use strict";var n=r(453),o=r(487),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},487:(e,t,r)=>{"use strict";var n=r(6743),o=r(453),i=r(6897),a=r(9675),l=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),u=o("%Reflect.apply%",!0)||n.call(s,l),c=r(655),d=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(n,s,arguments);return i(t,1+d(0,e.length-(arguments.length-1)),!0)};var p=function(){return u(n,l,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},4982:(e,t,r)=>{var n=r(1189),o=r(7244),i=r(7653),a=r(4035),l=r(1589),s=r(2120),u=Date.prototype.getTime;function c(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=function e(t,r,p){var h=p||{};return!!(h.strict?i(t,r):t===r)||(!t||!r||"object"!=typeof t&&"object"!=typeof r?h.strict?i(t,r):t==r:function(t,r,i){var p,h;if(typeof t!=typeof r)return!1;if(c(t)||c(r))return!1;if(t.prototype!==r.prototype)return!1;if(o(t)!==o(r))return!1;var f=a(t),y=a(r);if(f!==y)return!1;if(f||y)return t.source===r.source&&l(t)===l(r);if(s(t)&&s(r))return u.call(t)===u.call(r);var m=d(t),g=d(r);if(m!==g)return!1;if(m||g){if(t.length!==r.length)return!1;for(p=0;p<t.length;p++)if(t[p]!==r[p])return!1;return!0}if(typeof t!=typeof r)return!1;try{var b=n(t),v=n(r)}catch(e){return!1}if(b.length!==v.length)return!1;for(b.sort(),v.sort(),p=b.length-1;p>=0;p--)if(b[p]!=v[p])return!1;for(p=b.length-1;p>=0;p--)if(!e(t[h=b[p]],r[h],i))return!1;return!0}(t,r,h))}},41:(e,t,r)=>{"use strict";var n=r(655),o=r(8068),i=r(9675),a=r(5795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(n)n(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===l&&d?d.enumerable:!l,value:r,writable:null===s&&d?d.writable:!s});else{if(!c&&(l||s||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},8452:(e,t,r)=>{"use strict";var n=r(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=r(41),s=r(592)(),u=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;s?l(e,t,r,!0):l(e,t,r)},c=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var l=0;l<i.length;l+=1)u(e,i[l],t[i[l]],r[i[l]])};c.supportsDescriptors=!!s,e.exports=c},3939:e=>{"use strict";var t={single_source_shortest_paths:function(e,r,n){var o={},i={};i[r]=0;var a,l,s,u,c,d,p,h=t.PriorityQueue.make();for(h.push(r,0);!h.empty();)for(s in l=(a=h.pop()).value,u=a.cost,c=e[l]||{})c.hasOwnProperty(s)&&(d=u+c[s],p=i[s],(void 0===i[s]||p>d)&&(i[s]=d,h.push(s,d),o[s]=l));if(void 0!==n&&void 0===i[n]){var f=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(f)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var o=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,o={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(o[r]=n[r]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},9049:e=>{"use strict";e.exports=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319&&r>n+1){var i=e.charCodeAt(n+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,n+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},655:(e,t,r)=>{"use strict";var n=r(453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},9675:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},2849:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var n,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(n in e);return void 0===n||t.call(e,n)},l=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},s=function(e,r){if("__proto__"===r){if(!t.call(e,r))return;if(o)return o(e,r).value}return e[r]};e.exports=function e(){var t,r,n,o,u,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(r in t)n=s(d,r),d!==(o=s(t,r))&&(f&&o&&(a(o)||(u=i(o)))?(u?(u=!1,c=n&&i(n)?n:[]):c=n&&a(n)?n:{},l(d,{name:r,newValue:e(f,c,o)})):void 0!==o&&l(d,{name:r,newValue:o}));return d}},5606:e=>{var t=-1,r=1,n=0;function o(e,u,d){if(e==u)return e?[[n,e]]:[];(d<0||e.length<d)&&(d=null);var p=a(e,u),h=e.substring(0,p);p=l(e=e.substring(p),u=u.substring(p));var f=e.substring(e.length-p),y=function(e,s){var u;if(!e)return[[r,s]];if(!s)return[[t,e]];var c=e.length>s.length?e:s,d=e.length>s.length?s:e,p=c.indexOf(d);if(-1!=p)return u=[[r,c.substring(0,p)],[n,d],[r,c.substring(p+d.length)]],e.length>s.length&&(u[0][0]=u[2][0]=t),u;if(1==d.length)return[[t,e],[r,s]];var h=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,s,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=a(e.substring(r),t.substring(c)),h=l(e.substring(0,r),t.substring(0,c));d.length<h+p&&(d=t.substring(c-h,c)+t.substring(c,c+p),n=e.substring(0,r-h),o=e.substring(r+p),i=t.substring(0,c-h),s=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,s,d]:null}var i,s,u,c,d,p=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return p||h?(i=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(s=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],s=i[2],u=i[3]),[s,u,c,d,i[4]]):null}(e,s);if(h){var f=h[0],y=h[1],m=h[2],g=h[3],b=h[4],v=o(f,m),_=o(y,g);return v.concat([[n,b]],_)}return function(e,n){for(var o=e.length,a=n.length,l=Math.ceil((o+a)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var h=o-a,f=h%2!=0,y=0,m=0,g=0,b=0,v=0;v<l;v++){for(var _=-v+y;_<=v-m;_+=2){for(var w=s+_,E=(S=_==-v||_!=v&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-_;S<o&&E<a&&e.charAt(S)==n.charAt(E);)S++,E++;if(c[w]=S,S>o)m+=2;else if(E>a)y+=2;else if(f&&(k=s+h-_)>=0&&k<u&&-1!=d[k]&&S>=(x=o-d[k]))return i(e,n,S,E)}for(var I=-v+g;I<=v-b;I+=2){for(var x,k=s+I,C=(x=I==-v||I!=v&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-I;x<o&&C<a&&e.charAt(o-x-1)==n.charAt(a-C-1);)x++,C++;if(d[k]=x,x>o)b+=2;else if(C>a)g+=2;else if(!f){var S;if((w=s+h-I)>=0&&w<u&&-1!=c[w])if(E=s+(S=c[w])-w,S>=(x=o-x))return i(e,n,S,E)}}}return[[t,e],[r,n]]}(e,s)}(e=e.substring(0,e.length-p),u=u.substring(0,u.length-p));return h&&y.unshift([n,h]),f&&y.push([n,f]),s(y),null!=d&&(y=function(e,r){var o=function(e,r){if(0===r)return[n,e];for(var o=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===t||a[0]===n){var l=o+a[1].length;if(r===l)return[i+1,e];if(r<l){e=e.slice();var s=r-o,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}o=l}}throw new Error("cursor_pos is out of bounds!")}(e,r),i=o[1],a=o[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==n)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),c(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),c(i,a,3)}return e}(y,d)),function(e){for(var o=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===n&&((l=e[a-2][1]).charCodeAt(l.length-1)>=55296&&l.charCodeAt(l.length-1)<=56319)&&e[a-1][0]===t&&i(e[a-1][1])&&e[a][0]===r&&i(e[a][1])&&(o=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var l;if(!o)return e;var s=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&s.push(e[a]);return s}(y)}function i(e,t,r,n){var i=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=o(i,a),c=o(l,s);return u.concat(c)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e){e.push([n,""]);for(var o,i=0,u=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case r:c++,p+=e[i][1],i++;break;case t:u++,d+=e[i][1],i++;break;case n:u+c>1?(0!==u&&0!==c&&(0!==(o=a(p,d))&&(i-u-c>0&&e[i-u-c-1][0]==n?e[i-u-c-1][1]+=p.substring(0,o):(e.splice(0,0,[n,p.substring(0,o)]),i++),p=p.substring(o),d=d.substring(o)),0!==(o=l(p,d))&&(e[i][1]=p.substring(p.length-o)+e[i][1],p=p.substring(0,p.length-o),d=d.substring(0,d.length-o))),0===u?e.splice(i-c,u+c,[r,p]):0===c?e.splice(i-u,u+c,[t,d]):e.splice(i-u-c,u+c,[t,d],[r,p]),i=i-u-c+(u?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==n?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,u=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var h=!1;for(i=1;i<e.length-1;)e[i-1][0]==n&&e[i+1][0]==n&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),h=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),h=!0)),i++;h&&s(e)}var u=o;function c(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}u.INSERT=r,u.DELETE=t,u.EQUAL=n,e.exports=u},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var r=[],n=1,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments),l=r(0,o.length-a.length),s=[],u=0;u<l;u++)s[u]="$"+u;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=",");return r}(s)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(a,arguments));return Object(t)===t?t:this}return o.apply(e,n(a,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i}},6743:(e,t,r)=>{"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},4462:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},453:(e,t,r)=>{"use strict";var n,o=r(9383),i=r(1237),a=r(9290),l=r(9538),s=r(8068),u=r(9675),c=r(5345),d=Function,p=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var f=function(){throw new u},y=h?function(){try{return f}catch(e){try{return h(arguments,"callee").get}catch(e){return f}}}():f,m=r(4039)(),g=r(24)(),b=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),v={},_="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&b?b((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&b?b((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&b?b(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":s,"%ThrowTypeError%":y,"%TypedArray%":_,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(e){var E=b(b(e));w["%Error.prototype%"]=E}var I=function e(t){var r;if("%AsyncFunction%"===t)r=p("async function () {}");else if("%GeneratorFunction%"===t)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=p("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&b&&(r=b(o.prototype))}return w[t]=r,r},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=r(6743),C=r(9957),S=k.call(Function.call,Array.prototype.concat),P=k.call(Function.apply,Array.prototype.splice),O=k.call(Function.call,String.prototype.replace),A=k.call(Function.call,String.prototype.slice),D=k.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,j=function(e,t){var r,n=e;if(C(x,n)&&(n="%"+(r=x[n])[0]+"%"),C(w,n)){var o=w[n];if(o===v&&(o=I(n)),void 0===o&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===D(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,T,(function(e,t,r,o){n[n.length]=r?O(o,L,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=j("%"+n+"%",t),i=o.name,a=o.value,l=!1,c=o.alias;c&&(n=c[0],P(r,S([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],y=A(f,0,1),m=A(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new s("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),C(w,i="%"+(n+="."+f)+"%"))a=w[i];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&d+1>=r.length){var g=h(a,f);a=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[f]}else p=C(a,f),a=a[f];p&&!l&&(w[i]=a)}}return a}},5795:(e,t,r)=>{"use strict";var n=r(453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},592:(e,t,r)=>{"use strict";var n=r(655),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},24:e=>{"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},4039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(3714);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},3714:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},9092:(e,t,r)=>{"use strict";var n=r(3714);e.exports=function(){return n()&&!!Symbol.toStringTag}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(6743);e.exports=i.call(n,o)},7244:(e,t,r)=>{"use strict";var n=r(9092)(),o=r(456)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},l=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=l?i:a},2120:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(9092)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},4035:(e,t,r)=>{"use strict";var n,o,i,a,l=r(456),s=r(9092)();if(s){n=l("Object.prototype.hasOwnProperty"),o=l("RegExp.prototype.exec"),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=l("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!=typeof e)return!1;var t=d(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c(e)}},6129:(e,t,r)=>{"use strict";var n=p(r(9368)),o=p(r(1490)),i=p(r(8165)),a=p(r(3623)),l=p(r(8179)),s=p(r(9796)),u=p(r(4205)),c=r(8157),d=p(r(5099));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){},f=function(e,t,r){var n=new h;if(void 0===e)throw Error("No element to render on was provided.");return n._renderProperties=(0,l.default)(e),n._encodings=[],n._options=d.default,n._errorHandler=new u.default(n),void 0!==t&&((r=r||{}).format||(r.format=b()),n.options(r)[r.format](t,r).render()),n};for(var y in f.getModule=function(e){return n.default[e]},n.default)n.default.hasOwnProperty(y)&&m(n.default,y);function m(e,t){h.prototype[t]=h.prototype[t.toUpperCase()]=h.prototype[t.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall((function(){n.text=void 0===n.text?void 0:""+n.text;var a=(0,o.default)(i._options,n);a=(0,s.default)(a);var l=e[t],u=g(r,l,a);return i._encodings.push(u),i}))}}function g(e,t,r){var n=new t(e=""+e,r);if(!n.valid())throw new c.InvalidInputException(n.constructor.name,e);var a=n.encode();a=(0,i.default)(a);for(var l=0;l<a.length;l++)a[l].options=(0,o.default)(r,a[l].options);return a}function b(){return n.default.CODE128?"CODE128":Object.keys(n.default)[0]}function v(e,t,r){t=(0,i.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,o.default)(r,t[n].options),(0,a.default)(t[n].options);(0,a.default)(r),new(0,e.renderer)(e.element,t,r).render(),e.afterRender&&e.afterRender()}h.prototype.options=function(e){return this._options=(0,o.default)(this._options,e),this},h.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},h.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){e=this._renderProperties[t];var r=(0,o.default)(this._options,e.options);"auto"==r.format&&(r.format=b()),this._errorHandler.wrapBarcodeCall((function(){var t=g(r.value,n.default[r.format.toUpperCase()],r);v(e,t,r)}))}},h.prototype.render=function(){if(!this._renderProperties)throw new c.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)v(this._renderProperties[e],this._encodings,this._options);else v(this._renderProperties,this._encodings,this._options);return this},h.prototype._defaults=d.default,"undefined"!=typeof window&&(window.JsBarcode=f),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each((function(){r.push(this)})),f(r,e,t)}),e.exports=f},2444:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=r.text||t,this.options=r}},3651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(2444))&&n.__esModule?n:{default:n},a=r(2700),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),r));return n.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=a.SET_BY_CODE[r];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(a.FNC1);var o=t.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(r)+o.result+t.getBar((o.checksum+r)%a.MODULO)+t.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return a.BARS[e]?a.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===a.SET_A){var r=e.shift();return r<32?r+64:r-32}return t===a.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var o=void 0,i=void 0;if(e[0]>=200){i=e.shift()-105;var l=a.SWAP[i];void 0!==l?o=t.next(e,r+1,l):(n!==a.SET_A&&n!==a.SET_B||i!==a.SHIFT||(e[0]=n===a.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),o=t.next(e,r+1,n))}else i=t.correctIndex(e,n),o=t.next(e,r+1,n);var s=i*r;return{result:t.getBar(i)+o.result,checksum:s+o.checksum}}}]),t}(i.default);t.default=l},3804:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(3651))&&n.__esModule?n:{default:n},a=r(2700),l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.A_START_CHAR+e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=l},3541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(3651))&&n.__esModule?n:{default:n},a=r(2700),l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.B_START_CHAR+e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=l},5798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(3651))&&n.__esModule?n:{default:n},a=r(2700),l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.C_START_CHAR+e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),t}(i.default);t.default=l},4845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(3651)),o=i(r(4802));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(e,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,o.default)(e),r));else n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a(n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);t.default=l},4802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2700),o=function(e){return e.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},i=function(e){return e.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},a=function(e){return e.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function l(e,t){var r=t?n.A_CHARS:n.B_CHARS,o=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+String.fromCharCode(204)+s(e.substring(o[1].length));var i=e.match(new RegExp("^"+r+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+l(e.substring(i.length),!t)}function s(e){var t=a(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=o(e)>=i(e);return t+String.fromCharCode(n?206:205)+l(e,n)}t.default=function(e){var t=void 0;if(a(e).length>=2)t=n.C_START_CHAR+s(e);else{var r=o(e)>i(e);t=(r?n.A_START_CHAR:n.B_START_CHAR)+l(e,r)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},2700:(e,t)=>{"use strict";var r;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=t.SET_A=0,i=t.SET_B=1,a=t.SET_C=2,l=(t.SHIFT=98,t.START_A=103),s=t.START_B=104,u=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(n(r={},l,o),n(r,s,i),n(r,u,a),r),t.SWAP={101:o,100:i,99:a},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_È-Ï]",t.B_CHARS="[ -È-Ï]",t.C_CHARS="(Ï*[0-9]{2}Ï*)",t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var n=l(r(4845)),o=l(r(3804)),i=l(r(3541)),a=l(r(5798));function l(e){return e&&e.__esModule?e:{default:e}}t.CODE128=n.default,t.CODE128A=o.default,t.CODE128B=i.default,t.CODE128C=a.default},1428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),r.mod43&&(e+=function(e){return a[e]}(function(e){for(var t=0,r=0;r<e.length;r++)t+=u(e[r]);return t%43}(e))),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"encode",value:function(){for(var e=s("*"),t=0;t<this.data.length;t++)e+=s(this.data[t])+"0";return{data:e+=s("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],l=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function s(e){return function(e){return l[e].toString(2)}(u(e))}function u(e){return a.indexOf(e)}t.CODE39=i},4754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6575),i=a(r(6350));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.fontSize=!r.flat&&r.fontSize>10*r.width?10*r.width:r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,i.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,i.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:o.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:o.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:o.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[o.SIDE_BIN,this.leftEncode(),o.MIDDLE_BIN,this.rightEncode(),o.SIDE_BIN].join(""),text:this.text}}}]),t}(a(r(2444)).default);t.default=l},4250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6575),l=(n=r(4754))&&n.__esModule?n:{default:n},s=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+3*t:e+t}),0)%10)%10},u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=s(e));var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastChar=r.lastChar,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===s(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),r=a.EAN13_STRUCTURE[this.data[0]];return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,r)}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(l.default);t.default=u},7570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6575),i=a(r(6350));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=o.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,i.default)(this.data,e,"01"),text:this.text}}}]),t}(a(r(2444)).default);t.default=l},8075:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(6575),i=a(r(6350));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=o.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,i.default)(this.data,t,"01"),text:this.text}}}]),t}(a(r(2444)).default);t.default=l},8784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=(n=r(4754))&&n.__esModule?n:{default:n},l=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,r){return r%2?e+t:e+3*t}),0)%10)%10},s=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=l(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===l(this.data)}},{key:"leftText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(a.default);t.default=s},7960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.checksum=l;var o=i(r(6350));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=l(e));var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==l(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,o.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,o.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,o.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,o.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,o.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,o.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(i(r(2444)).default);function l(e){var t,r=0;for(t=1;t<11;t+=2)r+=parseInt(e[t]);for(t=0;t<11;t+=2)r+=3*parseInt(e[t]);return(10-r%10)%10}t.default=a},3781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(6350)),i=l(r(2444)),a=r(7960);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(n.isValid=!1,-1!==e.search(/^[0-9]{6}$/))n.middleDigits=e,n.upcA=p(e,"0"),n.text=r.text||""+n.upcA[0]+e+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return s(n);if(n.middleDigits=e.substring(1,e.length-1),n.upcA=p(n.middleDigits,e[0]),n.upcA[n.upcA.length-1]!==e[e.length-1])return s(n);n.isValid=!0}return n.displayValue=r.displayValue,r.fontSize>10*r.width?n.fontSize=10*r.width:n.fontSize=r.fontSize,n.guardHeight=r.height+n.fontSize/2+r.textMargin,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=this.upcA[this.upcA.length-1],r=c[parseInt(t)][parseInt(e)];return(0,o.default)(this.middleDigits,r)}}]),t}(i.default);function p(e,t){for(var r=parseInt(e[e.length-1]),n=u[r],o="",i=0,l=0;l<n.length;l++){var s=n[l];o+="X"===s?e[i++]:s}return(o=""+t+o)+(0,a.checksum)(o)}t.default=d},6575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},6350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6575);t.default=function(e,t,r){var o=e.split("").map((function(e,r){return n.BINARIES[t[r]]})).map((function(t,r){return t?t[e[r]]:""}));if(r){var i=e.length-1;o=o.map((function(e,t){return t<i?e+r:e}))}return o.join("")}},5726:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var n=u(r(4250)),o=u(r(8784)),i=u(r(8075)),a=u(r(7570)),l=u(r(7960)),s=u(r(3781));function u(e){return e&&e.__esModule?e:{default:e}}t.EAN13=n.default,t.EAN8=o.default,t.EAN5=i.default,t.EAN2=a.default,t.UPC=l.default,t.UPCE=s.default},1886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default);t.GenericBarcode=i},739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1135),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:i.START_BIN+t+i.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=i.BINARIES[e[1]];return i.BINARIES[e[0]].split("").map((function(e,r){return("1"===e?"111":"1")+("1"===t[r]?"000":"0")})).join("")}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default);t.default=a},8122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(739))&&n.__esModule?n:{default:n},a=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,r){return e+t*(3-r%2*2)}),0);return 10*Math.ceil(t/10)-t},l=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=a(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===a(this.data)}}]),t}(i.default);t.default=l},1135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var n=i(r(739)),o=i(r(8122));function i(e){return e&&e.__esModule?e:{default:e}}t.ITF=n.default,t.ITF14=o.default},3551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var r=parseInt(this.data[t]).toString(2);r=a(r,4-r.length);for(var n=0;n<r.length;n++)e+="0"==r[n]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default);function a(e,t){for(var r=0;r<t;r++)e="0"+e;return e}t.default=i},6338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(3551))&&n.__esModule?n:{default:n},i=r(6320),a=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod10)(e),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=a},23:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(3551))&&n.__esModule?n:{default:n},i=r(6320),a=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,i.mod10)(e),e+=(0,i.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=a},6065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(3551))&&n.__esModule?n:{default:n},i=r(6320),a=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,i.mod11)(e),r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=a},7052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(3551))&&n.__esModule?n:{default:n},i=r(6320),a=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,i.mod11)(e),e+=(0,i.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default);t.default=a},6320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=function(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2==0?t+=n:t+=2*n%10+Math.floor(2*n/10)}return(10-t%10)%10},t.mod11=function(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var o=parseInt(e[e.length-1-n]);t+=r[n%r.length]*o}return(11-t%11)%11}},8248:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var n=s(r(3551)),o=s(r(6338)),i=s(r(6065)),a=s(r(23)),l=s(r(7052));function s(e){return e&&e.__esModule?e:{default:e}}t.MSI=n.default,t.MSI10=o.default,t.MSI11=i.default,t.MSI1010=a.default,t.MSI1110=l.default},1133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),r));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),r=0;r<this.data.length;r++)e.push(t[this.data.charAt(r)]),r!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default);t.codabar=i},9368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1428),o=r(1509),i=r(5726),a=r(5070),l=r(8248),s=r(2889),u=r(1133),c=r(1886);t.default={CODE39:n.CODE39,CODE128:o.CODE128,CODE128A:o.CODE128A,CODE128B:o.CODE128B,CODE128C:o.CODE128C,EAN13:i.EAN13,EAN8:i.EAN8,EAN5:i.EAN5,EAN2:i.EAN2,UPC:i.UPC,UPCE:i.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:l.MSI,MSI10:l.MSI10,MSI11:l.MSI11,MSI1010:l.MSI1010,MSI1110:l.MSI1110,pharmacode:s.pharmacode,codabar:u.codabar,GenericBarcode:c.GenericBarcode}},2889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.number=parseInt(e,10),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2==0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(((n=r(2444))&&n.__esModule?n:{default:n}).default);t.pharmacode=i},4205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return r(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(e){return this.handleCatch(e),this.api}}}]),e}();t.default=n},8157:(e,t)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(e,o){r(this,t);var i=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="InvalidInputException",i.symbology=e,i.input=o,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return o(t,Error),t}(),a=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return o(t,Error),t}(),l=function(e){function t(){r(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return o(t,Error),t}();t.InvalidInputException=i,t.InvalidElementException=a,t.NoElementException=l},3623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(9796)),o=i(r(5099));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};for(var r in o.default)o.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),(0,n.default)(t)}},8179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=l(r(892)),i=l(r(2727)),a=r(8157);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t){if("string"==typeof t)return function(t){var r=document.querySelectorAll(t);if(0!==r.length){for(var n=[],o=0;o<r.length;o++)n.push(e(r[o]));return n}}(t);if(Array.isArray(t)){for(var r=[],l=0;l<t.length;l++)r.push(e(t[l]));return r}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return s=t,{element:u=document.createElement("canvas"),options:(0,o.default)(s),renderer:i.default.CanvasRenderer,afterRender:function(){s.setAttribute("src",u.toDataURL())}};if(t&&t.nodeName&&"svg"===t.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,o.default)(t),renderer:i.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,o.default)(t),renderer:i.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:i.default.CanvasRenderer};if(t&&"object"===(void 0===t?"undefined":n(t))&&!t.nodeName)return{element:t,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException;var s,u}},8165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return function e(r){if(Array.isArray(r))for(var n=0;n<r.length;n++)e(r[n]);else r.text=r.text||"",r.data=r.data||"",t.push(r)}(e),t}},1490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e,t){return r({},e,t)}},9796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&"string"==typeof e[r=t[r]]&&(e[r]=parseInt(e[r],10));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},5099:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(1490))&&n.__esModule?n:{default:n},a=r(6258),l=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=r,this.options=n}return o(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,i.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,a.getTotalWidthOfEncodings)(this.encodings),r=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var r,n=this.canvas.getContext("2d"),o=t.data;r="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,n.fillStyle=e.lineColor;for(var i=0;i<o.length;i++){var a=i*e.width+t.barcodePadding;"1"===o[i]?n.fillRect(a,r,e.width,e.height):o[i]&&n.fillRect(a,r,e.width,e.height*o[i])}}},{key:"drawCanvasText",value:function(e,t){var r,n,o=this.canvas.getContext("2d"),i=e.fontOptions+" "+e.fontSize+"px "+e.font;e.displayValue&&(n="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,o.font=i,"left"==e.textAlign||t.barcodePadding>0?(r=0,o.textAlign="left"):"right"==e.textAlign?(r=t.width-1,o.textAlign="right"):(r=t.width/2,o.textAlign="center"),o.fillText(t.text,r,n))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();t.default=l},2727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1687)),o=a(r(5965)),i=a(r(3528));function a(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:n.default,SVGRenderer:o.default,ObjectRenderer:i.default}},3528:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=r,this.options=n}return r(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=n},6258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var n,o=(n=r(1490))&&n.__esModule?n:{default:n};function i(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function a(e,t,r){if(r.displayValue&&t<e){if("center"==r.textAlign)return Math.floor((e-t)/2);if("left"==r.textAlign)return 0;if("right"==r.textAlign)return Math.floor(e-t)}return 0}function l(e,t,r){var n;if(r)n=r;else{if("undefined"==typeof document)return 0;n=document.createElement("canvas").getContext("2d")}n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var o=n.measureText(e);return o?o.width:0}t.getMaximumHeightOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t},t.getEncodingHeight=i,t.getBarcodePadding=a,t.calculateEncodingAttributes=function(e,t,r){for(var n=0;n<e.length;n++){var s,u=e[n],c=(0,o.default)(t,u.options);s=c.displayValue?l(u.text,c,r):0;var d=u.data.length*c.width;u.width=Math.ceil(Math.max(s,d)),u.height=i(u,c),u.barcodePadding=a(s,d,c)}},t.getTotalWidthOfEncodings=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}},5965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(1490))&&n.__esModule?n:{default:n},a=r(6258),l="http://www.w3.org/2000/svg",s=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return o(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var r=this.encodings[t],n=(0,i.default)(this.options,r.options),o=this.createGroup(e,n.marginTop,this.svg);this.setGroupOptions(o,n),this.drawSvgBarcode(o,n,r),this.drawSVGText(o,n,r),e+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,a.getTotalWidthOfEncodings)(this.encodings),t=(0,a.getMaximumHeightOfEncodings)(this.encodings),r=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,t),this.options.background&&this.drawRect(0,0,r,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,r){var n,o=r.data;n="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var i=0,a=0,l=0;l<o.length;l++)a=l*t.width+r.barcodePadding,"1"===o[l]?i++:i>0&&(this.drawRect(a-t.width*i,n,t.width*i,t.height,e),i=0);i>0&&this.drawRect(a-t.width*(i-1),n,t.width*i,t.height,e)}},{key:"drawSVGText",value:function(e,t,r){var n,o,i=this.document.createElementNS(l,"text");t.displayValue&&(i.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),o="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||r.barcodePadding>0?(n=0,i.setAttribute("text-anchor","start")):"right"==t.textAlign?(n=r.width-1,i.setAttribute("text-anchor","end")):(n=r.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",n),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(r.text)),e.appendChild(i))}},{key:"setSvgAttributes",value:function(e,t){var r=this.svg;r.setAttribute("width",e+"px"),r.setAttribute("height",t+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+e+" "+t),r.setAttribute("xmlns",l),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,r){var n=this.document.createElementNS(l,"g");return n.setAttribute("transform","translate("+e+", "+t+")"),r.appendChild(n),n}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,r,n,o){var i=this.document.createElementNS(l,"rect");return i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",r),i.setAttribute("height",n),o.appendChild(i),i}}]),e}();t.default=s},9211:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},7653:(e,t,r)=>{"use strict";var n=r(8452),o=r(487),i=r(9211),a=r(9394),l=r(6576),s=o(a(),Object);n(s,{getPolyfill:a,implementation:i,shim:l}),e.exports=s},9394:(e,t,r)=>{"use strict";var n=r(9211);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},6576:(e,t,r)=>{"use strict";var n=r(9394),o=r(8452);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8875:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(1093),l=Object.prototype.propertyIsEnumerable,s=!l.call({toString:null},"toString"),u=l.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),l=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=u&&r;if(l&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)p.push(String(y));if(n&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)f&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(s)for(var b=function(e){if("undefined"==typeof window||!h)return d(e);try{return d(e)}catch(e){return!1}}(e),v=0;v<c.length;++v)b&&"constructor"===c[v]||!o.call(e,c[v])||p.push(c[v]);return p}}e.exports=n},1189:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1093),i=Object.keys,a=i?function(e){return i(e)}:r(8875),l=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?l(n.call(e)):l(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},7583:(e,t,r)=>{const n=r(1333),o=r(157),i=r(7899),a=r(6756);function l(e,t,r,i,a){const l=[].slice.call(arguments,1),s=l.length,u="function"==typeof l[s-1];if(!u&&!n())throw new Error("Callback required as last argument");if(!u){if(s<1)throw new Error("Too few arguments provided");return 1===s?(r=t,t=i=void 0):2!==s||t.getContext||(i=r,r=t,t=void 0),new Promise((function(n,a){try{const a=o.create(r,i);n(e(a,t,i))}catch(e){a(e)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(a=r,r=t,t=i=void 0):3===s&&(t.getContext&&void 0===a?(a=i,i=void 0):(a=i,i=r,r=t,t=void 0));try{const n=o.create(r,i);a(null,e(n,t,i))}catch(e){a(e)}}t.create=o.create,t.toCanvas=l.bind(null,i.render),t.toDataURL=l.bind(null,i.renderToDataURL),t.toString=l.bind(null,(function(e,t,r){return a.render(e,r)}))},1333:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421:(e,t,r)=>{const n=r(6886).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,r=n(e),o=145===r?26:2*Math.ceil((r-13)/(2*t-2)),i=[r-7];for(let e=1;e<t-1;e++)i[e]=i[e-1]-o;return i.push(6),i.reverse()},t.getPositions=function(e){const r=[],n=t.getRowColCoords(e),o=n.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||r.push([n[e],n[t]]);return r}},1433:(e,t,r)=>{const n=r(208),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=n.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*o.indexOf(this.data[t]);r+=o.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=i},9899:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},8820:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){const o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},5822:(e,t,r)=>{const n=r(9049),o=r(208);function i(e){this.mode=o.BYTE,"string"==typeof e&&(e=n(e)),this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=i},7518:(e,t,r)=>{const n=r(9953),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return}}},9953:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}},7756:(e,t,r)=>{const n=r(6886).getSymbolSize;t.getPositions=function(e){const t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},4565:(e,t,r)=>{const n=r(6886),o=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;n.getBCHDigit(i)-o>=0;)i^=1335<<n.getBCHDigit(i)-o;return 21522^(r<<10|i)}},2731:(e,t)=>{const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},4861:(e,t,r)=>{const n=r(208),o=r(6886);function i(e){this.mode=n.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=o.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=i},1332:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,n=0,o=0,i=null,a=null;for(let l=0;l<t;l++){n=o=0,i=a=null;for(let s=0;s<t;s++){let t=e.get(l,s);t===i?n++:(n>=5&&(r+=n-5+3),i=t,n=1),t=e.get(s,l),t===a?o++:(o>=5&&(r+=o-5+3),a=t,o=1)}n>=5&&(r+=n-5+3),o>=5&&(r+=o-5+3)}return r},t.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){const t=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==t&&0!==t||r++}return 3*r},t.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,o=0;for(let i=0;i<t;i++){n=o=0;for(let a=0;a<t;a++)n=n<<1&2047|e.get(i,a),a>=10&&(1488===n||93===n)&&r++,o=o<<1&2047|e.get(a,i),a>=10&&(1488===o||93===o)&&r++}return 40*r},t.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/r/5)-10)},t.applyMask=function(e,t){const n=t.size;for(let o=0;o<n;o++)for(let i=0;i<n;i++)t.isReserved(i,o)||t.xor(i,o,r(e,i,o))},t.getBestMask=function(e,r){const n=Object.keys(t.Patterns).length;let o=0,i=1/0;for(let a=0;a<n;a++){r(a),t.applyMask(a,e);const n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),n<i&&(i=n,o=a)}return o}},208:(e,t,r)=>{const n=r(1878),o=r(7044);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return r}}},4357:(e,t,r)=>{const n=r(208);function o(e){this.mode=n.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const o=this.data.length-t;o>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*o+1))},e.exports=o},4713:(e,t,r)=>{const n=r(2731);t.mul=function(e,t){const r=new Uint8Array(e.length+t.length-1);for(let o=0;o<e.length;o++)for(let i=0;i<t.length;i++)r[o+i]^=n.mul(e[o],t[i]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){const e=r[0];for(let o=0;o<t.length;o++)r[o]^=n.mul(t[o],e);let o=0;for(;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let o=0;o<e;o++)r=t.mul(r,new Uint8Array([1,n.exp(o)]));return r}},157:(e,t,r)=>{const n=r(6886),o=r(9953),i=r(9899),a=r(8820),l=r(6421),s=r(7756),u=r(1332),c=r(7518),d=r(4764),p=r(1427),h=r(4565),f=r(208),y=r(9801);function m(e,t,r){const n=e.size,o=h.getEncodedBits(t,r);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(n-15+i,8,a,!0),i<8?e.set(8,n-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(n-8,8,1,!0)}function g(e,t,r,o){let h;if(Array.isArray(e))h=y.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=y.rawSplit(e);n=p.getBestVersionForData(t,r)}h=y.fromString(e,n||40)}}const g=p.getBestVersionForData(h,r);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<g)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+g+".\n")}else t=g;const b=function(e,t,r){const o=new i;r.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(o)}));const a=8*(n.getSymbolTotalCodewords(e)-c.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const l=(a-o.getLengthInBits())/8;for(let e=0;e<l;e++)o.put(e%2?17:236,8);return function(e,t,r){const o=n.getSymbolTotalCodewords(t),i=o-c.getTotalCodewordsCount(t,r),a=c.getBlocksCount(t,r),l=a-o%a,s=Math.floor(o/a),u=Math.floor(i/a),p=u+1,h=s-u,f=new d(h);let y=0;const m=new Array(a),g=new Array(a);let b=0;const v=new Uint8Array(e.buffer);for(let e=0;e<a;e++){const t=e<l?u:p;m[e]=v.slice(y,y+t),g[e]=f.encode(m[e]),y+=t,b=Math.max(b,t)}const _=new Uint8Array(o);let w,E,I=0;for(w=0;w<b;w++)for(E=0;E<a;E++)w<m[E].length&&(_[I++]=m[E][w]);for(w=0;w<h;w++)for(E=0;E<a;E++)_[I++]=g[E][w];return _}(o,e,t)}(t,r,h),v=n.getSymbolSize(t),_=new a(v);return function(e,t){const r=e.size,n=s.getPositions(t);for(let t=0;t<n.length;t++){const o=n[t][0],i=n[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||r<=o+t))for(let n=-1;n<=7;n++)i+n<=-1||r<=i+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(o+t,i+n,!0,!0):e.set(o+t,i+n,!1,!0))}}(_,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(_),function(e,t){const r=l.getPositions(t);for(let t=0;t<r.length;t++){const n=r[t][0],o=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,o+r,!0,!0):e.set(n+t,o+r,!1,!0)}}(_,t),m(_,r,0),t>=7&&function(e,t){const r=e.size,n=p.getEncodedBits(t);let o,i,a;for(let t=0;t<18;t++)o=Math.floor(t/3),i=t%3+r-8-3,a=1==(n>>t&1),e.set(o,i,a,!0),e.set(i,o,a,!0)}(_,t),function(e,t){const r=e.size;let n=-1,o=r-1,i=7,a=0;for(let l=r-1;l>0;l-=2)for(6===l&&l--;;){for(let r=0;r<2;r++)if(!e.isReserved(o,l-r)){let n=!1;a<t.length&&(n=1==(t[a]>>>i&1)),e.set(o,l-r,n),i--,-1===i&&(a++,i=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}(_,b),isNaN(o)&&(o=u.getBestMask(_,m.bind(null,_,r))),u.applyMask(o,_),m(_,r,o),{modules:_,version:t,errorCorrectionLevel:r,maskPattern:o,segments:h}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let r,i,a=o.M;return void 0!==t&&(a=o.from(t.errorCorrectionLevel,o.M),r=p.from(t.version),i=u.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),g(e,r,a,i)}},4764:(e,t,r)=>{const n=r(4713);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=n.mod(t,this.genPoly),o=this.degree-r.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(r,o),e}return r},e.exports=o},7044:(e,t)=>{const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(r,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+r+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return l.test(e)}},9801:(e,t,r)=>{const n=r(208),o=r(4357),i=r(1433),a=r(5822),l=r(4861),s=r(7044),u=r(6886),c=r(3939);function d(e){return unescape(encodeURIComponent(e)).length}function p(e,t,r){const n=[];let o;for(;null!==(o=e.exec(r));)n.push({data:o[0],index:o.index,mode:t,length:o[0].length});return n}function h(e){const t=p(s.NUMERIC,n.NUMERIC,e),r=p(s.ALPHANUMERIC,n.ALPHANUMERIC,e);let o,i;return u.isKanjiModeEnabled()?(o=p(s.BYTE,n.BYTE,e),i=p(s.KANJI,n.KANJI,e)):(o=p(s.BYTE_KANJI,n.BYTE,e),i=[]),t.concat(r,o,i).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function f(e,t){switch(t){case n.NUMERIC:return o.getBitsLength(e);case n.ALPHANUMERIC:return i.getBitsLength(e);case n.KANJI:return l.getBitsLength(e);case n.BYTE:return a.getBitsLength(e)}}function y(e,t){let r;const s=n.getBestModeForData(e);if(r=n.from(t,s),r!==n.BYTE&&r.bit<s.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(s));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new o(e);case n.ALPHANUMERIC:return new i(e);case n.KANJI:return new l(e);case n.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(y(t,null)):t.data&&e.push(y(t.data,t.mode)),e}),[])},t.fromString=function(e,r){const o=function(e){const t=[];for(let r=0;r<e.length;r++){const o=e[r];switch(o.mode){case n.NUMERIC:t.push([o,{data:o.data,mode:n.ALPHANUMERIC,length:o.length},{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.ALPHANUMERIC:t.push([o,{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.KANJI:t.push([o,{data:o.data,mode:n.BYTE,length:d(o.data)}]);break;case n.BYTE:t.push([{data:o.data,mode:n.BYTE,length:d(o.data)}])}}return t}(h(e,u.isKanjiModeEnabled())),i=function(e,t){const r={},o={start:{}};let i=["start"];for(let a=0;a<e.length;a++){const l=e[a],s=[];for(let e=0;e<l.length;e++){const u=l[e],c=""+a+e;s.push(c),r[c]={node:u,lastCount:0},o[c]={};for(let e=0;e<i.length;e++){const a=i[e];r[a]&&r[a].node.mode===u.mode?(o[a][c]=f(r[a].lastCount+u.length,u.mode)-f(r[a].lastCount,u.mode),r[a].lastCount+=u.length):(r[a]&&(r[a].lastCount=u.length),o[a][c]=f(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,t))}}i=s}for(let e=0;e<i.length;e++)o[i[e]].end=0;return{map:o,table:r}}(o,r),a=c.find_path(i.map,"start","end"),l=[];for(let e=1;e<a.length-1;e++)l.push(i.table[a[e]].node);return t.fromArray(l.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[]))},t.rawSplit=function(e){return t.fromArray(h(e,u.isKanjiModeEnabled()))}},6886:(e,t)=>{let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},1878:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1427:(e,t,r)=>{const n=r(6886),o=r(7518),i=r(9953),a=r(208),l=r(1878),s=n.getBCHDigit(7973);function u(e,t){return a.getCharCountIndicator(e,t)+4}function c(e,t){let r=0;return e.forEach((function(e){const n=u(e.mode,t);r+=n+e.getBitsLength()})),r}t.from=function(e,t){return l.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!l.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=a.BYTE);const i=8*(n.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(r===a.MIXED)return i;const s=i-u(r,e);switch(r){case a.NUMERIC:return Math.floor(s/10*3);case a.ALPHANUMERIC:return Math.floor(s/11*2);case a.KANJI:return Math.floor(s/13);case a.BYTE:default:return Math.floor(s/8)}},t.getBestVersionForData=function(e,r){let n;const o=i.from(r,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(let n=1;n<=40;n++)if(c(e,n)<=t.getCapacity(n,r,a.MIXED))return n}(e,o);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let o=1;o<=40;o++)if(r<=t.getCapacity(o,n,e))return o}(n.mode,n.getLength(),o)},t.getEncodedBits=function(e){if(!l.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-s>=0;)t^=7973<<n.getBCHDigit(t)-s;return e<<12|t}},7899:(e,t,r)=>{const n=r(2726);t.render=function(e,t,r){let o=r,i=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=n.getOptions(o);const a=n.getImageWidth(e.modules.size,o),l=i.getContext("2d"),s=l.createImageData(a,a);return n.qrToImageData(s.data,e,o),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(l,i,a),l.putImageData(s,0,0),i},t.renderToDataURL=function(e,r,n){let o=n;void 0!==o||r&&r.getContext||(o=r,r=void 0),o||(o={});const i=t.render(e,r,o),a=o.type||"image/png",l=o.rendererOpts||{};return i.toDataURL(a,l.quality)}},6756:(e,t,r)=>{const n=r(2726);function o(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function i(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){const a=n.getOptions(t),l=e.modules.size,s=e.modules.data,u=l+2*a.margin,c=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",d="<path "+o(a.color.dark,"stroke")+' d="'+function(e,t,r){let n="",o=0,a=!1,l=0;for(let s=0;s<e.length;s++){const u=Math.floor(s%t),c=Math.floor(s/t);u||a||(a=!0),e[s]?(l++,s>0&&u>0&&e[s-1]||(n+=a?i("M",u+r,.5+c+r):i("m",o,0),o=0,a=!1),u+1<t&&e[s+1]||(n+=i("h",l),l=0)):o++}return n}(s,l,a.margin)+'"/>',p='viewBox="0 0 '+u+" "+u+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+d+"</svg>\n";return"function"==typeof r&&r(null,h),h}},2726:(e,t)=>{function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:n,scale:n?4:o,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){const n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){const o=r.modules.size,i=r.modules.data,a=t.getScale(o,n),l=Math.floor((o+2*n.margin)*a),s=n.margin*a,u=[n.color.light,n.color.dark];for(let t=0;t<l;t++)for(let r=0;r<l;r++){let c=4*(t*l+r),d=n.color.light;t>=s&&r>=s&&t<l-s&&r<l-s&&(d=u[i[Math.floor((t-s)/a)*o+Math.floor((r-s)/a)]?1:0]),e[c++]=d.r,e[c++]=d.g,e[c++]=d.b,e[c]=d.a}}},5815:(e,t,r)=>{var n=r(5606),o=r(4982),i=r(2849),a=r(226),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),u.push(h),!r.hasNext()&&o(u.ops[u.ops.length-1],h)){var y=new s(t.rest());return u.concat(y).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},226:(e,t,r)=>{var n=r(4982),o=r(2849),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},1574:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),a=r(45),l=r(46),s=r(47),u=r(48),c=r(49),d=r(12),p=r(32),h=r(33),f=r(31),y=r(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};t.default=m},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var a,l={},s={},u={},c={};function d(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||u[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=u[e]&&null!=n.className||(u[e]=n)})))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),a=r(20),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),u.push(h),!r.hasNext()&&o(u.ops[u.ops.length-1],h)){var y=new s(t.rest());return u.concat(y).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},l=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},s=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,c,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(t=arguments[p]))for(r in t)n=u(d,r),d!==(o=u(t,r))&&(f&&o&&(l(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&l(n)?n:{},s(d,{name:r,newValue:e(f,c,o)})):void 0!==o&&s(d,{name:r,newValue:o}));return d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=d(r(3)),a=d(r(2)),l=d(r(0)),s=d(r(16)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=l.default.create(m.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(l.default.Embed);y.scope=l.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return f(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),g(t))}),new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(l.default.query(n,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;i.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof s.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(l.default.Block);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:g(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[u.default,l.default.Embed,c.default],t.bubbleFormats=g,t.BlockEmbed=y,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var a=m(r(2)),l=m(r(14)),s=m(r(8)),u=m(r(9)),c=m(r(0)),d=r(15),p=m(d),h=m(r(3)),f=m(r(10)),y=m(r(34));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(0,f.default)("quill"),v=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,n),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e){e===s.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;w.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&b.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||b.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=E(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],w.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return w.call(this,(function(){var n=r.getSelection(!0),o=new a.default;if(null==n)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,g({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,g({},e,t))}return r.setSelection(n,s.default.sources.SILENT),o}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var a,l=this,s=E(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],w.call(this,(function(){return l.editor.formatLine(e,t,a)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var a,l=this,s=E(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],w.call(this,(function(){return l.editor.formatText(e,t,a)}),i,e,0)}},{key:"getBounds",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,r):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=E(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=E(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var a,l=this,s=E(e,0,r,n,i),u=o(s,4);return e=u[0],a=u[2],i=u[3],w.call(this,(function(){return l.editor.insertText(e,t,a)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=E(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],w.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return w.call(this,(function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=E(t,r,n),a=o(i,4);t=a[0],r=a[1],n=a[3],this.selection.setRange(new d.Range(t,r),n),n!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return w.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function _(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==v.DEFAULTS.theme){if(t.theme=v.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=y.default;var r=(0,h.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=v.import("modules/"+t);return null==r?b.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},v.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function w(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===s.default.sources.USER)return new a.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,l=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=I(o,l,t):0!==n&&(o=I(o,r,n,t)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var u,c,d=[s.default.events.TEXT_CHANGE,l,i,t];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return l}function E(e,t,r,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,i=o):"string"==typeof r&&(null!=o?a[r]=o:i=r),[e,t,a,i=i||s.default.sources.API]}function I(e,t,r,n){if(null==e)return null;var i=void 0,l=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==s.default.sources.USER)})),c=o(u,2);i=c[0],l=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===s.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),h=o(p,2);i=h[0],l=h[1]}return new d.Range(i,l-i)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=s.default.events,v.sources=s.default.sources,v.version="1.3.7",v.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":y.default},t.expandConfig=_,t.overload=E,t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(7)),a=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&a.default.query(n,a.default.Scope.BLOT)){var l=this.isolate(e,r);i&&l.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(a.default.Inline);s.allowedChildren=[s,a.default.Embed,i.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(0))&&n.__esModule?n:{default:n}).default.Text);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,a(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){l.log.apply(l,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=o(e),p=o(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],r))return!1;return typeof e==typeof t}(e,t,r))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=d(r(2)),l=d(r(0)),s=d(r(4)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(u.default);y.blotName="code",y.tagName="CODE";var m=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(c.default,this.length()-1),a=n(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=l.default.query(n,l.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,u=this.isolate(a,s),c=u.next;u.format(n,o),c instanceof t&&c.formatAt(0,e-a+r-s,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(c.default,e),i=n(o,2),a=i[0],l=i[1];a.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(s.default);m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=y,t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=g(r(2)),l=g(r(20)),s=g(r(0)),u=g(r(13)),c=g(r(24)),d=r(4),p=g(d),h=g(r(16)),f=g(r(21)),y=g(r(11)),m=g(r(3));function g(e){return e&&e.__esModule?e:{default:e}}var b=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,f.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&r&&(r=!1,h=h.slice(0,-1)),e>=i&&!h.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),y=o(f,2),g=y[0],b=y[1],v=(0,m.default)({},(0,d.bubbleFormats)(g));if(g instanceof p.default){var _=g.descendant(s.default.Leaf,b),w=o(_,1)[0];v=(0,m.default)(v,(0,d.bubbleFormats)(w))}c=l.default.attributes.diff(v,c)||{}}else if("object"===n(a.insert)){var E=Object.keys(a.insert)[0];if(null==E)return e;t.scroll.insertAt(e,E,a.insert[E])}i+=u}return Object.keys(c).forEach((function(r){t.scroll.formatAt(e,u,r,c[r])})),e+u}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof u.default){var l=e-t.offset(r.scroll),s=t.newlineIndex(l+a)-l+1;t.formatAt(l,s,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,f.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.default).retain(e).retain(t,(0,f.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof s.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(s.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=_((0,d.bubbleFormats)(r),t)}return t}));return m.default.apply(m.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.default).retain(e).insert(t,(0,f.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),l=i[0],s=i[1],c=0,d=new a.default;null!=l&&(c=l instanceof u.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(r).concat(d)),h=(new a.default).retain(e).concat(p);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(b)&&s.default.find(t[0].target)){var o=s.default.find(t[0].target),i=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),h=(new a.default).insert(o.value());e=(new a.default).retain(l).concat(p.diff(h,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,y.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(21)),l=u(r(11)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(r(10)).default)("quill:selection"),h=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},f=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.TEXT_CHANGE&&t.length()>0&&n.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;n.setNativeRange(o,i,a,l)}})),this.update(s.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(s.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),a=n(i,2),l=a[0],s=a[1];if(null==l)return null;var u=l.position(s,!0),c=n(u,2);o=c[0],s=c[1];var d=document.createRange();if(t>0){d.setStart(o,s);var p=this.scroll.leaf(e+t),h=n(p,2);if(l=h[0],s=h[1],null==l)return null;var f=l.position(s,!0),y=n(f,2);return o=y[0],s=y[1],d.setEnd(o,s),d.getBoundingClientRect()}var m="left",g=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),m="right"),g=d.getBoundingClientRect()):(g=l.domNode.getBoundingClientRect(),s>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map((function(e){var r=n(e,2),o=r[0],a=r[1],l=i.default.find(o,!0),s=l.offset(t.scroll);return 0===a?s:l instanceof i.default.Container?s+l.length():s+l.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(c(o)));return new h(l,a-l)}},{key:"normalizeNative",value:function(e){if(!y(this.root,e.startContainer)||!e.collapsed&&!y(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var a,l=t.scroll.leaf(e),s=n(l,2),u=s[0],c=s[1],d=u.position(c,0!==r),p=n(d,2);a=p[0],c=p[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=n(i,1)[0],l=a;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,o));l=n(s,1)[0]}if(null!=a&&null!=l){var u=e.getBoundingClientRect();r.top<u.top?e.scrollTop-=u.top-r.top:r.bottom>u.bottom&&(e.scrollTop+=r.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,c(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(p)),e!==s.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function y(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=r(0))&&n.__esModule?n:{default:n}).default.Embed);a.blotName="break",a.tagName="BR",t.default=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(30),l=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=u(t);e.insertBefore(r,e.children.head||void 0)}catch(e){if(e instanceof l.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var a=null==r?l.create("text",t):l.create(t,r);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var n=u(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(a.default);function u(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(r){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=r(31),l=r(17),s=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(l.default);t.default=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{n=Promise}catch(e){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],h="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,f){if(null===s)return null;if(0===f)return s;var y,m;if("object"!=typeof s)return s;if(e(s,t))y=new t;else if(e(s,r))y=new r;else if(e(s,n))y=new n((function(e,t){s.then((function(t){e(i(t,f-1))}),(function(e){t(i(e,f-1))}))}));else if(o.__isArray(s))y=[];else if(o.__isRegExp(s))y=new RegExp(s.source,a(s)),s.lastIndex&&(y.lastIndex=s.lastIndex);else if(o.__isDate(s))y=new Date(s.getTime());else{if(h&&Buffer.isBuffer(s))return y=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(y),y;e(s,Error)?y=Object.create(s):void 0===u?(m=Object.getPrototypeOf(s),y=Object.create(m)):(y=Object.create(u),m=u)}if(l){var g=d.indexOf(s);if(-1!=g)return p[g];d.push(s),p.push(y)}for(var b in e(s,t)&&s.forEach((function(e,t){var r=i(t,f-1),n=i(e,f-1);y.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,f-1);y.add(t)})),s){var v;m&&(v=Object.getOwnPropertyDescriptor(m,b)),v&&null==v.set||(y[b]=i(s[b],f-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(b=0;b<_.length;b++){var w=_[b];(!(I=Object.getOwnPropertyDescriptor(s,w))||I.enumerable||c)&&(y[w]=i(s[w],f-1),I.enumerable||Object.defineProperty(y,w,{enumerable:!1}))}}if(c){var E=Object.getOwnPropertyNames(s);for(b=0;b<E.length;b++){var I,x=E[b];(I=Object.getOwnPropertyDescriptor(s,x))&&I.enumerable||(y[x]=i(s[x],f-1),Object.defineProperty(y,x,{enumerable:!1}))}}return y}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=h(r(0)),l=h(r(8)),s=r(4),u=h(s),c=h(r(16)),d=h(r(13)),p=h(r(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof u.default||e instanceof s.BlockEmbed}var y=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),a=n(o,2),l=a[0],u=a[1],p=this.line(e+r),h=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=h&&l!==h&&u>0){if(l instanceof s.BlockEmbed||h instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var f=l.newlineIndex(l.length(),!0);if(f>-1&&(l=l.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var y=h.newlineIndex(0);y>-1&&h.split(y+1)}var m=h.children.head instanceof c.default?null:h.children.head;l.moveChildren(h,m),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==a.default.query(r,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var l=a.default.create(r,n);this.appendChild(l)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var n=a.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){f(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,r,i))),i-=n})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(a.default.Scroll);y.blotName="scroll",y.className="ql-editor",y.tagName="DIV",y.defaultChild="block",y.allowedChildren=[u.default,s.BlockEmbed,p.default],t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=y(r(21)),l=y(r(11)),s=y(r(3)),u=y(r(2)),c=y(r(20)),d=y(r(0)),p=y(r(5)),h=y(r(10)),f=y(r(9));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=(0,h.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},x),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0},E)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},E)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},I),n.addBinding({key:t.keys.DELETE},{collapsed:!1},I),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=S(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=S(e);if(null==n||null==n.key)return g.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,s.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,a=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=e.quill.getLine(s.index),c=o(u,2),p=c[0],h=c[1],f=e.quill.getLeaf(s.index),y=o(f,2),m=y[0],g=y[1],b=0===s.length?[m,g]:e.quill.getLeaf(s.index+s.length),v=o(b,2),_=v[0],w=v[1],E=m instanceof d.default.Text?m.value().slice(0,g):"",I=_ instanceof d.default.Text?_.value().slice(w):"",x={collapsed:0===s.length,empty:0===s.length&&p.length()<=1,format:e.quill.getFormat(s),offset:h,prefix:E,suffix:I};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==x.collapsed)return!1;if(null!=t.empty&&t.empty!==x.empty)return!1;if(null!=t.offset&&t.offset!==x.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==x.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=x.format[e]:!1===t.format[e]?null==x.format[e]:(0,l.default)(t.format[e],x.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(x.prefix)||null!=t.suffix&&!t.suffix.test(x.suffix)||!0===t.handler.call(e,s,x))}))&&r.preventDefault()}}}}))}}]),t}(f.default);function _(e,t){var r,n=e===v.keys.LEFT?"prefix":"suffix";return m(r={key:e,shiftKey:t,altKey:null},n,/^$/),m(r,"handler",(function(r){var n=r.index;e===v.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===v.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))})),r}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=n.formats(),u=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function E(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,a=this.quill.getLine(e.index),l=o(a,1)[0];if(t.offset>=l.length()-1){var s=this.quill.getLine(e.index+1),u=o(s,1)[0];if(u){var d=l.formats(),h=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(d,h)||{},i=u.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function I(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=c.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function x(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(r,n),l=o(a,2),s=l[0],u=l[1];if(null!=s){var c=this.quill.getIndex(s),h=s.newlineIndex(u,!0)+1,f=s.newlineIndex(c+u+i),y=s.domNode.textContent.slice(h,f).split("\n");u=0,y.forEach((function(t,o){e?(s.insertAt(h+u,r.TAB),u+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(h+u,r.TAB.length),u-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function C(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function S(e){if("string"==typeof e||"number"==typeof e)return S({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[b]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(0,s.default)({},n.formats(),{list:"checked"}),l=(new u.default).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],a=n[1],l=(new u.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),a=i[0],l=i[1];if(l>r)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-l).delete(r+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(new u.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(v.keys.LEFT,!1),"embed left shift":_(v.keys.LEFT,!0),"embed right":_(v.keys.RIGHT,!1),"embed right shift":_(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var o=this,a=0;null!=o&&o.statics.scope!==i.default.Scope.BLOCK_BLOT;)a+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=t.CONTENTS.length,o.optimize(),o.formatAt(a,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),n=void 0,o=void 0,l=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var s=[e,r.start.offset,r.end.offset];n=s[0],o=s[1],l=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var u=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(n=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=t.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([o,l].map((function(e){return Math.max(0,Math.min(n.data.length,e-1))})),2);return o=c[0],l=c[1],{startNode:n,startOffset:o,endNode:n,endOffset:l}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=r(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=(n=r(0))&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?"#"+(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join(""):r}}]),t}(a.default.Attributor.Style),s=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),u=new l("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=s,t.ColorStyle=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);function l(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=a,t.sanitize=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(23)),a=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(0)),o=g(r(5)),i=r(4),a=g(i),l=g(r(16)),s=g(r(25)),u=g(r(24)),c=g(r(35)),d=g(r(6)),p=g(r(22)),h=g(r(7)),f=g(r(55)),y=g(r(42)),m=g(r(23));function g(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":y.default,"modules/keyboard":m.default}),n.default.register(a.default,l.default,u.default,d.default,p.default,h.default),t.default=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),a=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);t.concat(r).concat(l).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(s),r.rightGuard=document.createTextNode(s),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=s,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new o.default.Attributor.Attribute("align","align",i),l=new o.default.Attributor.Class("align","ql-align",i),s=new o.default.Attributor.Style("align","text-align",i);t.AlignAttribute=a,t.AlignClass=l,t.AlignStyle=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=r(26),a=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},a=new o.default.Attributor.Attribute("direction","dir",i),l=new o.default.Attributor.Class("direction","ql-direction",i),s=new o.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=a,t.DirectionClass=l,t.DirectionStyle=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=(n=r(0))&&n.__esModule?n:{default:n},l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},s=new a.default.Attributor.Class("font","ql-font",l),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style),c=new u("font","font-family",l);t.FontStyle=c,t.FontClass=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=(n=r(0))&&n.__esModule?n:{default:n},i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=a},function(e,t,r){"use strict";e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=s(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(r(9)).default);function s(e){var t=e.reduce((function(e,t){return e+(t.delete||0)}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)})))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=f(r(3)),a=f(r(2)),l=f(r(8)),s=f(r(23)),u=f(r(34)),c=f(r(59)),d=f(r(60)),p=f(r(28)),h=f(r(61));function f(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],w=["1","2","3",!1],E=["small",!1,"large","huge"],I=function(e){function t(e,r){y(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return g(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,b),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,v,"background"===r?"#ffffff":"#000000"),new c.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,_):e.classList.contains("ql-header")?k(e,w):e.classList.contains("ql-size")&&k(e,E)),new p.default(e)})),this.quill.on(l.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);I.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(n.index).delete(n.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(n.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var x=function(e){function t(e,r){y(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return g(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",r,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",r,l.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":r=(t=(e=r).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!r)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),r,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",l.default.sources.USER),this.quill.setSelection(i+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=x,t.default=I},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],l=this.iterator(i);(n=l())&&a<e+t;){var s=n.length();e>a?r(n,e-a,Math.min(t,a+s-e)):r(n,0,Math.min(s,e+t-a)),a+=s}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var l=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&l(e.parent))},s=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(s),e.optimize(r))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);l(t,!1),t instanceof i.default&&t.children.forEach((function(e){l(e,!1)}))}))):"attributes"===e.type&&l(t.prev)),l(t))})),this.children.forEach(s),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=a.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=a.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1,n=1,o=0;function i(e,t,c){if(e==t)return e?[[o,e]]:[];(c<0||e.length<c)&&(c=null);var p=l(e,t),h=e.substring(0,p);p=s(e=e.substring(p),t=t.substring(p));var f=e.substring(e.length-p),y=function(e,t){var u;if(!e)return[[n,t]];if(!t)return[[r,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,p=c.indexOf(d);if(-1!=p)return u=[[n,c.substring(0,p)],[o,d],[n,c.substring(p+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=r),u;if(1==d.length)return[[r,e],[n,t]];var h=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=l(e.substring(r),t.substring(c)),h=s(e.substring(0,r),t.substring(0,c));d.length<h+p&&(d=t.substring(c-h,c)+t.substring(c,c+p),n=e.substring(0,r-h),o=e.substring(r+p),i=t.substring(0,c-h),a=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,a,d]:null}var i,a,u,c,d,p=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return p||h?(i=h?p&&p[4].length>h[4].length?p:h:p,e.length>t.length?(a=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],a=i[2],u=i[3]),[a,u,c,d,i[4]]):null}(e,t);if(h){var f=h[0],y=h[1],m=h[2],g=h[3],b=h[4],v=i(f,m),_=i(y,g);return v.concat([[o,b]],_)}return function(e,t){for(var o=e.length,i=t.length,l=Math.ceil((o+i)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var h=o-i,f=h%2!=0,y=0,m=0,g=0,b=0,v=0;v<l;v++){for(var _=-v+y;_<=v-m;_+=2){for(var w=s+_,E=(S=_==-v||_!=v&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-_;S<o&&E<i&&e.charAt(S)==t.charAt(E);)S++,E++;if(c[w]=S,S>o)m+=2;else if(E>i)y+=2;else if(f&&(k=s+h-_)>=0&&k<u&&-1!=d[k]&&S>=(x=o-d[k]))return a(e,t,S,E)}for(var I=-v+g;I<=v-b;I+=2){for(var x,k=s+I,C=(x=I==-v||I!=v&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-I;x<o&&C<i&&e.charAt(o-x-1)==t.charAt(i-C-1);)x++,C++;if(d[k]=x,x>o)b+=2;else if(C>i)g+=2;else if(!f){var S;if((w=s+h-I)>=0&&w<u&&-1!=c[w]&&(E=s+(S=c[w])-w,S>=(x=o-x)))return a(e,t,S,E)}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return h&&y.unshift([o,h]),f&&y.push([o,f]),u(y),null!=c&&(y=function(e,t){var n=function(e,t){if(0===t)return[o,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===r||a[0]===o){var l=n+a[1].length;if(t===l)return[i+1,e];if(t<l){e=e.slice();var s=t-n,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}n=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==o)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),d(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),d(i,a,3)}return e}(y,c)),function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===o&&((l=e[a-2][1]).charCodeAt(l.length-1)>=55296&&l.charCodeAt(l.length-1)<=56319)&&e[a-1][0]===r&&i(e[a-1][1])&&e[a][0]===n&&i(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var l;if(!t)return e;var s=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&s.push(e[a]);return s}(y)}function a(e,t,r,n){var o=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=i(o,a),c=i(l,s);return u.concat(c)}function l(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function u(e){e.push([o,""]);for(var t,i=0,a=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case n:c++,p+=e[i][1],i++;break;case r:a++,d+=e[i][1],i++;break;case o:a+c>1?(0!==a&&0!==c&&(0!==(t=l(p,d))&&(i-a-c>0&&e[i-a-c-1][0]==o?e[i-a-c-1][1]+=p.substring(0,t):(e.splice(0,0,[o,p.substring(0,t)]),i++),p=p.substring(t),d=d.substring(t)),0!==(t=s(p,d))&&(e[i][1]=p.substring(p.length-t)+e[i][1],p=p.substring(0,p.length-t),d=d.substring(0,d.length-t))),0===a?e.splice(i-c,a+c,[n,p]):0===c?e.splice(i-a,a+c,[r,d]):e.splice(i-a-c,a+c,[r,d],[n,p]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,a=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var h=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),h=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),h=!0)),i++;h&&u(e)}var c=i;function d(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}c.INSERT=n,c.DELETE=r,c.EQUAL=o,e.exports=c},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},a.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,u=[],c=l.length;s<c;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&u.push(l[s]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=v(r(3)),l=v(r(2)),s=v(r(0)),u=v(r(5)),c=v(r(10)),d=v(r(9)),p=r(36),h=r(37),f=v(r(13)),y=r(26),m=r(38),g=r(39),b=r(40);function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=(0,c.default)("quill:clipboard"),E="__ql-matcher",I=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,B],["br",function(e,t){return O(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,j],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===P(e).fontStyle&&(r.italic=!0),n.fontWeight&&(P(e).fontWeight.startsWith("bold")||parseInt(P(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=S(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=s.default.query(e);if(null==r||"list-item"!==r.blotName||!O(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new l.default}]],x=[p.AlignAttribute,m.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,h.BackgroundStyle,y.ColorStyle,m.DirectionStyle,g.FontStyle,b.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),C=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],I.concat(n.options.matchers).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];(r.matchVisual||a!==N)&&n.addMatcher(i,a)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,_({},f.default.blotName,t[f.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),a=i[0],s=i[1],u=D(this.container,a,s);return O(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new l.default).retain(u.length()-1).delete(1))),w.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new l.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,u.default.sources.USER),t.quill.setSelection(n.length()-r.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=o(n,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[E]=e[E]||[],e[E].push(l)}))}})),[t,r]}}]),t}(d.default);function S(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return S(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_({},t,r),n.attributes))}),new l.default)}function P(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function O(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=P(e);return["block","list-item"].indexOf(t.display)>-1}function D(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,o){var i=D(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(o,e)}),i),i=(o[E]||[]).reduce((function(e,t){return t(o,e)}),i)),n.concat(i)}),new l.default):new l.default}function T(e,t,r){return S(r,e,!0)}function L(e,t){var r=s.default.Attributor.Attribute.keys(e),n=s.default.Attributor.Class.keys(e),o=s.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach((function(t){var r=s.default.query(t,s.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=x[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=S(t,i)),t}function j(e,t){var r=s.default.query(e);if(null==r)return t;if(r.prototype instanceof s.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new l.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=S(t,r.blotName,r.formats(e)));return t}function B(e,t){return O(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function N(e,t){if(A(e)&&null!=e.nextElementSibling&&!O(t,"\n\n")){var r=e.offsetHeight+parseFloat(P(e).marginTop)+parseFloat(P(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function R(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!P(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}C.DEFAULTS={matchers:[],matchVisual:!0},t.default=C,t.matchAttributor=L,t.matchBlot=j,t.matchNewline=B,t.matchSpacing=N,t.matchText=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);a.blotName="bold",a.tagName=["STRONG","B"],t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(2)),a=c(r(0)),l=c(r(5)),s=c(r(10)),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.default)("quill:toolbar"),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var a=document.createElement("div");y(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,(function(o){var s=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];s=!u.hasAttribute("selected")&&(u.value||!1)}else s=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,s);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,s)),l.default.sources.USER)}else t.quill.format(r,s,l.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var o=n(r,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==e)l=null;else if(null==t[i])l=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[i])}))}}]),t}(u.default);function f(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function y(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):f(r,t,n)}})),e.appendChild(r)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=h,t.addControls=y},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=r(28))&&n.__esModule?n:{default:n}).default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=r(28))&&n.__esModule?n:{default:n}).default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=p(r(3)),a=p(r(8)),l=r(43),s=p(l),u=p(r(27)),c=r(15),d=p(r(41));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],g=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return y(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(s.default);g.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return y(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(t,r,n){if(null!=t){if(0===t.length&&n===a.default.sources.USER){var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(u.default,t.index),2),i=o[0],l=o[1];if(null!=i){e.linkRange=new c.Range(t.index-l,i.length());var s=u.default.formats(i.domNode);return e.preview.textContent=s,e.preview.setAttribute("href",s),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=B(r(29)),o=r(36),i=r(38),a=r(64),l=B(r(65)),s=B(r(66)),u=r(67),c=B(u),d=r(37),p=r(26),h=r(39),f=r(40),y=B(r(56)),m=B(r(68)),g=B(r(27)),b=B(r(69)),v=B(r(70)),_=B(r(71)),w=B(r(72)),E=B(r(73)),I=r(13),x=B(I),k=B(r(74)),C=B(r(75)),S=B(r(57)),P=B(r(41)),O=B(r(28)),A=B(r(59)),D=B(r(60)),T=B(r(61)),L=B(r(108)),j=B(r(62));function B(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":l.default,"formats/code-block":x.default,"formats/header":s.default,"formats/list":c.default,"formats/bold":y.default,"formats/code":I.Code,"formats/italic":m.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":v.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":E.default,"formats/list/item":u.ListItem,"modules/formula":k.default,"modules/syntax":C.default,"modules/toolbar":S.default,"themes/bubble":L.default,"themes/snow":j.default,"ui/icons":P.default,"ui/picker":O.default,"ui/icon-picker":D.default,"ui/color-picker":A.default,"ui/tooltip":T.default},!0),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=(n=r(0))&&n.__esModule?n:{default:n},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class),s=new l("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(4))&&n.__esModule?n:{default:n}).default);o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=r(4))&&n.__esModule?n:{default:n}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(4)),l=s(r(25));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==h.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var h=function(e){function t(e){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);h.blotName="list",h.scope=i.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],t.ListItem=p,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(56))&&n.__esModule?n:{default:n}).default);o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);a.blotName="script",a.tagName=["SUB","SUP"],t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);o.blotName="strike",o.tagName="S",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=r(6))&&n.__esModule?n:{default:n}).default);o.blotName="underline",o.tagName="U",t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=(n=r(0))&&n.__esModule?n:{default:n},l=r(27),s=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){s.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return s.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(4),l=(n=r(27))&&n.__esModule?n:{default:n},s=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){s.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return s.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(35)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(l.default);t.FormulaBlot=p,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(r(13)).default);p.className="ql-syntax";var h=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),f=function(e){function t(e,r){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){n.highlight(),o=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(l.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),a=d(r(8)),l=r(43),s=d(l),u=r(15),c=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=y);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return f(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(s.default);m.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(e){function t(e,r){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,r,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var l=i[i.length-1],s=n.quill.getIndex(l),c=Math.min(l.length()-1,t.index+t.length-s),d=n.quill.getBounds(new u.Range(s,c));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return f(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=g,t.default=m},function(e,t,r){e.exports=r(63)}]).default},e.exports=t()},7675:(e,t,r)=>{"use strict";var n=r(3206),o=r(9675),i=Object;e.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},1589:(e,t,r)=>{"use strict";var n=r(8452),o=r(487),i=r(7675),a=r(5330),l=r(3984),s=o(a());n(s,{getPolyfill:a,implementation:i,shim:l}),e.exports=s},5330:(e,t,r)=>{"use strict";var n=r(7675),o=r(8452).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},3984:(e,t,r)=>{"use strict";var n=r(8452).supportsDescriptors,o=r(5330),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=TypeError,s=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!s)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=s(u),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},6897:(e,t,r)=>{"use strict";var n=r(453),o=r(41),i=r(592)(),a=r(5795),l=r(9675),s=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new l("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||s(t)!==t)throw new l("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&a){var c=a(e,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(u=!1)}return(n||u||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},3206:(e,t,r)=>{"use strict";var n=r(41),o=r(592)(),i=r(4462).functionsHaveConfigurableNames(),a=r(9675);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(e,"name",t,!0,!0):n(e,"name",t)),e}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(r)?r:String(r)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}var d=function(){function t(){e(this,t)}return i(t,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(e){return!1}},{key:"replace",value:function(e){}}]),t}();function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},p.apply(this,arguments)}function h(e,t,r){return t=s(t),l(e,f()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}d.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var y=function(t){function r(t,n,o,i){var a;if(e(this,r),(a=h(this,r)).objId=t.getId(),a.moveToParentId=n.getId(),a.moveToPosition=o,a.oldParentId=t.getParent().getId(),a.oldPosition=t.getSiblingPosition(),a.oldContainerId=null,a.moveToContainerId=null,t.getData()instanceof be){var l=t.getData();a.oldContainerId=l.getValue("containerId");var s=i.getMainPanel().getContainerByItem(n);null!==s&&(a.moveToContainerId=s.getId())}return a.rb=i,a}return c(r,t),i(r,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t,r){var n=this.rb.getDataObject(this.objId),o=this.rb.getDataObject(e);null!==n&&null!==o&&(n.getPanelItem().moveToPosition(o.getPanelItem(),t),n.getPanelItem().openParentItems(),this.rb.notifyEvent(n,d.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),r}(d);function m(e,t,r){return t=s(t),l(e,g()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var b=function(t){function r(t,n,o,i,a){var l;e(this,r),(l=m(this,r)).objId=t,l.field=n,l.value=o,l.type=i,l.rb=a;var s=a.getDataObject(t);return l.oldValue=s.getValue(n),l.firstExecution=!0,l.select=!0,l.notifyChange=!0,l}return c(r,t),i(r,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(e){var t=this.rb.getDataObject(this.objId);if(t.setValue(this.field,e),"name"===this.field){var n=document.getElementById("rbro_menu_item_name".concat(this.objId));n.textContent=e,n.setAttribute("title",e),this.rb.notifyEvent(t,d.operation.rename)}!this.notifyChange||this.type===r.type.richText&&this.firstExecution||this.rb.notifyEvent(t,d.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(e){this.notifyChange=e}},{key:"allowReplace",value:function(e){return e instanceof r&&(this.type===r.type.text||this.type===r.type.richText)&&this.objId===e.objId&&this.field===e.field}},{key:"replace",value:function(e){this.oldValue=e.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),r}(d);b.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var v=function(){function t(r,n,o){e(this,t),this.rb=o,this.id=r,this.panelItem=null,this.name=n,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return i(t,[{key:"init",value:function(e){this.owner=e,this.el=e.getElement(),this.elContent=e.getContentElement(),this.panelItem=e.getPanelItem(),this.parent=e.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var e=this.parent;null!==e;)this.level++,e=e.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(e){null!==this.elContent&&this.elContent.append(e)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){this.parent=e,this.initLevel()}},{key:"isChildOf",value:function(e){for(var t=this.getParent();null!==t;){if(t===e)return!0;t=t.getParent()}return!1}},{key:"isSelected",value:function(){return!(null===this.owner||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(e){return!1}},{key:"dragOver",value:function(){null!==this.el&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(e){if(null!==e&&e!==this){var t=this.getOffset(),r=e.getOffset();return{x:t.x-r.x,y:t.y-r.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(e,t){var r=this.getOffset(),n=this.getSize();return e-=r.x,t-=r.y,e>=0&&t>=0&&e<n.width&&t<n.height}},{key:"clearErrors",value:function(){}}]),t}();function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){var n=document.createElement(e);if(t)for(var o in t)t.hasOwnProperty(o)&&n.setAttribute(o,t[o]);return r&&(n.textContent=r),n}function I(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function x(e,t,r,n){var o=n||{};r&&(o.for=r),e.append(E("label",o,t+":"))}function k(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}function C(e){e.addEventListener("keyup",(function(e){var t=e.target.value,r=t.replace(/[^0-9]/g,"");t!==r&&(e.target.value=r)}))}function S(e,t,r){var n=parseFloat(e.replace(",","."));return isNaN(n)||n<t?""+t:n>r?""+r:e}function P(e){if("number"==typeof e)return e;if("string"==typeof e&&""!==e){var t=parseFloat(e.replace(",","."));if(!isNaN(t))return t}return 0}function O(e,t){var r=Math.ceil(e/t)*t;return r-e<=t>>1?r:r-t}function A(e,t){return Math.floor(e/t)*t}function D(e,t){return Math.ceil(e/t)*t}function T(e,t,r,n){var o,i={shown:!1,paletteId:t.getAttribute("id")+"_select"},a=n.getProperty("colors"),l=E("div",{class:"rbroColorPalette rbroHidden"}),s=_(a);try{for(s.s();!(o=s.n()).done;){var u=o.value;l.append(E("span",{style:"color: ".concat(u),"data-value":u,class:"rbroColorPaletteItem"}))}}catch(e){s.e(e)}finally{s.f()}r&&l.append(E("span",{"data-value":"clear",class:"rbroClearColorPalette"},n.getLabel("clear"))),l.addEventListener("click",(function(e){var r=e.target.dataset.value;r&&("clear"===r?(t.value="",t.dispatchEvent(new Event("change"))):t.value=r,t.dispatchEvent(new Event("change"))),l.classList.add("rbroHidden"),e.stopImmediatePropagation()}));var c=E("div",{id:i.paletteId,class:"rbroColorPicker"});return c.addEventListener("click",(function(e){l.classList.toggle("rbroHidden"),i.shown=!i.shown})),e.prepend(c),e.append(l),t.addEventListener("focus",(function(t){e.classList.add("rbroActive")})),t.addEventListener("blur",(function(t){e.classList.remove("rbroActive")})),i.documentClickListener=function(e){var t=e.target.id;i.shown&&t!==i.paletteId&&(l.classList.add("rbroHidden"),i.shown=!1)},document.addEventListener("click",i.documentClickListener),i.destroy=function(){i.documentClickListener&&(document.removeEventListener("click",i.documentClickListener),i.documentClickListener=null)},i}function L(e){return!e||/^#[0-9A-F]{6}$/i.test(e)}function j(e){if(!(window.TouchEvent&&e instanceof TouchEvent))return{x:e.pageX,y:e.pageY};if(e.touches.length>0){var t=e.touches[e.touches.length-1];return{x:t.pageX,y:t.pageY}}return null}function B(e,t,r){var n=new FileReader;n.onload=function(n){var o=new Image;o.onload=function(){var i=document.createElement("canvas"),a=r.getProperty("imageMaxSize");a&&(o.width>a||o.height>a)&&(o.width>o.height?(o.height=o.height*(a/o.width),o.width=a):(o.width=o.width*(a/o.height),o.height=a));var l=i.getContext("2d");l.clearRect(0,0,i.width,i.height),i.width=o.width,i.height=o.height,l.drawImage(o,0,0,o.width,o.height);var s=i.toDataURL("image/webp");"data:image/webp"!==s.substring(0,15)&&(r.getProperty("imageRequireWebPFormat")?(s=null,alert(r.getLabel("docElementLoadImageWebPErrorMsg"))):s.length>n.target.result.length&&(s=n.target.result)),s&&t(s,e.name)},o.src=n.target.result},n.onerror=function(e){alert(r.getLabel("docElementLoadImageErrorMsg"))},n.readAsDataURL(e)}function N(e,t,r,n){var o=n.getStyles();I(e),e.append(E("option",{value:""},n.getLabel("styleNone")));var i,a=_(o);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(!t||l.getValue("type")===t){var s=E("option",{value:l.getId()},l.getName());r&&r===String(l.getId())&&(s.selected=!0),e.append(s)}}}catch(e){a.e(e)}finally{a.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var R=i((function t(r,n){e(this,t),this.value=r,this.type=n}));function M(e,t){for(var r=0,n=[];r<e.length;){var o=e[r];if(/[0-9]/.test(o)){for(var i="";r<e.length&&/[0-9.]/.test(e[r]);)i+=e[r++];var a=parseFloat(i);n.push(new R(a,R.type.number))}else if(/[a-zA-Z]/.test(o)){for(var l="";r<e.length&&/[a-zA-Z0-9_]/.test(e[r]);)l+=e[r++];if("true"===l)n.push(new R(!0,R.type.boolean));else if("false"===l)n.push(new R(!1,R.type.boolean));else if("docElementType"===l)null!==t?n.push(new R(t.getElementType(),R.type.string)):n.push(new R("",R.type.string));else if(null===t)n.push(new R(l,R.type.field));else{var s,u=t.getValue(l);s="number"==typeof u?R.type.number:"string"==typeof u?R.type.string:"boolean"==typeof u?R.type.boolean:R.type.undefined,n.push(new R(u,s))}}else if("'"!==o)if("("!==o&&")"!==o)if(/[!=|&]/.test(o)){if(r++,"!"===o&&(r>=e.length||"="!==e[r])){n.push(new R(R.operator.negate,R.type.operator));continue}if(!(r<e.length))throw new Error("Invalid token ".concat(o," at end of input"));var c=e[r];if("!"===o&&"="===c)n.push(new R(R.operator.notEqual,R.type.operator)),r++;else if("="===o&&"="===c)n.push(new R(R.operator.equal,R.type.operator)),r++;else if("|"===o&&"|"===c)n.push(new R(R.operator.or,R.type.operator)),r++;else{if("&"!==o||"&"!==c)throw new Error("Invalid token ".concat(c," at position ").concat(r));n.push(new R(R.operator.and,R.type.operator)),r++}}else{if(" "!==o)throw new Error("Invalid token ".concat(o," at position ").concat(r));r++}else n.push(new R(o,"("===o?R.type.bracketOpen:R.type.bracketClose)),r++;else{var d="";for(r++;r<e.length&&"'"!==e[r];)d+=e[r++];if(r>=e.length)throw new Error("Unterminated string token in input ".concat(e));n.push(new R(d,R.type.string)),r++}}return n}R.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},R.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var F={"!":4,"!=":3,"==":3,"||":2,"&&":1};function V(e,t){if(0===e.length)return!1;var r=e[e.length-1];return F[r.value]>=F[t.value]}function q(e,t){var r,n=t.pop().value;switch(e.value!==R.operator.negate&&(r=t.pop().value),e.value){case R.operator.and:return new R(r&&n,R.type.boolean);case R.operator.or:return new R(r||n,R.type.boolean);case R.operator.equal:return new R(r===n,R.type.boolean);case R.operator.notEqual:return new R(r!==n,R.type.boolean);case R.operator.negate:return new R(!n,R.type.boolean);default:throw new Error("Invalid operator: ".concat(e))}}function z(e,t){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.type!==R.type.operator?t.push(n):t.push(q(n,t))}var o=t.pop();return o.type===R.type.boolean?o.value:!!o.value}(function(e){for(var t=[],r=[],n=0;n<e.length;n++){var o=e[n];if(o.type===R.type.operator){for(;V(t,o);)r.push(t.pop());t.push(o)}else if(o.type===R.type.bracketOpen)t.push(o);else if(o.type===R.type.bracketClose){for(;t.length>0&&t[t.length-1]!==R.type.bracketOpen;)r.push(t.pop());t.pop()}else r.push(o)}for(var i=t.length-1;i>=0;i--)r.push(t[i]);return r}(M(e,t)))}function H(e,t,r){return t=s(t),l(e,W()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var U=function(t){function r(t,n,o,i,a){var l;return e(this,r),(l=H(this,r,[o,i,a])).panelItem=null,l.bandType=t,l.section=n,n||(t===r.bandType.header?(l.id="0_header",l.name=a.getLabel("bandHeader")):t===r.bandType.content?(l.id="0_content",l.name=a.getLabel("bandContent"),l.allowAllElements=!0):t===r.bandType.footer&&(l.id="0_footer",l.name=a.getLabel("bandFooter"))),l.el=null,l}return c(r,t),i(r,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(e){return e!==be.type.tableText&&(this.bandType===r.bandType.content||e!==be.type.pageBreak&&e!==be.type.table&&e!==be.type.section)}},{key:"getOffset",value:function(){var e=0;if(this.section)null!==this.owner&&(e=this.owner.getAbsolutePosition().y);else{var t=this.rb.getDocumentProperties();this.bandType===r.bandType.content&&t.getValue("header")?e=P(t.getValue("headerSize")):this.bandType===r.bandType.footer&&(e=this.rb.getDocument().getHeight()-P(t.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),t=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),n=0;return this.section?null!==this.owner&&(n=this.owner.getValue("heightVal")):this.bandType===r.bandType.header?n=e.getValue("headerSizeVal"):this.bandType===r.bandType.content?n=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.bandType===r.bandType.footer&&(n=e.getValue("footerSizeVal")),{width:t,height:n}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(e,t){return!(this.section&&null!==this.owner&&this.owner&&!this.owner.isVisible())&&p(s(r.prototype),"isInside",this).call(this,e,t)}}]),r}(v);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}U.bandType={header:"header",content:"content",footer:"footer"};var X=function(){function t(r,n,o){e(this,t),this.rb=o,this.id=r,this.name=o.getLabel("style"),this.panelItem=null,this.errors=[],this.type=t.type.text,this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=t.alignment.left,this.verticalAlignment=t.alignment.top,this.color="#000000",this.textColor="#000000",this.backgroundColor="",this.alternateBackgroundColor="",this.font=o.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.border="grid",this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(n)}return i(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.borderWidthVal=P(this.borderWidth)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){return["name","type","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","color","textColor","backgroundColor","alternateBackgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","border","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getStyleProperties",value:function(){return this.getProperties().slice(2)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,r){if(this[e]=r,-1!==e.indexOf("border")&&("borderWidth"===e&&(this.borderWidthVal=P(r)),t.setBorderValue(this,e,"",r,this.rb)),"name"!==e){var n,o=K(this.rb.getDocElements(!0));try{for(o.s();!(n=o.n()).done;)n.value.updateChangedStyle(this.getId())}catch(e){o.e(e)}finally{o.f()}}}},{key:"getUpdateValue",value:function(e,t){return t}},{key:"addCommandsForChangedProperty",value:function(e,t,r,n){var o,i=""+this.getId(),a=K(this.rb.getDocElements(!0));try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.hasProperty("styleId")){if(l.getValue("styleId")===i&&l.getValue(e)!==t){var s=new b(l.getId(),e,t,r,this.rb);s.disableSelect(),n.addCommand(s)}if(l.getValue("cs_styleId")===i&&l.getValue("cs_"+e)!==t){var u=new b(l.getId(),"cs_"+e,t,r,this.rb);u.disableSelect(),n.addCommand(u)}}}}catch(e){a.e(e)}finally{a.f()}}},{key:"addCommandsForDelete",value:function(e){var t,r,n=K(this.rb.getDocElements(!0));try{for(n.s();!(r=n.n()).done;){var o=r.value;o.getElementType()!==be.type.text&&o.getElementType()!==be.type.tableText||!o.getValue("styleId")||P(o.getValue("styleId"))!==this.id||(t=new b(o.getId(),"styleId","",b.type.text,this.rb),e.addCommand(t))}}catch(e){n.e(e)}finally{n.f()}t=new Y(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),e.addCommand(t)}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e,t={},r=K(this.getFields());try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this.getValue(n)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(e,t,r,n,o){var i=t;if(r.length>0&&(i=i.substring(r.length)),"borderLeft"===i||"borderTop"===i||"borderRight"===i||"borderBottom"===i){var a=e.getValue("".concat(r,"borderLeft"))&&e.getValue("".concat(r,"borderTop"))&&e.getValue("".concat(r,"borderRight"))&&e.getValue("".concat(r,"borderBottom")),l="".concat(r,"borderAll");a!==e[l]&&(e[l]=a,o.notifyEvent(e,d.operation.change,l))}}}]),t}();function J(e,t,r){return t=s(t),l(e,Z()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}X.type={text:"text",line:"line",image:"image",table:"table",tableBand:"tableBand",frame:"frame",sectionBand:"sectionBand"},X.font={courier:"courier",helvetica:"helvetica",times:"times"},X.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var Y=function(t){function r(t,n,o,i,a,l){var s;return e(this,r),(s=J(this,r)).add=t,s.initialData=n,s.parentId=i,s.position=a,s.rb=l,s.id=o,s}return c(r,t),i(r,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new X(this.id,this.initialData,this.rb),r=new ae("style",e.getPanelItem(),t,{draggable:!0},this.rb);r.openParentItems(),t.setPanelItem(r),e.getPanelItem().insertChild(this.position,r),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteStyle(e))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),r}(d);function Q(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r){return t=s(t),l(e,re()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}var ne=function(t){function r(t,n){var o;return e(this,r),(o=te(this,r)).name=t,o.rb=n,o.commands=[],o.selectObjectIds=[],o.selectionCmdIndex=[],o}return c(r,t),i(r,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex[this.selectionCmdIndex.length-1],t=0;t<this.commands.length;t++){var r=this.commands[t];r instanceof b&&r.setNotifyChange(t>=e)}for(var n=0;n<this.commands.length;n++)this.commands[n].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,t=this.commands.length-1;t>=0;t--){var r=this.commands[t];r instanceof b&&r.setNotifyChange(t<e)}for(var n=this.commands.length-1;n>=0;n--)this.commands[n].undo();this.selectObjects()}},{key:"addCommand",value:function(e){e instanceof b&&e.disableSelect(),this.commands.push(e)}},{key:"addSelection",value:function(e){-1===this.selectObjectIds.indexOf(e)&&this.selectObjectIds.push(e),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return 0===this.commands.length}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var e,t=!0,r=Q(this.selectObjectIds);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(!this.rb.isSelectedObject(n)){t=!1;break}}}catch(e){r.e(e)}finally{r.f()}if(!t){var o,i=!0,a=Q(this.selectObjectIds);try{for(a.s();!(o=a.n()).done;){var l=o.value;this.rb.selectObject(l,i),i=!1}}catch(e){a.e(e)}finally{a.f()}}}},{key:"allowReplace",value:function(e){if(e instanceof r){var t=e.getCommands();if(this.commands.length===t.length){for(var n=0;n<this.commands.length;n++)if(!this.commands[n].allowReplace(t[n]))return!1;return!0}}return!1}},{key:"replace",value:function(e){for(var t=e.getCommands(),r=0;r<this.commands.length;r++)this.commands[r].replace(t[r])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),r}(d);function oe(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(){function t(r,n,o,i,a){var l=this;e(this,t),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1,static:!1},Object.assign(this.properties,i),this.panelName=r;var s=null!==o?o.getName():i.name?i.name:"";this.id=null!==o?o.getId():i.id,this.parent=n,this.data=o,this.rb=a,this.children=[],this.dragEnterCount=0,this.element=E("li"),this.properties.visible||this.element.classList.add("rbroHidden");var u=E("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(u.setAttribute("draggable","true"),u.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="move",l.rb.startBrowserDrag("panelItem",null,l.id),e.stopPropagation()}))),u.addEventListener("dragover",(function(e){l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id&&l.getDropObjectInfo().allowDrop&&(e.preventDefault(),e.stopPropagation())})),u.addEventListener("dragenter",(function(e){l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id&&l.getDropObjectInfo().allowDrop&&(u.classList.add("rbroMenuItemDragOver"),l.dragEnterCount++,e.preventDefault())})),u.addEventListener("dragleave",(function(e){l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id&&l.getDropObjectInfo().allowDrop&&(l.dragEnterCount--,0===l.dragEnterCount&&u.classList.remove("rbroMenuItemDragOver"))})),u.addEventListener("drop",(function(e){if(l.rb.isBrowserDragActive("panelItem")&&l.rb.getBrowserDragId()!==l.id){var t=l.getDropObjectInfo();if(t.allowDrop){l.dragEnterCount--,u.classList.remove("rbroMenuItemDragOver");var r=new ne("Move panel item",l.rb),n=l.rb.getDataObject(l.rb.getBrowserDragId());if(n instanceof be&&n.getValue("containerId")!==t.container.getId()){n.updatePositionAndSize(n.getValue("xVal"),n.getValue("yVal"),n.getValue("widthVal"),n.getValue("heightVal"),t.container.getSize(),r);var o=new b(n.getId(),"containerId",t.container.getId(),b.type.internal,l.rb);r.addCommand(o)}var i=new y(n.getPanelItem(),t.panel,t.position,l.rb);return r.addCommand(i),l.rb.executeCommand(r),e.preventDefault(),!1}}}));var c=E("div",{class:"rbroMenuItemText"});if(c.append(E("span",{id:"rbro_menu_item_name".concat(this.id)},s)),this.properties.showAdd){var d=E("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});d.addEventListener("click",(function(e){if("parameter"===r){var t=new ue(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(t)}else if("style"===r){var n=new Y(!0,{},l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(n)}else if("watermarkText"===r||"watermarkImage"===r){var o,i={containerId:l.getId()};o="watermarkText"===r?be.type.watermarkText:be.type.watermarkImage;var a=new bt(!0,o,i,l.rb.getUniqueId(),l.getId(),-1,l.rb);l.rb.executeCommand(a)}var s=l.children[l.children.length-1];l.rb.selectObject(s.getId(),!0),e.stopPropagation()})),u.append(d)}if(this.properties.showDelete){var p=E("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});p.addEventListener("click",(function(e){var t=null;"parameter"===r?t=new ue(!1,l.getData().toJS(),l.getId(),l.parent.getId(),l.getSiblingPosition(),l.rb):("style"===r||l.isDocElementPanel()&&l.getData()instanceof be)&&(t=new ne("Delete",l),l.getData().addCommandsForDelete(t)),null!==t&&l.rb.executeCommand(t),e.stopPropagation()})),u.append(p)}u.addEventListener("click",(function(e){if(!l.properties.hasDetails||document.getElementById("rbro_menu_item".concat(l.id)).classList.contains("rbroMenuItemActive")){var t=document.getElementById("rbro_menu_item_children".concat(l.id));t&&(u.classList.toggle("rbroMenuItemOpen"),t.classList.toggle("rbroHidden"))}if(l.properties.hasDetails)if(l.rb.isSelectedObject(l.id))e.shiftKey&&l.rb.deselectObject(l.id);else{var r=!0;l.isDocElementPanel()&&(r=!e.shiftKey),l.rb.selectObject(l.id,r)}})),this.properties.hasChildren&&(u.classList.add("rbroMenuItemNoChildren"),c.append(E("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(E("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),u.prepend(c),this.element.prepend(u)}return i(t,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(e){this.data=e,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=null!==e?e.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var e=[],t=this.getParent();null!==t;)e.push(t.id),t=t.getParent();return e}},{key:"openParentItems",value:function(){for(var e=this.getParent();null!==e;)e.open(),e=e.getParent()}},{key:"open",value:function(){var e=document.getElementById("rbro_menu_item_children".concat(this.getId()));e&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),e.classList.remove("rbroHidden"))}},{key:"close",value:function(){var e=document.getElementById("rbro_menu_item_children".concat(this.getId()));e&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),e.classList.add("rbroHidden"))}},{key:"appendChild",value:function(e){0===this.children.length&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(e),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(e.getElement())}},{key:"insertChild",value:function(e,t){0===this.children.length&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),-1!==e?this.children.splice(e,0,t):this.children.push(t);var r=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));e>=0&&e<r.length?r[e].before(t.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(t.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(e){return this.getChildByNameExclude(e,null)}},{key:"getChildByNameExclude",value:function(e,t){var r,n=oe(this.children);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(null!==o.getData()&&o.getData()!==t&&o.getData().getName()===e)return o}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"removeChild",value:function(e){this.removeChildInternal(e,!0)}},{key:"removeChildInternal",value:function(e,t){for(var r=0;r<this.children.length;r++)if(e.getId()===this.children[r].getId()){if(this.children.splice(r,1),t&&e.getElement().remove(),0===this.children.length){var n=document.getElementById("rbro_menu_item".concat(this.getId()));null!==n&&n.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(null!==this.getParent())for(var e=this.getParent().getChildren(),t=0;t<e.length;t++)if(e[t]===this)return t;return 0}},{key:"moveTo",value:function(e){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=e,e.appendChild(this)}},{key:"moveToPosition",value:function(e,t){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=e,e.insertChild(t,this)}},{key:"clear",value:function(){if(this.children.length>0)if(this.properties.static){var e,t=oe(this.children);try{for(t.s();!(e=t.n()).done;)e.value.clear()}catch(e){t.e(e)}finally{t.f()}}else I(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[]}},{key:"getDropObjectInfo",value:function(){var e={allowDrop:!1,panel:null,position:-1,container:null},t=this.rb.getDataObject(this.rb.getBrowserDragId());if(null!==t){var r=!1;if(t instanceof be){if(this.data instanceof be&&this.data.isDroppingAllowed()?(e.container=this.data.getLinkedContainer(),null===e.container&&(e.container=this.data.getContainer(),r=!0)):"band"===this.panelName&&(e.container=this.data),null!==e.container&&e.container.isElementAllowed(t.getElementType())){e.allowDrop=!0;var n,o=oe(t.getLinkedContainers());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i===e.container||e.container.isChildOf(i)){e.allowDrop=!1;break}}}catch(e){o.e(e)}finally{o.f()}}}else if(t instanceof ye)if(this.data instanceof ye){var a=this.data.getParent();null!==a?a.getValue("type")===ye.type.array?t.getValue("type")!==ye.type.array&&t.getValue("type")!==ye.type.map&&t.getValue("type")!==ye.type.sum&&t.getValue("type")!==ye.type.average&&(e.allowDrop=!0,r=!0):a.getValue("type")===ye.type.map&&t.getValue("type")!==ye.type.array&&t.getValue("type")!==ye.type.map&&(e.allowDrop=!0,r=!0):(e.allowDrop=!0,r=!0)}else"parameter"===this.panelName&&(e.allowDrop=!0);else t instanceof X&&(this.data instanceof X?(e.allowDrop=!0,r=!0):"style"===this.panelName&&(e.allowDrop=!0));e.allowDrop&&(r?(e.panel=this.getParent(),e.position=this.getSiblingPosition()+1):(e.panel=this,e.position=0),(null===e.panel||e.panel===t.getPanelItem().getParent()&&e.position===t.getPanelItem().getSiblingPosition())&&(e.allowDrop=!1))}return e}},{key:"isDocElementPanel",value:function(){return this.panelName===be.type.text||this.panelName===be.type.image||this.panelName===be.type.line||this.panelName===be.type.table||this.panelName===be.type.pageBreak||this.panelName===be.type.barCode||this.panelName===be.type.frame||this.panelName===be.type.section||this.panelName===be.type.watermarkText||this.panelName===be.type.watermarkImage}}]),t}();function le(e,t,r){return t=s(t),l(e,se()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}var ue=function(t){function r(t,n,o,i,a,l){var s;return e(this,r),(s=le(this,r)).add=t,s.initialData=n,s.parentId=i,s.position=a,s.rb=l,s.id=o,s}return c(r,t),i(r,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){var t=new ye(this.id,this.initialData,this.rb);this.rb.addParameter(t);var r=t.getValue("showOnlyNameType"),n=new ae("parameter",e.getPanelItem(),t,{hasChildren:!r,showAdd:!r,showDelete:!r,draggable:!0},this.rb);n.openParentItems(),t.setPanelItem(n),e.getPanelItem().insertChild(this.position,n),t.setup(),this.rb.notifyEvent(t,d.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&(this.initialData=e.toJS(),this.rb.deleteParameter(e))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),r}(d);function ce(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pe,he,fe,ye=function(){function t(r,n,o){e(this,t),this.rb=o,this.id=r,this.name=o.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=t.type.string,this.arrayItemType=t.type.string,this.eval=!o.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.testDataRichText="",this.children=[],this.editable=o.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(n)}return i(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);"showOnlyNameType"in e&&e.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(e){e?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===t.type.array||this.type===t.type.map){var e,r=this.rb.getProperty("adminMode"),n=ce(this.children);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=new t(o.id||this.rb.getUniqueId(),o,this.rb);this.rb.addParameter(i);var a=i.getValue("showOnlyNameType"),l=r&&!a,s=new ae("parameter",this.panelItem,i,{hasChildren:!a,showAdd:l,showDelete:l,draggable:!0},this.rb);i.setPanelItem(s),this.panelItem.appendChild(s),i.setup(),this.rb.notifyEvent(i,d.operation.add)}}catch(e){n.e(e)}finally{n.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===t.type.average||this.type===t.type.sum}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){return["name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename","testDataRichText"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var e,r=this.id;if(this.type===t.type.array||this.type===t.type.map)for(var n=this.children.slice(),o=0;o<n.length;){var i=n[o];i.id>r&&(r=i.id),i.type!==t.type.array&&i.type!==t.type.map||n.push.apply(n,function(e){if(Array.isArray(e))return G(e)}(e=i.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o++}return r}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){this[e]=t,"type"===e&&this.updateMenuItemDisplay()}},{key:"getUpdateValue",value:function(e,t){return t}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&!this.showOnlyNameType&&(this.type===t.type.array||this.type===t.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return null!==this.panelItem&&this.panelItem.getParent().getData()instanceof t?this.panelItem.getParent().getData():null}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"expression",r);var n,o=ce(this.getChildren());try{for(o.s();!(n=o.n()).done;)n.value.addCommandsForChangedParameterName(e,t,r)}catch(e){o.e(e)}finally{o.f()}}},{key:"addCommandForChangedParameterName",value:function(e,r,n,o){var i,a,l=e.getParent();if(null!==l&&l.getValue("type")===t.type.map?(i="${"+l.getName()+"."+e.getName()+"}",a="${"+l.getName()+"."+r+"}"):e.getValue("type")===t.type.map?(i="${"+e.getName()+".",a="${"+r+"."):(i="${"+e.getName()+"}",a="${"+r+"}"),-1!==this.getValue(n).indexOf(i)){var s=new b(this.id,n,this.getValue(n).replaceAll(i,a),b.type.text,this.rb);o.addCommand(s)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(e,r,n){var o=r.length>0?r[0]:null;if(null!==o&&(o.type===t.type.array||o.type===t.type.map))try{var i=o.getTestData(!0);this.renameTestDataParameter(i,this.getName(),e,r,0);var a=JSON.stringify(i);if(this.testData!==a){var l=new b(o.getId(),"testData",a,b.type.text,this.rb);n.addCommand(l)}}catch(e){}}},{key:"renameTestDataParameter",value:function(e,t,r,n,o){var i,a=o+1,l=a<n.length,s=l?n[a].getName():t,u=ce(e);try{for(u.s();!(i=u.n()).done;){var c=i.value;s in c&&(l?this.renameTestDataParameter(c[s],t,r,n,a):(c[r]=c[s],delete c[s]))}}catch(e){u.e(e)}finally{u.f()}}},{key:"addCommandsForChangedParameterType",value:function(e,r){if(this.type===t.type.array||this.type===t.type.simpleArray||this.type===t.type.map||e===t.type.array||e===t.type.simpleArray||e===t.type.map){var n=new b(this.getId(),"testData","",b.type.text,this.rb);r.addCommand(n)}if(this.type!==t.type.array&&e===t.type.array){var o={name:"row_number",type:t.type.number,eval:!1,editable:!1,showOnlyNameType:!0},i=new ue(!0,o,this.rb.getUniqueId(),this.getId(),0,this.rb);r.addCommand(i)}else if(this.type===t.type.array&&e!==t.type.array){var a,l=ce(this.getChildren());try{for(l.s();!(a=l.n()).done;){var s=a.value;if("row_number"===s.getValue("name")&&!s.getValue("editable")){var u=new ue(!1,s.toJS(),s.getId(),this.getId(),s.getPanelItem().getSiblingPosition(),this.rb);r.addCommand(u);break}}}catch(e){l.e(e)}finally{l.f()}}}},{key:"toJS",value:function(){var e,r={},n=ce(this.getFields());try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o]=this.getValue(o)}}catch(e){n.e(e)}finally{n.f()}if(this.type===t.type.array||this.type===t.type.map){var i,a=[],l=ce(this.panelItem.getChildren());try{for(l.s();!(i=l.n()).done;){var s=i.value;a.push(s.getData().toJS())}}catch(e){l.e(e)}finally{l.f()}r.children=a}return r}},{key:"getChildren",value:function(){var e=[];if(this.type===t.type.array||this.type===t.type.map){var r,n=ce(this.panelItem.getChildren());try{for(n.s();!(r=n.n()).done;){var o=r.value;e.push(o.getData())}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"appendParameterItems",value:function(e,t,r){this.appendParameterItemsWithPrefix(e,t,r,"")}},{key:"appendParameterItemsWithPrefix",value:function(e,r,n,o){if(this.type===t.type.map){var i,a=[],l=[],s=ce(this.getChildren());try{for(s.s();!(i=s.n()).done;){var u=i.value;u.type===t.type.map?l.push(u):u.isAllowed(r)&&a.push(u)}}catch(e){s.e(e)}finally{s.f()}if(a.length>0){e.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:o+this.name});var c,d=ce(a);try{for(d.s();!(c=d.n()).done;){var p=c.value,h=o+this.name+"."+p.getName();e.push({name:h,nameLowerCase:h.toLowerCase(),id:p.getId(),description:"",dataSourceName:n})}}catch(e){d.e(e)}finally{d.f()}}for(var f=0,y=l;f<y.length;f++)y[f].appendParameterItemsWithPrefix(e,r,n,o+this.name+".")}else this.isAllowed(r)&&e.push({name:o+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:n})}},{key:"isAllowed",value:function(e){return this.type!==t.type.array?!Array.isArray(e)||-1!==e.indexOf(this.type):Array.isArray(e)&&-1!==e.indexOf(this.type)}},{key:"appendFieldParameterItems",value:function(e,r,n,o){if(this.type===t.type.array){var i,a=!0,l=ce(this.panelItem.getChildren());try{for(l.s();!(i=l.n()).done;){var s=i.value.getData();if(!Array.isArray(r)||-1!==r.indexOf(s.getValue("type"))){if(n){a&&e.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var u=s.getName();e.push({name:u,nameLowerCase:u.toLowerCase(),id:s.getId(),description:"",dataSourceName:o})}else{var c=this.name+"."+s.getName();e.push({name:c,nameLowerCase:c.toLowerCase(),id:s.getId(),description:"",dataSourceName:o})}a=!1}}}catch(e){l.e(e)}finally{l.f()}}if(n)for(var d=this.getParent();null!==d;){if(d.type===t.type.array){d.appendFieldParameterItems(e,r,n,d.name);break}d=d.getParent()}}},{key:"getParameterFields",value:function(){var e=[];if(this.type===t.type.array||this.type===t.type.simpleArray||this.type===t.type.map)if(this.type===t.type.simpleArray)e.push({name:"data",type:this.arrayItemType,parameter:this});else{var r,n=ce(this.getChildren());try{for(n.s();!(r=n.n()).done;){var o=r.value;o.showOnlyNameType||o.eval||o.isRangeFunction()||e.push({name:o.getName(),type:o.getValue("type"),parameter:o})}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"getTestData",value:function(e){var r=null;try{r=JSON.parse(this.testData)}catch(e){}return this.type!==t.type.array&&this.type!==t.type.simpleArray&&this.type!==t.type.map||!r?null:t.getSanitizedTestData(this,r,e)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(e,r,n){var o;if(e.type===t.type.map)r&&Object.getPrototypeOf(r)===Object.prototype||(r={}),o=t.getSanitizedTestDataMap(e,r,n);else if(e.type===t.type.simpleArray)o=t.getSanitizedTestDataSimpleArray(e,r,n);else if(e.type===t.type.array){Array.isArray(r)||(r=[]),o=[];var i,a=ce(r);try{for(a.s();!(i=a.n()).done;){var l=i.value;l&&Object.getPrototypeOf(l)===Object.prototype||(l={}),o.push(t.getSanitizedTestDataMap(e,l,n))}}catch(e){a.e(e)}finally{a.f()}}return o}},{key:"getSanitizedTestDataMap",value:function(e,r,n){var o,i={},a=ce(e.getChildren());try{for(a.s();!(o=a.n()).done;){var l=o.value;if(!l.showOnlyNameType){var s=l.name in r?r[l.name]:null;l.type===t.type.array||l.type===t.type.map?i[l.name]=t.getSanitizedTestData(l,s,n):l.type===t.type.simpleArray?i[l.name]=t.getSanitizedTestDataSimpleArray(l,s,n):i[l.name]=t.getSanitizedTestDataValue(l.type,s,n)}}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"getSanitizedTestDataSimpleArray",value:function(e,r,n){var o=r;Array.isArray(o)||(o=[]);var i,a=[],l=ce(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(Object.getPrototypeOf(s)===Object.prototype){var u=t.getSanitizedTestDataValue(e.arrayItemType,s.data,n);n?a.push({data:u}):a.push(u)}}}catch(e){l.e(e)}finally{l.f()}return a}},{key:"getSanitizedTestDataValue",value:function(e,r,n){var o=null;if(e===t.type.string)"string"==typeof r&&(o=r);else if(e===t.type.number){if("number"==typeof r)o=r;else if("string"==typeof r){var i=Number(r.replaceAll(",","."));isNaN(i)||(o=i)}}else e===t.type.boolean?o="boolean"==typeof r?r:Boolean(r):e===t.type.date?"string"==typeof r&&t.dateRegex.test(r)&&(o=r):e===t.type.image?o=r&&Object.getPrototypeOf(r)===Object.prototype&&"data"in r&&"filename"in r?n?r:r.data:n?{data:"",filename:""}:"":e===t.type.richText&&"string"==typeof r&&(o=r);return o}},{key:"removeIds",value:function(e){if(e.children){var t,r=ce(e.children);try{for(r.s();!(t=r.n()).done;){var n=t.value;"id"in n&&delete n.id}}catch(e){r.e(e)}finally{r.f()}}}}]),t}();function me(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}pe=ye,fe=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(he=n(he="dateRegex"))in pe?Object.defineProperty(pe,he,{value:fe,enumerable:!0,configurable:!0,writable:!0}):pe[he]=fe,ye.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",richText:"rich_text",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var be=function(){function r(t,n,o,i,a){e(this,r),this.rb=a,this.id=n,this.name=t,this.panelItem=null,this.x="0",this.y="0",this.width=""+o,this.height=""+i,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.styleId="",this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return i(r,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=P(this.x),this.yVal=P(this.y),this.widthVal=P(this.width),this.heightVal=P(this.height)}},{key:"setup",value:function(e){var t=this.getContainer();if(null!==t&&this.hasBoundaries()){var r=t.getContentSize();this.xVal+this.widthVal>r.width&&(this.xVal=r.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>r.height&&(this.yVal=r.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var e=this;this.el.addEventListener("dblclick",(function(t){e.rb.isSelectedObject(e.id)||(e.rb.selectObject(e.id,!0),t.stopPropagation())})),this.el.addEventListener("mousedown",(function(t){t.shiftKey?(e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isSelectedObject(e.id)?(e.rb.getDocument().startDrag(t.pageX,t.pageY,e.id,e.containerId,e.getElementType(),r.dragType.element),t.stopPropagation()):e.rb.deselectAll(!0)})),this.el.addEventListener("touchstart",(function(t){if(e.rb.isSelectedObject(e.id)){var n=j(t);e.rb.getDocument().startDrag(n.x,n.y,e.id,e.containerId,e.getElementType(),r.dragType.element)}t.preventDefault()})),this.el.addEventListener("touchmove",(function(t){e.rb.getDocument().processDrag(t)})),this.el.addEventListener("touchend",(function(t){e.rb.getDocument().stopDrag()}))}},{key:"registerEventHandlers",value:function(){var e=this;this.el.addEventListener("dblclick",(function(t){e.handleDoubleClick(t)})),this.el.addEventListener("mousedown",(function(t){e.handleClick(t,!1)})),this.el.addEventListener("touchstart",(function(t){if(e.rb.isSelectedObject(e.id)){var n=j(t);e.rb.getDocument().startDrag(n.x,n.y,e.id,e.containerId,e.getElementType(),r.dragType.element),t.preventDefault()}else e.handleClick(t,!0)})),this.el.addEventListener("touchmove",(function(t){e.rb.isSelectedObject(e.id)&&e.rb.getDocument().processDrag(t)})),this.el.addEventListener("touchend",(function(t){e.rb.isSelectedObject(e.id)&&e.rb.getDocument().stopDrag()}))}},{key:"handleDoubleClick",value:function(e){this.handleClick(e,!0)}},{key:"handleClick",value:function(e,t){if(this.rb.isSelectedObject(this.id))e.shiftKey?this.rb.deselectObject(this.id):t||this.rb.getDocument().startDrag(e.pageX,e.pageY,this.id,this.containerId,this.getElementType(),r.dragType.element),e.stopPropagation();else if(t||!this.isContainerSelected()){var n=!0;if(e.shiftKey){var o=[];this.appendContainerChildren(o);for(var i=0,a=o;i<a.length;i++){var l=a[i];if(this.rb.isSelectedObject(l.getId())){n=!1;break}}}n&&this.rb.selectObject(this.id,!e.shiftKey),e.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return null!==this.linkedContainerId?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var e=this.getLinkedContainer();return e?[e]:[]}},{key:"getContainerContentSize",value:function(){var e=this.getContainer();return null!==e?e.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var e=this.getContainer();null!==e&&e.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var e=this.getContainer();return null!==e&&e.isSelected()}},{key:"appendContainerChildren",value:function(e){if(null!==this.linkedContainerId&&null!==this.panelItem){var t,n=me(this.panelItem.getChildren());try{for(n.s();!(t=n.n()).done;){var o=t.value;o.getData()instanceof r&&(e.push(o.getData()),o.getData().appendContainerChildren(e))}}catch(e){n.e(e)}finally{n.f()}}}},{key:"getAbsolutePosition",value:function(){var e={x:this.xVal,y:this.yVal},t=this.getContainer();if(null!==t){var r=t.getOffset();e.x+=r.x,e.y+=r.y}return e}},{key:"updatePositionAndSize",value:function(e,t,n,o,i,a){if(this.hasBoundaries()&&(e+n>i.width&&(e=i.width-n),e<0&&(e=0),e+n>i.width&&(n=i.width-e),t+o>i.height&&(t=i.height-o),t<0&&(t=0),t+o>i.height&&(o=i.height-t)),e!==this.xVal&&this.hasProperty("x")){var l=new b(this.id,"x",""+e,b.type.text,this.rb);l.disableSelect(),a.addCommand(l)}if(t!==this.yVal&&this.hasProperty("y")){var s=new b(this.id,"y",""+t,b.type.text,this.rb);s.disableSelect(),a.addCommand(s)}if(n!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(n,!0,a),o!==this.getDisplayHeight()&&this.hasProperty("height")){var u=new b(this.id,"height",""+o,b.type.text,this.rb);u.disableSelect(),a.addCommand(u)}var c=this.getLinkedContainer();if(null!==c&&null!==c.getPanelItem()){var d,p={width:n,height:o},h=me(c.getPanelItem().getChildren());try{for(h.s();!(d=h.n()).done;){var f=d.value;if(f.getData()instanceof r){var y=f.getData();y.updatePositionAndSize(y.getValue("xVal"),y.getValue("yVal"),y.getDisplayWidth(),y.getDisplayHeight(),p,a)}}}catch(e){h.e(e)}finally{h.f()}}}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"x"===e||"y"===e||"width"===e||"height"===e)this[e+"Val"]=P(t),this.updateDisplay();else if("containerId"===e){null!==this.el&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var r=this.getLinkedContainers();if(r.length>0){var n,o=this.getContainer(),i=me(r);try{for(i.s();!(n=i.n()).done;)n.value.setParent(o)}catch(e){i.e(e)}finally{i.f()}}var a,l=me(this.rb.getContainers());try{for(l.s();!(a=l.n()).done;)a.value.initLevel()}catch(e){l.e(e)}finally{l.f()}this.updateDisplay()}else-1!==["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)&&(this.updateStyle(),-1!==["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(e)&&this.updateDisplay())}},{key:"getUpdateValue",value:function(e,t){return t}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId"),e}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(e){return-1!==this.getProperties().indexOf(e)}},{key:"getElementType",value:function(){return r.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(r),this.el.style.height=this.rb.toPixel(n))}},{key:"getStyle",value:function(){var e=this;if(""!==this.styleId){var t=this.rb.getDataObject(this.styleId);null!==t&&(e=t)}return e}},{key:"addCommandsForChangedStyle",value:function(e,t,r,n){if(e){var o=this.rb.getStyleById(e);if(null!==o){var i,a=this.getProperties(),l=me(o.getStyleProperties());try{for(l.s();!(i=l.n()).done;){var s=i.value;if(-1!==a.indexOf(s)){var u=t+s,c=o.getValue(s);if(c!==this.getValue(u)){var d=r[u],p=new b(this.getId(),u,c,d.type,this.rb);p.disableSelect(),n.addCommand(p)}}}}catch(e){l.e(e)}finally{l.f()}}}n.addCommand(new b(this.getId(),t+"styleId",e,b.type.select,this.rb))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(e){P(this.styleId)===e&&this.updateStyle()}},{key:"getDragDiff",value:function(e,t,n,o){var i,a,l={x:0,y:0},s=this.xVal,u=this.yVal,c=s+this.getDisplayWidth(),d=u+this.getDisplayHeight(),p=this.getMinWidth(),h=this.getMaxWidth(),f=this.getMinHeight();if(n===r.dragType.element)i=s+e,0!==o&&(i=O(i,o)),a=u+t,0!==o&&(a=O(a,o)),l.x=i-s,l.y=a-u;else{var y=this.getContainerContentSize();n!==r.dragType.sizerNW&&n!==r.dragType.sizerN&&n!==r.dragType.sizerNE||(a=u+t,0!==o&&(a=O(a,o)),a>d-f?a=0!==o?A(d-f,o):d-f:a<0&&(a=0),l.y=a-u),n!==r.dragType.sizerNE&&n!==r.dragType.sizerE&&n!==r.dragType.sizerSE||(i=c+e,0!==o&&(i=O(i,o)),i<s+p?i=0!==o?D(s+p,o):s+p:i>h&&(i=h),l.x=i-c),n!==r.dragType.sizerSE&&n!==r.dragType.sizerS&&n!==r.dragType.sizerSW||(a=d+t,0!==o&&(a=O(a,o)),a<u+f?a=0!==o?D(u+f,o):u+f:a>y.height&&(a=y.height),l.y=a-d),n!==r.dragType.sizerSW&&n!==r.dragType.sizerW&&n!==r.dragType.sizerNW||(i=s+e,0!==o&&(i=O(i,o)),i>c-p?i=0!==o?A(c-p,o):c-p:i<0&&(i=0),l.x=i-s)}return l}},{key:"updateDrag",value:function(e,t,n,o,i){var a=this.xVal,l=this.yVal,s=a+this.getDisplayWidth(),u=l+this.getDisplayHeight(),c=this.getMaxWidth(),d=this.getContainerContentSize();n===r.dragType.element?(s=(a+=e)+this.getDisplayWidth(),u=(l+=t)+this.getDisplayHeight()):(n!==r.dragType.sizerNW&&n!==r.dragType.sizerN&&n!==r.dragType.sizerNE||(l+=t),n!==r.dragType.sizerNE&&n!==r.dragType.sizerE&&n!==r.dragType.sizerSE||(s+=e),n!==r.dragType.sizerSE&&n!==r.dragType.sizerS&&n!==r.dragType.sizerSW||(u+=t),n!==r.dragType.sizerSW&&n!==r.dragType.sizerW&&n!==r.dragType.sizerNW||(a+=e),a<0&&(a=0),s<a&&(s=a),l<0&&(l=0),u<l&&(u=l),s>c&&(s=c),u>d.height&&(u=d.height));var p=s-a,h=u-l;if(null!==i){var f=!1,m=this.getContainer(),g={width:0,height:0};if(null!==o&&o.getId()!==this.getContainerId()){if(f=!0,g=o.getContentSize(),null!==m){var v=o.getOffsetTo(m);a-=v.x,l-=v.y}}else g=m.getContentSize();if(!f||o.isElementAllowed(this.getElementType())){var _=i.getCommands().length;if(this.updatePositionAndSize(a,l,p,h,g,i),f){var w=new b(this.id,"containerId",o.getId(),b.type.internal,this.rb);i.addCommand(w),w=new y(this.getPanelItem(),o.getPanelItem(),o.getPanelItem().getChildren().length,this.rb),i.addCommand(w)}i.getCommands().length===_&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(a,l,p,h)}},{key:"select",value:function(){var e=this;if(null!==this.el){var t,n=this.getSizerContainerElement(),o=me(this.getSizers());try{var i=function(){var o=t.value,i=o,a=E("div",{class:"rbroSizer rbroSizer".concat(o)});a.addEventListener("mousedown",(function(t){e.rb.getDocument().startDrag(t.pageX,t.pageY,e.id,e.containerId,e.getElementType(),r.dragType["sizer"+i]),t.stopPropagation()})),a.addEventListener("touchstart",(function(t){if(e.rb.isSelectedObject(e.id)){var n=j(t);e.rb.getDocument().startDrag(n.x,n.y,e.id,e.containerId,e.getElementType(),r.dragType["sizer"+i])}t.preventDefault(),t.stopPropagation()})),a.addEventListener("touchmove",(function(t){e.rb.getDocument().processDrag(t)})),a.addEventListener("touchend",(function(t){e.rb.getDocument().stopDrag()})),n.append(a)};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(null!==this.el){var e,t=me(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"hasBoundaries",value:function(){return!0}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var e=this.getValue("dataSource").trim();if(e.length>=3&&"${"===e.substring(0,2)&&"}"===e.charAt(e.length-1))return e.substring(2,e.length-1)}return null}},{key:"getAllDataSources",value:function(){var e=[],t=[];this.getAllDataSourceParameterNames(t,null);for(var r=t.length-1;r>=0;r--){var n,o=t[r],i=null,a=me(e);try{for(a.s();!(n=a.n()).done;){var l,s=me(n.value.parameters);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.getName()===o){i=u;break}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}null===i&&(i=this.rb.getParameterByName(o)),null!==i&&i.getValue("type")===ye.type.array&&e.unshift({name:o,parameters:i.getChildren()})}return e}},{key:"getAllDataSourceParameterNames",value:function(e,t){if((this.getElementType()===r.type.table||this.getElementType()===r.type.section)&&t&&t.getValue("bandType")===U.bandType.content){var n=this.getDataSourceParameterName();null!==n&&e.push(n)}var o=this.getPanelItem();if(null!==o){var i=o.getParent();null!==i&&i.getData()instanceof r&&i.getData().getAllDataSourceParameterNames(e,this)}}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){}},{key:"addCommandForChangedParameterName",value:function(e,t,r,n){for(var o=e.getParent(),i=this.getAllDataSources(),a=!1,l="",s=null,u=null;null!==o;){if(o.getValue("type")!==ye.type.map){if(o.getValue("type")===ye.type.array){a=!0,s=o.getName();break}return}l=o.getName()+"."+l,u=o.getName(),o=o.getParent()}var c="${"+l+e.getName(),d="${"+l+t;e.getValue("type")===ye.type.map?(c+=".",d+="."):(c+="}",d+="}");var p=!1;if(i.length>0){var h,f=u||e.getName(),y=me(i[0].parameters);try{for(y.s();!(h=y.n()).done;)if(h.value.getName()===f){p=!0;break}}catch(e){y.e(e)}finally{y.f()}}if(a){for(var m=-1,g=0;g<i.length;g++)if(i[g].name===s){m=g;break}0===m&&p&&i[0].name===s?this.addCommandForChangedText(c,d,r,n):m>0&&(c="${"+s+":"+c.substring(2),d="${"+s+":"+d.substring(2),this.addCommandForChangedText(c,d,r,n))}else p||(i.length>0&&(c="${:"+c.substring(2),d="${:"+d.substring(2)),this.addCommandForChangedText(c,d,r,n))}},{key:"addCommandForChangedText",value:function(e,r,n,o){var i=this.getValue(n),a=b.type.text;if("object"===t(i)&&(i=JSON.stringify(i),a=b.type.richText),-1!==i.indexOf(e)){var l=i.replaceAll(e,r);a===b.type.richText&&(l=JSON.parse(l));var s=new b(this.id,n,l,a,this.rb);o.addCommand(s)}}},{key:"addCommandsForDelete",value:function(e){var t=[];this.appendContainerChildren(t),t.push(this);for(var r=0,n=t;r<n.length;r++){var o=n[r],i=new bt(!1,o.getPanelItem().getPanelName(),o.toJS(),o.getId(),o.getContainerId(),o.getPanelItem().getSiblingPosition(),this.rb);e.addCommand(i)}}},{key:"addCommandsForChangedWidth",value:function(e,t,r){var n=new b(this.id,"width",""+e,b.type.text,this.rb);t&&n.disableSelect(),r.addCommand(n)}},{key:"addChildren",value:function(e){}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){null!==this.el&&(this.el.remove(),this.el=null),null!==this.panelItem&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var e,t={elementType:this.getElementType()},r=me(this.getFields());try{for(r.s();!(e=r.n()).done;){var n=e.value;-1===["x","y","width","height"].indexOf(n)?t[n]=this.getValue(n):t[n]=this.getValue(n+"Val")}}catch(e){r.e(e)}finally{r.f()}return t}}]),r}();be.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section",watermarkText:"watermark_text",watermarkImage:"watermark_image"},be.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var ve=r(6129),_e=r.n(ve),we=r(7583);function Ee(e,t,r){return t=s(t),l(e,Ie()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ie=function(){return!!e})()}var xe=function(t){function r(t,n,o){var i;return e(this,r),(i=Ee(this,r,[o.getLabel("docElementImage"),t,80,80,o])).elBarCode=null,i.elContent=null,i.content="",i.format="CODE128",i.displayValue=!1,i.barWidth="2",i.guardBar=!1,i.errorCorrectionLevel="M",i.rotate=!1,i.spreadsheet_hide=!1,i.spreadsheet_column="",i.spreadsheet_colspan="",i.spreadsheet_addEmptyRow=!1,i.setInitialData(n),i.name=i.rb.getLabel("docElementBarCode"),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),""!==this.content&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"content"!==e&&"format"!==e&&"displayValue"!==e&&"barWidth"!==e&&"guardBar"!==e&&"width"!==e&&"height"!==e&&"errorCorrectionLevel"!==e&&"rotate"!==e||(this.updateBarCode(),this.updateDisplay(),"rotate"===e&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return be.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(r),this.el.style.height=this.rb.toPixel(n))}},{key:"getSizers",value:function(){return"QRCode"!==this.format&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=E("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=E("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),p(s(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){p(s(r.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if("QRCode"===this.format){this.widthVal=this.heightVal,this.width=""+this.widthVal;var e=this.content;""===e&&(e="https://www.reportbro.com");var t={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),we.toCanvas(this.elBarCode,e,t)}else{var r=!1,n=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(n-=22),"EAN8"!==this.format&&"EAN13"!==this.format||!this.guardBar||(n-=12);var o={format:this.format,height:n,margin:0,displayValue:this.displayValue,width:2};"EAN8"===this.format||"EAN13"===this.format?o.flat=!this.guardBar:"UPC"===this.format&&(o.flat=!0);var i=P(this.barWidth);if(i&&(o.width=i),this.elBarCode.style.width="",this.elBarCode.style.height="",""!==this.content&&-1===this.content.indexOf("${"))try{_e()("#"+this.elBarCode.id,this.content,o),r=!0}catch(e){}if(!r){var a="";"CODE39"===this.format||"CODE128"===this.format?a="12345678":"EAN13"===this.format?a="5901234123457":"EAN8"===this.format?a="96385074":"EAN5"===this.format?a="12345":"EAN2"===this.format?a="12":"ITF14"===this.format?a="12345678901231":"UPC"===this.format?a="036000291452":"MSI"!==this.format&&"MSI10"!==this.format&&"MSI11"!==this.format&&"MSI1010"!==this.format&&"MSI1110"!==this.format&&"pharmacode"!==this.format||(a="1234"),_e()("#"+this.elBarCode.id,a,o)}if(this.rotate){var l=-(this.elBarCode.clientWidth-this.widthVal)/2,s=-l;this.elBarCode.style.transform="translate(".concat(l,"px, ").concat(s,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"content",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),r}(be);function ke(e,t,r){return t=s(t),l(e,Ce()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var Se=function(t){function r(t,n,o){return e(this,r),ke(this,r,[t,n,o])}return c(r,t),i(r,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==be.type.pageBreak&&e!==be.type.frame&&e!==be.type.section}},{key:"getOffset",value:function(){var e=0,t=0;if(null!==this.owner&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),null!==this.parent){var r=this.parent.getOffset();e+=r.x,t+=r.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;return null!==this.owner&&(e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal")),{width:e,height:t}}},{key:"getContentSize",value:function(){var e=0,t=0;if(null!==this.owner){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var r=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=r),this.owner.getValue("borderRight")&&(e-=r),this.owner.getValue("borderTop")&&(t-=r),this.owner.getValue("borderBottom")&&(t-=r)}return{width:e,height:t}}}]),r}(v);function Pe(e,t,r){return t=s(t),l(e,Oe()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}var Ae=function(t){function r(t,n,o){var i;return e(this,r),(i=Pe(this,r,[o.getLabel("docElementFrame"),t,100,100,o])).frame=null,i.setupComplete=!1,i.elContent=null,i.elContentFrame=null,i.label="",i.backgroundColor="",i.borderAll=!1,i.borderLeft=!1,i.borderTop=!1,i.borderRight=!1,i.borderBottom=!1,i.borderColor="#000000",i.borderWidth="1",i.shrinkToContentHeight=!1,i.alignToPageBottom=!1,i.spreadsheet_hide=!1,i.spreadsheet_column="",i.spreadsheet_addEmptyRow=!1,i.setInitialData(n),i.borderWidthVal=P(i.borderWidth),i}return c(r,t),i(r,[{key:"setup",value:function(e){this.borderWidthVal=P(this.borderWidth),p(s(r.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),null===this.linkedContainerId&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Se(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){p(s(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,t){-1!==e.indexOf("border")&&(this[e]=t,"borderWidth"===e&&(this.borderWidthVal=P(t)),X.setBorderValue(this,e,"",t,this.rb)),p(s(r.prototype),"setValue",this).call(this,e,t),"label"===e&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(r),this.el.style.height=this.rb.toPixel(n)),this.borderLeft&&(r-=this.borderWidthVal),this.borderRight&&(r-=this.borderWidthVal),this.borderTop&&(n-=this.borderWidthVal),this.borderBottom&&(n-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(r),this.elContentFrame.style.height=this.rb.toPixel(n)}},{key:"updateStyle",value:function(){var e;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(e=this.getValue("borderTop")?"solid":"none",e+=this.getValue("borderRight")?" solid":" none",e+=this.getValue("borderBottom")?" solid":" none",e+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):e="none",this.elContent.style.borderStyle=e,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){return["label","x","y","width","height","styleId","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return be.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=E("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=E("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){p(s(r.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){""!==this.label.trim()?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"getClassName",value:function(){return"FrameElement"}}]),r}(be);function De(e,t,r){return t=s(t),l(e,Te()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}var Le=function(t){function r(t,n,o){var i;return e(this,r),(i=De(this,r,[o.getLabel("docElementImage"),t,80,80,o])).source="",i.image="",i.imageWidth=0,i.imageHeight=0,i.imageRatio=0,i.imageFilename="",i.elImg=null,i.elContent=null,i.horizontalAlignment=X.alignment.left,i.verticalAlignment=X.alignment.top,i.backgroundColor="",i.link="",i.spreadsheet_hide=!1,i.spreadsheet_column="",i.spreadsheet_addEmptyRow=!1,i.setInitialData(n),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"source"!==e&&"imageFilename"!==e||this.updateName(),"source"!==e&&"image"!==e||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","styleId","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return be.type.image}},{key:"updateDisplayInternal",value:function(e,t,r,n){if(null!==this.el){this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(r),this.el.style.height=this.rb.toPixel(n);var o=0,i=0;if(0!==this.imageRatio&&(o=this.imageWidth<r?this.imageWidth:r,i=this.imageHeight<n?this.imageHeight:n,o!==this.imageWidth||i!==this.imageHeight)){var a=Math.floor(i*this.imageRatio);a<r?o=a:i=Math.floor(o/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(o),this.elImg.style.height=this.rb.toPixel(i)}}},{key:"updateStyle",value:function(){var e=this.getValue("horizontalAlignment"),t=this.getValue("verticalAlignment"),r="rbroDocElementAlign"+e.charAt(0).toUpperCase()+e.slice(1),n="rbroDocElementVAlign"+t.charAt(0).toUpperCase()+t.slice(1);this.elContent.style.textAlign=e,this.elContent.style.verticalAlign=t,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(r),this.elContent.classList.add(n)}},{key:"createElement",value:function(){var e=this;this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=E("img",{src:""}),this.elImg.addEventListener("load",(function(t){e.imageWidth=e.elImg.naturalWidth,e.imageHeight=e.elImg.naturalHeight,0!==e.imageHeight?e.imageRatio=e.imageWidth/e.imageHeight:e.imageRatio=0,e.updateDisplay()})),this.elContent=E("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),p(s(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,p(s(r.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):""!==this.image?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){""!==this.getValue("imageFilename").trim()?this.name=this.getValue("imageFilename"):""!==this.getValue("source").trim()?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var e=document.getElementById("rbro_menu_item_name".concat(this.id));e.textContent=this.name,e.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"source",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"getClassName",value:function(){return"ImageElement"}}]),r}(be);function je(e,t,r){return t=s(t),l(e,Be()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}var Ne=function(t){function r(t,n,o){var i;return e(this,r),(i=je(this,r,[o.getLabel("docElementLine"),t,100,1,o])).color="#000000",i.setInitialData(n),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"color"===e&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","styleId","color","printIf"]}},{key:"getElementType",value:function(){return be.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),p(s(r.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"getClassName",value:function(){return"LineElement"}}]),r}(be);function Re(e,t,r){return t=s(t),l(e,Me()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}var Fe=function(t){function r(t,n,o){var i;return e(this,r),(i=Re(this,r,[o.getLabel("docElementPageBreak"),t,-1,1,o])).setInitialData(n),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return be.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),p(s(r.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),r}(be);function Ve(e,t,r){return t=s(t),l(e,qe()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qe=function(){return!!e})()}var ze=function(t){function r(t,n,o,i){var a;return e(this,r),(a=Ve(this,r,[o===U.bandType.header?i.getLabel("bandHeader"):o===U.bandType.footer?i.getLabel("bandFooter"):i.getLabel("bandContent"),t,0,100,i])).setupComplete=!1,a.band=null,a.bandType=o,a.repeatHeader=!1,a.backgroundColor="",a.alternateBackgroundColor="",a.alwaysPrintOnSamePage=!0,a.shrinkToContentHeight=!1,a.parentId=n.parentId,a.heightVal=0,a.visible=o===U.bandType.content,a.setInitialData(n),a}return c(r,t),i(r,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),null===this.linkedContainerId&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new U(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var e={x:0,y:0},t=this.getParent();return null!==t&&(e=t.getAbsolutePosition()),e.y+=this.yVal,e}},{key:"setValue",value:function(e,t){if(p(s(r.prototype),"setValue",this).call(this,e,t),"height"===e){this[e+"Val"]=P(t);var n=this.getParent();null!==n&&n.updateBands(this)}else"backgroundColor"===e&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){var e=["height","styleId","backgroundColor","shrinkToContentHeight"];return this.bandType===U.bandType.header?e.push("repeatHeader"):(e.push("alwaysPrintOnSamePage"),e.push("shrinkToContentHeight"),this.bandType===U.bandType.content&&e.push("alternateBackgroundColor")),e}},{key:"updateDisplayInternal",value:function(e,t,r,n){if(null!==this.el&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(n),this.setupComplete)){var o=this.getParent();null!==o&&o.updateHeight(this,n)}}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"select",value:function(){p(s(r.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){p(s(r.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(E("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(e){this.visible=e,e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),r}(be);function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t,r){return t=s(t),l(e,Ue()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ue=function(){return!!e})()}var Ge=function(t){function r(t,n,o){var i;return e(this,r),(i=We(this,r,[o.getLabel("docElementSection"),t,-1,60,o])).setupComplete=!1,i.elDividerHeader=null,i.elDividerFooter=null,i.elDividerBottom=null,i.dataSource="",i.label="",i.header=!1,i.footer=!1,i.headerData=null,i.contentData=null,i.footerData=null,i.setInitialData(n),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(U.bandType.header,null),this.contentData=this.createBand(U.bandType.content,null),this.footerData=this.createBand(U.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t){var r,n,o=e+"Data",i={hasChildren:!0,showDelete:!1};t?r=t:this[o]?n=(r=this[o]).id:r={},r.parentId=this.id,r.containerId=this.containerId,n||(n=this.rb.getUniqueId());var a=0;e===U.bandType.header?r.y=""+a:e===U.bandType.content?(this.header&&null!==this.headerData&&(a+=this.headerData.getValue("heightVal")),r.y=""+a):e===U.bandType.footer&&(this.header&&null!==this.headerData&&(a+=this.headerData.getValue("heightVal")),null!==this.contentData&&(a+=this.contentData.getValue("heightVal")),r.y=""+a),(e===U.bandType.header&&!this.header||e===U.bandType.footer&&!this.footer)&&(i.visible=!1);var l=new ze(n,r,e,this.rb);this.rb.addDataObject(l);var s=new ae("sectionBand",this.panelItem,l,i,this.rb);return l.setPanelItem(s),this.panelItem.appendChild(s),l.setup(),e===U.bandType.header?l.show(this.header):e===U.bandType.footer&&l.show(this.footer),l}},{key:"registerEventHandlers",value:function(){p(s(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var e=this.id;return null!==this.footerData&&(e=this.footerData.getMaxId()),e}},{key:"appendContainerChildren",value:function(e){null!==this.headerData&&this.headerData.appendContainerChildren(e),null!==this.contentData&&this.contentData.appendContainerChildren(e),null!==this.footerData&&this.footerData.appendContainerChildren(e)}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"label"===e||"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):"containerId"===e&&(this.headerData.containerId=t,this.contentData.containerId=t,this.footerData.containerId=t),"header"!==e&&"footer"!==e||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(n))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return be.type.section}},{key:"select",value:function(){p(s(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,n=["N","S"];t<n.length;t++){var o=n[t];e.append(E("div",{class:"rbroSizer rbroSizer".concat(o," rbroSizerMove")}))}null!==this.headerData&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),null!==this.contentData&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),null!==this.footerData&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){p(s(r.prototype),"deselect",this).call(this);var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return He(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroHighlightBandDescription")}catch(e){t.e(e)}finally{t.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(E("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=E("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=E("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=E("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){p(s(r.prototype),"remove",this).call(this),null!==this.headerData&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),null!==this.contentData&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),null!==this.footerData&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){""!==this.label.trim()?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),""!==this.dataSource.trim()&&(this.name+=" "+this.dataSource)),null!==this.headerData&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),null!==this.contentData&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),null!==this.footerData&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(e){this.widthVal=e,this.width=""+e,null!==this.headerData&&(this.headerData.widthVal=e,this.headerData.width=""+e),null!==this.contentData&&(this.contentData.widthVal=e,this.contentData.width=""+e),null!==this.footerData&&(this.footerData.widthVal=e,this.footerData.width=""+e)}},{key:"updateHeight",value:function(e,t){var r=0;this.header&&null!==this.headerData?(e===this.headerData?r+=t:r+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(r),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),null!==this.contentData&&(e===this.contentData?r+=t:r+=this.contentData.getValue("heightVal")),this.footer&&null!==this.footerData?(this.elDividerFooter.style.top=this.rb.toPixel(r),this.elDividerFooter.classList.remove("rbroHidden"),e===this.footerData?r+=t:r+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(r),this.height=""+r,this.heightVal=r,this.updateDisplay()}},{key:"updateBands",value:function(e){if(this.setupComplete){var t=0;this.header&&(this.headerData!==e&&this.headerData.setValue("y",""+t),t+=this.headerData.getValue("heightVal")),this.contentData!==e&&this.contentData.setValue("y",""+t),t+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==e&&this.footerData.setValue("y",""+t)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var e,t=[],r=0,n=["headerData","contentData","footerData"];r<n.length;r++){var o=n[r];null!==this[o]&&null!==(e=this[o].getLinkedContainer())&&t.push(e)}return t}},{key:"hasDataSource",value:function(){return!0}},{key:"addChildren",value:function(e){e.push(this.headerData),e.push(this.contentData),e.push(this.footerData)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"dataSource",r),this.addCommandForChangedParameterName(e,t,"printIf",r)}},{key:"toJS",value:function(){var e=p(s(r.prototype),"toJS",this).call(this);return e.headerData=this.headerData.toJS(),e.contentData=this.contentData.toJS(),e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"SectionElement"}}]),r}(be);function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $e(e,t,r){return t=s(t),l(e,Xe()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}var Je=function(t){function r(t,n,o){var i;return e(this,r),(i=$e(this,r,[o.getLabel("docElementText"),t,100,20,o])).elContent=null,i.elContentText=null,i.elContentTextData=null,i.content="",i.richText=!1,i.richTextContent=null,i.richTextHtml="",i.eval=!1,i.styleId="",i.bold=!1,i.italic=!1,i.underline=!1,i.strikethrough=!1,i.horizontalAlignment=X.alignment.left,i.verticalAlignment=X.alignment.top,i.textColor="#000000",i.backgroundColor="",i.font=o.getProperty("defaultFont"),i.fontSize=12,i.lineSpacing=1,i.borderColor="#000000",i.borderWidth="1",i.borderAll=!1,i.borderLeft=!1,i.borderTop=!1,i.borderRight=!1,i.borderBottom=!1,i.paddingLeft="2",i.paddingTop="2",i.paddingRight="2",i.paddingBottom="2",i.cs_condition="",i.cs_styleId="",i.cs_additionalRules="",i.cs_bold=!1,i.cs_italic=!1,i.cs_underline=!1,i.cs_strikethrough=!1,i.cs_horizontalAlignment=X.alignment.left,i.cs_verticalAlignment=X.alignment.top,i.cs_textColor="#000000",i.cs_backgroundColor="",i.cs_font=X.font.helvetica,i.cs_fontSize=12,i.cs_lineSpacing=1,i.cs_borderColor="#000000",i.cs_borderWidth="1",i.cs_borderAll=!1,i.cs_borderLeft=!1,i.cs_borderTop=!1,i.cs_borderRight=!1,i.cs_borderBottom=!1,i.cs_paddingLeft="2",i.cs_paddingTop="2",i.cs_paddingRight="2",i.cs_paddingBottom="2",i.alwaysPrintOnSamePage=!0,i.pattern="",i.link="",i.spreadsheet_hide=!1,i.spreadsheet_column="",i.spreadsheet_colspan="",i.spreadsheet_addEmptyRow=!1,i.spreadsheet_type="",i.spreadsheet_pattern="",i.spreadsheet_textWrap=!1,i.setInitialData(n),i.borderWidthVal=P(i.borderWidth),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(e){p(s(r.prototype),"handleDoubleClick",this).call(this,e);var t=document.getElementById("rbro_doc_element_content");t.focus(),"number"==typeof t.selectionStart&&(t.selectionStart=t.selectionEnd=t.value.length)}},{key:"setValue",value:function(e,t){-1!==e.indexOf("border")&&(this[e]=t,"cs_"===e.substring(0,3)?("cs_borderWidth"===e&&(this.borderWidthVal=P(t)),X.setBorderValue(this,e,"cs_",t,this.rb)):("borderWidth"===e&&(this.borderWidthVal=P(t)),X.setBorderValue(this,e,"",t,this.rb))),p(s(r.prototype),"setValue",this).call(this,e,t),"content"===e?this.updateContent(t):"width"===e||"height"===e?this.updateDisplay():"richText"===e?(t?this.setupRichText():this.updateContent(this.content),this.updateStyle()):"richTextContent"===e?this.updateRichTextContent(t):"richTextHtml"===e&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=t)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return be.type.text}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(r),this.el.style.height=this.rb.toPixel(n));var o=this.getContentSize(r,n,this.getStyle());this.elContentText.style.width=this.rb.toPixel(o.width),this.elContentText.style.height=this.rb.toPixel(o.height)}},{key:"getContentSize",value:function(e,t,r){var n=r.getValue("borderWidthVal");return e-=P(r.getValue("paddingLeft"))+P(r.getValue("paddingRight")),r.getValue("borderLeft")&&(e-=n),r.getValue("borderRight")&&(e-=n),t-=P(r.getValue("paddingTop"))+P(r.getValue("paddingBottom")),r.getValue("borderTop")&&(t-=n),r.getValue("borderBottom")&&(t-=n),{width:e,height:t}}},{key:"updateStyle",value:function(){var e,t={},r=this.getStyle(),n="",o="",i=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),r);t.width=this.rb.toPixel(i.width),t.height=this.rb.toPixel(i.height);var a=r.getValue("horizontalAlignment"),l=r.getValue("verticalAlignment"),s="rbroDocElementAlign"+a.charAt(0).toUpperCase()+a.slice(1),u="rbroDocElementVAlign"+l.charAt(0).toUpperCase()+l.slice(1);t["vertical-align"]=l,t["background-color"]=r.getValue("backgroundColor"),this.richText?(t["font-weight"]="unset",t["font-style"]="normal",t["text-decoration"]="none",t["text-align"]="unset",t.color="#000000",t["font-family"]=this.rb.getProperty("defaultFont"),t["font-size"]="12px"):(t["font-weight"]=r.getValue("bold")?"bold":"",t["font-style"]=r.getValue("italic")?"italic":"normal",r.getValue("underline")&&r.getValue("strikethrough")?t["text-decoration"]="underline line-through":r.getValue("underline")?t["text-decoration"]="underline":r.getValue("strikethrough")?t["text-decoration"]="line-through":t["text-decoration"]="none",t["text-align"]=a,t.color=r.getValue("textColor"),t["font-family"]=r.getValue("font"),t["font-size"]=r.getValue("fontSize")+"px"),t["line-height"]=r.getValue("lineSpacing"),r.getValue("borderLeft")||r.getValue("borderTop")||r.getValue("borderRight")||r.getValue("borderBottom")?(e=r.getValue("borderTop")?"solid":"none",e+=r.getValue("borderRight")?" solid":" none",e+=r.getValue("borderBottom")?" solid":" none",e+=r.getValue("borderLeft")?" solid":" none",n=r.getValue("borderWidthVal")+"px",o=r.getValue("borderColor")):e="none",""!==r.getValue("paddingLeft")||""!==r.getValue("paddingTop")||""!==r.getValue("paddingRight")||""!==r.getValue("paddingBottom")?(t.padding=this.rb.toPixel(r.getValue("paddingTop")),t.padding+=" "+this.rb.toPixel(r.getValue("paddingRight")),t.padding+=" "+this.rb.toPixel(r.getValue("paddingBottom")),t.padding+=" "+this.rb.toPixel(r.getValue("paddingLeft"))):t.padding="",this.elContent.style.borderStyle=e,this.elContent.style.borderWidth=n,this.elContent.style.borderColor=o,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(s),this.elContent.classList.add(u);var c="";for(var d in t)c+=d+": "+t[d]+";";this.elContentText.style.cssText=c}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=E("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=E("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=E("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=E("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,p(s(r.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){""===e.trim()?this.name=this.rb.getLabel("docElementText"):this.name=e;var t=document.getElementById("rbro_menu_item_name".concat(this.id));t.textContent=this.name,t.setAttribute("title",this.name),this.elContentTextData.textContent=e}},{key:"updateRichTextContent",value:function(e){var t="";if(e&&e.ops){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(e.ops);try{for(n.s();!(r=n.n()).done;){var o=r.value;"insert"in o&&(t+=o.insert)}}catch(e){n.e(e)}finally{n.f()}(t=t.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(t=t.substring(0,80)),t=t.trim()}this.name=""===t?this.rb.getLabel("docElementText"):t;var i=document.getElementById("rbro_menu_item_name".concat(this.id));i.textContent=this.name,i.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"content",r),this.addCommandForChangedParameterName(e,t,"richTextContent",r),this.addCommandForChangedParameterName(e,t,"richTextHtml",r),this.addCommandForChangedParameterName(e,t,"printIf",r),this.addCommandForChangedParameterName(e,t,"cs_condition",r)}},{key:"toJS",value:function(){var e=p(s(r.prototype),"toJS",this).call(this),t=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom"];this.getElementType()!==be.type.watermarkText&&t.push("cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom");for(var n=0,o=t;n<o.length;n++){var i=o[n];e[i]=P(this.getValue(i))}return e}},{key:"getClassName",value:function(){return"TextElement"}}]),r}(be);function Ze(e,t,r){return t=s(t),l(e,Ye()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function Ye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ye=function(){return!!e})()}var Qe=function(t){function r(t,n,o){var i;return e(this,r),(i=Ze(this,r,[t,n,o])).elContent=null,i.elContentText=null,i.elContentTextData=null,i.colspan=n.colspan||"",i.colspanVal=1,i.columnIndex=n.columnIndex,i.parentId=n.parentId,i.tableId=n.tableId,i.displayWidth=i.widthVal,i.lastTouchStartTime=0,i.updateColspanVal(),i}return c(r,t),i(r,[{key:"setInitialData",value:function(e){this.growWeight=0,p(s(r.prototype),"setInitialData",this).call(this,e)}},{key:"registerEventHandlers",value:function(){var e=this;this.el.addEventListener("dblclick",(function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())})),this.el.addEventListener("mousedown",(function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())})),this.el.addEventListener("touchstart",(function(t){e.rb.isSelectedObject(e.id)||((new Date).getTime()-e.lastTouchStartTime<1e3?e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation())),e.lastTouchStartTime=(new Date).getTime()}))}},{key:"getContainerId",value:function(){var e=this.getTable();return null!==e?e.getContainerId():null}},{key:"getValue",value:function(e){return"xReadOnly"===e?this.getOffsetX():p(s(r.prototype),"getValue",this).call(this,e)}},{key:"setValue",value:function(e,t){if(p(s(r.prototype),"setValue",this).call(this,e,t),"width"===e){var n=this.getTable();null!==n&&(n.updateColumnWidth(this.columnIndex,t),n.updateColumnDisplay())}else if("height"===e)this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if("colspan"===e){this.updateColspanVal();var o=this.rb.getDataObject(this.tableId);null!==o&&o.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(e,t){if("width"===e){var r=P(t);if(this.colspanVal>1){var n=this.rb.getDataObject(this.parentId);if(null!==n){var o=this.getNextCellIndex(),i=n.getSingleCellWidths();o>i.length&&(o=i.length);for(var a=this.columnIndex+1;a<o;a++)r+=i[a]}}return""===t&&0===r?"":""+r}return t}},{key:"setWidth",value:function(e){this.width=e,this.widthVal=P(e)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(e){this.displayWidth=e}},{key:"getDisplayWidthSplit",value:function(e){if(1===this.colspanVal)return[e];var t=[20],r=20,n=this.rb.getDataObject(this.parentId);if(null!==n){var o=this.getNextCellIndex(),i=n.getSingleCellWidths();o>i.length&&(o=i.length);for(var a=this.columnIndex+1;a<o;a++)t.push(i[a]),r+=i[a];var l=e-r;if(l>0)t[0]+=l;else if(l<0){var s=1;for(l=-l;s<t.length;){if(t[s]-20>l){t[s]-=l;break}l-=t[s]-20,t[s]=20,s++}}}return t}},{key:"updateColspanVal",value:function(){this.colspanVal=P(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),null!==this.el&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,1,"id"),e}},{key:"getProperties",value:function(){var e=["xReadOnly","width","content","richText","richTextContent","richTextHtml","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"],t=this.rb.getDataObject(this.parentId);return null!==t&&t.getValue("bandType")===U.bandType.header&&(e.push("printIf"),e.push("growWeight")),e}},{key:"getElementType",value:function(){return be.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,r,n){this.updateDisplayInternalNotify(e,t,r,n,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,r,n,o){null!==this.el&&(this.el.style.width=this.rb.toPixel(r-1));var i=this.getContentSize(r,n,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(i.width),this.elContentText.style.height=this.rb.toPixel(i.height),o){var a=this.rb.getDataObject(this.tableId);if(null!==a){for(var l=this.rb.getDataObject(this.parentId),s=r,u=l.getSingleCellWidths(),c=0;c<u.length;c++)(c<this.columnIndex||c>=this.columnIndex+this.colspanVal)&&(s+=u[c]);for(var d=this.getDisplayWidthSplit(r),p=0;p<d.length;p++)a.notifyColumnWidthResized(l,this.columnIndex+p,d[p],s)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(null!==e&&null!==t){for(var r=this.rb.getDocumentProperties().getContentSize().width,n=t.getSingleCellWidths(),o=0,i=0;i<n.length;i++)(i<this.columnIndex||i>=this.columnIndex+this.colspanVal)&&(o+=n[i]);return r-o-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(null!==e){for(var t=e.getSingleCellWidths(),r=0,n=0;n<this.columnIndex;n++)r+=t[n];return r}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=E("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=E("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=E("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=E("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(e,t,r){var n=this.getDisplayWidthSplit(e),o=this.getParent();if(null!==o)for(var i=n.length-1;i>=0;i--){var a=new b(o.getColumn(this.columnIndex+i).getId(),"width",""+n[i],b.type.text,this.rb);(t||i>0)&&a.disableSelect(),r.addCommand(a)}}},{key:"insertColumn",value:function(e){var t=this.getParent(),r=this.getTable();if(null!==t&&null!==r){var n=t.getColumnIndex(this);if(-1!==n){var o=new ne("Insert column"),i=new bt(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);o.addCommand(i);var a=P(r.getValue("columns"))+1;r.setValue("columns",a),r.getValue("headerData").createColumns(a,!0,n,e);for(var l=0;l<r.getValue("contentDataRows").length;l++)r.getValue("contentDataRows")[l].createColumns(a,!0,n,e);r.getValue("footerData").createColumns(a,!0,n,e),i=new bt(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),o.addCommand(i),this.rb.executeCommand(o),this.rb.selectObject(this.getParent().getValue("columnData")[e?n:n+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var e=this.getParent(),t=this.getTable();if(null!==e&&null!==t){var r=e.getColumnIndex(this);if(-1!==r){var n=new ne("Delete column"),o=new bt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);n.addCommand(o);var i=P(t.getValue("columns"))-1;t.setValue("columns",i);var a=t.getValue("widthVal");t.setValue("width",a-this.widthVal),t.getValue("headerData").deleteColumn(r);for(var l=0;l<t.getValue("contentDataRows").length;l++)t.getValue("contentDataRows")[l].deleteColumn(r);t.getValue("footerData").deleteColumn(r),o=new bt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),n.addCommand(o),this.rb.executeCommand(n)}}}},{key:"toJS",value:function(){var e=p(s(r.prototype),"toJS",this).call(this);return e.growWeight=P(e.growWeight),e}},{key:"getClassName",value:function(){return"TableTextElement"}}]),r}(Je);function et(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rt(e,t,r){return t=s(t),l(e,nt()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nt=function(){return!!e})()}var ot=function(t){function r(t,n,o,i){var a;return e(this,r),(a=rt(this,r,["header"===o?i.getLabel("bandHeader"):"footer"===o?i.getLabel("bandFooter"):i.getLabel("bandContent"),t,0,20,i])).bandType=o,a.repeatHeader=!1,a.alwaysPrintOnSamePage=!0,a.pageBreak=!1,a.backgroundColor="",a.alternateBackgroundColor="",a.groupExpression="",a.repeatGroupHeader=!1,a.parentId=n.parentId,a.columnData=[],a.heightVal=0,a.setInitialData(n),a}return c(r,t),i(r,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=P(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e,t=this.id,r=et(this.columnData);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.getId()>t&&(t=n.getId())}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getContainerId",value:function(){var e=this.getParent();return null!==e?e.getContainerId():null}},{key:"setValue",value:function(e,t){if(this[e]=t,"height"===e){var r=P(t);this[e+"Val"]=r;var n,o=et(this.getElement().querySelectorAll("td"));try{for(o.s();!(n=o.n()).done;)n.value.style.height=this.rb.toPixel(r)}catch(e){o.e(e)}finally{o.f()}var i,a=et(this.columnData);try{for(a.s();!(i=a.n()).done;)i.value.setValue(e,t)}catch(e){a.e(e)}finally{a.f()}var l=this.getParent();null!==l&&l.updateHeight()}else"backgroundColor"===e&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){var e=["height","styleId","backgroundColor"];return this.bandType===U.bandType.header?e.push("repeatHeader"):this.bandType===U.bandType.content&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage"),e.push("pageBreak"),e.push("repeatGroupHeader")),e}},{key:"updateDisplayInternal",value:function(e,t,r,n){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=E("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e]);p(s(r.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t,r,n){if(null!==this.panelItem){if(t)for(var o=0;o<this.columnData.length;o++)this.columnData[o].remove(),o>=e&&this.rb.deleteDataObject(this.columnData[o]);for(var i=[],a=0;a<e;a++){var l=void 0,s=void 0,u=t?20:100,c=a;-1!==r&&(n?a===r?(u=this.columnData[r].getValue("widthVal"),c=-1):a>=r&&c--:a===r+1?(u=this.columnData[r].getValue("widthVal"),c=-1):a>r&&c--),-1!==c&&c<this.columnData.length?((l=this.columnData[c]).columnIndex=a,s=l.id,t||(l.band=this.band,l.parentId=this.id,l.tableId=this.parentId,l.height=this.height)):l={band:this.band,columnIndex:a,parentId:this.id,tableId:this.parentId,width:u,height:this.height},s||(s=this.rb.getUniqueId());var d=new Qe(s,l,this.rb);i.push(d),this.rb.addDataObject(d);var p=new ae(be.type.text,this.panelItem,d,{showDelete:!1},this.rb);d.setPanelItem(p),this.panelItem.appendChild(p)}this.columnData=i;for(var h=0,f=i;h<f.length;h++)f[h].setup(!0);this.updateColumnDisplay();var y,m=et(this.getElement().querySelectorAll("td"));try{for(m.s();!(y=m.n()).done;)y.value.style.height=this.rb.toPixel(this.heightVal)}catch(e){m.e(e)}finally{m.f()}}}},{key:"deleteColumn",value:function(e){e<this.columnData.length&&(this.columnData[e].remove(),this.rb.deleteDataObject(this.columnData[e]),this.columnData.splice(e,1))}},{key:"show",value:function(e){e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){e<this.columnData.length&&this.columnData[e].setWidth(t)}},{key:"updateColumnDisplay",value:function(){for(var e=0;e<this.columnData.length;){var t=this.columnData[e],r=t.getValue("widthVal"),n=t.getValue("colspanVal");if(t.getElement().style.display="",n>1){var o=e+n<this.columnData.length?e+n:this.columnData.length;for(e++;e<o;)r+=this.columnData[e].getValue("widthVal"),this.columnData[e].getElement().style.display="none",e++}else e++;t.setDisplayWidth(r),t.updateDisplay()}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(e,t){for(var r=0;r<this.columnData.length;){var n=this.columnData[r],o=n.getNextCellIndex();if(o>e){if(o>r+1)for(var i=r;i<o&&i<this.columnData.length;i++)i!==e&&(t+=this.columnData[i].getValue("widthVal"));n.updateDisplayInternalNotify(0,0,t,n.getValue("heightVal"),!1);break}r=o}}},{key:"getColumnIndex",value:function(e){for(var t=0;t<this.columnData.length;t++)if(e===this.columnData[t])return t;return-1}},{key:"getWidth",value:function(){for(var e=0,t=0;t<this.columnData.length;){var r=this.columnData[t];e+=r.getDisplayWidth();var n=r.getValue("colspanVal");n>1?t+=n:t++}return e}},{key:"getSingleCellWidths",value:function(){var e,t=[],r=et(this.columnData);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.getValue("widthVal"))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"insertRow",value:function(e){var t=this.getParent();if(null!==t){var r=t.getContentRowIndex(this);if(-1!==r){var n=new ne("Insert row"),o=new bt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);n.addCommand(o);var i=P(t.getValue("contentRows"))+1;t.setValue("contentRows",i);var a,l=t.getValue("contentDataRows")[r],s={height:l.height,columnData:[]},u=et(l.columnData);try{for(u.s();!(a=u.n()).done;){var c=a.value;s.columnData.push({width:c.width})}}catch(e){u.e(e)}finally{u.f()}var d=t.createBand("content",-1,s);t.getValue("contentDataRows").splice(e?r:r+1,0,d),o=new bt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),n.addCommand(o),this.rb.executeCommand(n),this.rb.selectObject(d.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var e=this.getParent();if(null!==e){var t=e.getContentRowIndex(this),r=P(e.getValue("contentRows"));if(-1!==t&&r>1){var n=new ne("Delete row"),o=new bt(!1,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb);n.addCommand(o);var i=e.toJS();i.contentRows=r-1,i.contentDataRows.splice(t,1),o=new bt(!0,e.getPanelItem().getPanelName(),i,e.getId(),e.getContainerId(),-1,this.rb),n.addCommand(o),this.rb.executeCommand(n)}}}},{key:"addChildren",value:function(e){var t,r=et(this.columnData);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"toJS",value:function(){var e=p(s(r.prototype),"toJS",this).call(this);e.columnData=[];var t,n=et(this.columnData);try{for(n.s();!(t=n.n()).done;){var o=t.value;e.columnData.push(o.toJS())}}catch(e){n.e(e)}finally{n.f()}return e}},{key:"getClassName",value:function(){return"TableBandElement"}}]),r}(be);function it(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?at(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lt(e,t,r){return t=s(t),l(e,st()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function st(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(st=function(){return!!e})()}var ut=function(t){function r(t,n,o){var i;return e(this,r),(i=lt(this,r,[o.getLabel("docElementTable"),t,200,40,o])).setupComplete=!1,i.dataSource="",i.borderColor="#000000",i.borderWidth="1",i.border=r.border.grid,i.header=!0,i.footer=!1,i.contentRows="1",i.columns="2",i.headerData=null,i.contentDataRows=[],i.footerData=null,i.spreadsheet_hide=!1,i.spreadsheet_column="",i.spreadsheet_addEmptyRow=!1,i.setInitialData(n),i.borderWidthVal=P(i.borderWidth),i}return c(r,t),i(r,[{key:"setup",value:function(e){p(s(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var t=P(this.contentRows);t<1&&(t=1);for(var n=[],o=0;o<t;o++)n.push(this.createBand("content",o,null));this.contentDataRows=n,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t,r){var n,o,i=e+("content"===e?"DataRows":"Data"),a={hasChildren:!0,showDelete:!1};r?n=r:this[i]&&("content"!==e||-1!==t&&t<this[i].length)?o=(n="content"===e?this[i][t]:this[i]).id:n={},n.parentId=this.id,o||(o=this.rb.getUniqueId()),("header"===e&&!this.header||"footer"===e&&!this.footer)&&(a.visible=!1);var l=new ot(o,n,e,this.rb);this.rb.addDataObject(l);var s=new ae("tableBand",this.panelItem,l,a,this.rb);l.setPanelItem(s),this.panelItem.appendChild(s),l.setup();var u=P(this.columns);return l.createColumns(u,!1,-1,!1),s.open(),"header"===e?l.show(this.header):"footer"===e&&l.show(this.footer),l}},{key:"getMaxId",value:function(){var e,t=this.id;(e=this.headerData.getMaxId())>t&&(t=e);for(var r=0;r<this.contentDataRows.length;r++)(e=this.contentDataRows[r].getMaxId())>t&&(t=e);return(e=this.footerData.getMaxId())>t&&(t=e),t}},{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"dataSource"===e?this.updateName():"header"===e?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):"footer"===e?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):-1!==e.indexOf("border")&&("borderWidth"===e&&(this.borderWidthVal=P(t)),this.updateStyle()),"header"!==e&&"footer"!==e&&"contentRows"!==e||this.updateHeight()}},{key:"updateDisplayInternal",value:function(e,t,r,n){null!==this.el&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t))}},{key:"updateStyle",value:function(){var e,t=this.el.querySelector("table");this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.frame?(t.style.borderStyle="solid",t.style.borderWidth=this.borderWidthVal+"px",t.style.borderColor=this.borderColor):t.style.borderStyle="none";var n="",o="",i="";this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.row?(n="solid none solid none",o=this.borderWidthVal+"px",i=this.borderColor):n="none";var a=this.headerData.getElement();for(a.style.borderStyle=n,a.style.borderWidth=o,a.style.borderColor=i,e=0;e<this.contentDataRows.length;e++){var l=this.contentDataRows[e].getElement();l.style.borderStyle=n,l.style.borderWidth=o,l.style.borderColor=i}var s=this.footerData.getElement();s.style.borderStyle=n,s.style.borderWidth=o,s.style.borderColor=i,this.border===r.border.grid?(n="none solid none solid",o=this.borderWidthVal+"px",i=this.borderColor):n="none";var u,c=it(this.headerData.getElement().querySelectorAll("td"));try{for(c.s();!(u=c.n()).done;){var d=u.value;d.style.borderStyle=n,d.style.borderWidth=o,d.style.borderColor=i}}catch(e){c.e(e)}finally{c.f()}for(e=0;e<this.contentDataRows.length;e++){var p,h=it(this.contentDataRows[e].getElement().querySelectorAll("td"));try{for(h.s();!(p=h.n()).done;){var f=p.value;f.style.borderStyle=n,f.style.borderWidth=o,f.style.borderColor=i}}catch(e){h.e(e)}finally{h.f()}}var y,m=it(this.footerData.getElement().querySelectorAll("td"));try{for(m.s();!(y=m.n()).done;){var g=y.value;g.style.borderStyle=n,g.style.borderWidth=o,g.style.borderColor=i}}catch(e){m.e(e)}finally{m.f()}for(var b=0,v=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];b<v.length;b++){var _=v[b];this.el.classList.remove(_)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","width"),e}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","styleId","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return be.type.table}},{key:"select",value:function(){p(s(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,n=["NE","SE","SW","NW"];t<n.length;t++){var o=n[t];e.append(E("div",{class:"rbroSizer rbroSizer".concat(o," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=E("div",{class:"rbroDocElement rbroTableElement"});var e=E("table",{id:"rbro_el_table".concat(this.id)});e.append(E("thead",{id:"rbro_el_table_header".concat(this.id)})),e.append(E("tbody",{id:"rbro_el_table_content".concat(this.id)})),e.append(E("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(e),this.appendToContainer(),this.registerEventHandlers(),e.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,p(s(r.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(e,t){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var e=0;e<this.contentDataRows.length;e++)this.contentDataRows[e].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var e=0;this.header&&(e+=this.headerData.getHeight());for(var t=0;t<this.contentDataRows.length;t++)e+=this.contentDataRows[t].getHeight();this.footer&&(e+=this.footerData.getHeight()),this.height=""+e,this.heightVal=e}}},{key:"notifyColumnWidthResized",value:function(e,t,r,n){if(this.setupComplete){e!==this.headerData&&this.headerData.notifyColumnWidthResized(t,r);for(var o=0;o<this.contentDataRows.length;o++)e!==this.contentDataRows[o]&&this.contentDataRows[o].notifyColumnWidthResized(t,r);e!==this.footerData&&this.footerData.notifyColumnWidthResized(t,r),this.width=""+n,this.widthVal=n,document.getElementById("rbro_el_table".concat(this.id)).style.width=n+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),""!==this.dataSource.trim()&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(e){for(var t=0;t<this.contentDataRows.length;t++)if(e===this.contentDataRows[t])return t;return-1}},{key:"addChildren",value:function(e){var t;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,r){this.addCommandForChangedParameterName(e,t,"dataSource",r)}},{key:"createSpaceForNewColumns",value:function(e,t){for(var n=r.getColumnMinWidth(),o=e*n,i=t-1;i>=0;){var a=this.headerData.getColumn(i),l=a.getValue("widthVal")-n,s=n;if(l>o&&(s=a.getValue("widthVal")-o),this.updateColumnWidth(i,s),(o-=l)<=0)break;i--}}},{key:"hasEnoughAvailableSpace",value:function(e){var t=P(this.columns),n=Math.floor(this.widthVal/r.getColumnMinWidth());return!(e>t&&e>n)}},{key:"addCommandsForChangedColumns",value:function(e,t){if(this.hasEnoughAvailableSpace(e)){var r=P(this.columns),n=new bt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(n),e>r)this.createSpaceForNewColumns(e-r,r);else if(e<r){for(var o=0,i=0;i<e;i++)o+=this.headerData.getColumn(i).getValue("widthVal");var a=this.headerData.getColumn(e-1);this.widthVal-o>0&&this.updateColumnWidth(e-1,a.getValue("widthVal")+(this.widthVal-o))}this.columns=e,this.headerData.createColumns(e,!0,-1,!1);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].createColumns(e,!0,-1,!1);this.footerData.createColumns(e,!0,-1,!1),n=new bt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(n)}}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==P(this.contentRows)){var r,n=new bt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(n),e<this.contentDataRows.length){for(r=e;r<this.contentDataRows.length;r++)this.rb.deleteDataObject(this.contentDataRows[r]),this.contentDataRows[r].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var o;if(this.contentDataRows.length>0){o={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var i,a=it(this.contentDataRows[0].columnData);try{for(a.s();!(i=a.n()).done;){var l=i.value;o.columnData.push({width:l.width})}}catch(e){a.e(e)}finally{a.f()}}for(r=this.contentDataRows.length;r<e;r++)this.contentDataRows.push(this.createBand("content",r,o))}this.contentRows=""+e,n=new bt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(n)}}},{key:"toJS",value:function(){var e=p(s(r.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var t=[],n=0;n<this.contentDataRows.length;n++)t.push(this.contentDataRows[n].toJS());return e.contentDataRows=t,e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(e){for(var t=0,n=["headerData","footerData"];t<n.length;t++){var o=n[t];r.removeBandIds(e[o])}for(var i=0;i<e.contentDataRows.length;i++)r.removeBandIds(e.contentDataRows[i])}},{key:"removeBandIds",value:function(e){delete e.id;var t,r=it(e.columnData);try{for(r.s();!(t=r.n()).done;)delete t.value.id}catch(e){r.e(e)}finally{r.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),r}(be);function ct(e,t,r){return t=s(t),l(e,dt()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dt=function(){return!!e})()}ut.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var pt=function(t){function r(t,n,o){var i;e(this,r),(i=ct(this,r,[t,n,o])).rotateDeg=0,i.opacity=30,i.showInForeground=!1;for(var a=0,l=["rotateDeg","opacity","showInForeground"];a<l.length;a++){var s=l[a];n.hasOwnProperty(s)&&i.hasOwnProperty(s)&&(i[s]=n[s])}return i}return c(r,t),i(r,[{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"rotateDeg"!==e&&"opacity"!==e||this.updateDisplay()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","rotateDeg","opacity","showInForeground","styleId","horizontalAlignment","verticalAlignment","backgroundColor","printIf"]}},{key:"getElementType",value:function(){return be.type.watermarkImage}},{key:"updateDisplayInternal",value:function(e,t,n,o){p(s(r.prototype),"updateDisplayInternal",this).call(this,e,t,n,o),this.el.style.rotate=this.rotateDeg+"deg",this.elContent.style.opacity=this.opacity/100}},{key:"select",value:function(){p(s(r.prototype),"select",this).call(this),this.el.classList.remove("rbroHidden"),this.el.style.zIndex=""}},{key:"deselect",value:function(){p(s(r.prototype),"deselect",this).call(this),this.el.classList.add("rbroHidden")}},{key:"createElement",value:function(){p(s(r.prototype),"createElement",this).call(this),this.el.classList.add("rbroHidden")}},{key:"hasBoundaries",value:function(){return!1}},{key:"getClassName",value:function(){return"WatermarkImageElement"}}]),r}(Le);function ht(e,t,r){return t=s(t),l(e,ft()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ft=function(){return!!e})()}var yt=function(t){function r(t,n,o){var i;e(this,r),(i=ht(this,r,[t,n,o])).rotateDeg=0,i.opacity=30,i.showInForeground=!1;for(var a=0,l=["rotateDeg","opacity","showInForeground"];a<l.length;a++){var s=l[a];n.hasOwnProperty(s)&&i.hasOwnProperty(s)&&(i[s]=n[s])}return i}return c(r,t),i(r,[{key:"setValue",value:function(e,t){p(s(r.prototype),"setValue",this).call(this,e,t),"rotateDeg"!==e&&"opacity"!==e||this.updateDisplay()}},{key:"getProperties",value:function(){return["x","y","width","height","content","eval","rotateDeg","opacity","showInForeground","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf"]}},{key:"getElementType",value:function(){return be.type.watermarkText}},{key:"updateDisplayInternal",value:function(e,t,n,o){p(s(r.prototype),"updateDisplayInternal",this).call(this,e,t,n,o),this.el.style.rotate=this.rotateDeg+"deg",this.elContent.style.opacity=this.opacity/100}},{key:"select",value:function(){p(s(r.prototype),"select",this).call(this),this.el.classList.remove("rbroHidden"),this.el.style.zIndex=""}},{key:"deselect",value:function(){p(s(r.prototype),"deselect",this).call(this),this.el.classList.add("rbroHidden")}},{key:"createElement",value:function(){p(s(r.prototype),"createElement",this).call(this),this.el.classList.add("rbroHidden")}},{key:"hasBoundaries",value:function(){return!1}},{key:"getClassName",value:function(){return"WatermarkTextElement"}}]),r}(Je);function mt(e,t,r){return t=s(t),l(e,gt()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gt=function(){return!!e})()}var bt=function(t){function r(t,n,o,i,a,l,s){var u;return e(this,r),(u=mt(this,r)).add=t,u.elementType=n,u.initialData=o,u.parentId=a,u.position=l,u.rb=s,u.id=i,u.firstExecution=!0,u}return c(r,t),i(r,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(null!==this.rb.getDataObject(this.parentId)){var e=r.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(e,d.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=e.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);null!==e&&this.rb.deleteDocElement(e)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(e,t,r,n,o,i){var a,l={draggable:!0};r===be.type.text?a=new Je(e,t,i):r===be.type.line?a=new Ne(e,t,i):r===be.type.image?a=new Le(e,t,i):r===be.type.pageBreak?a=new Fe(e,t,i):r===be.type.table?(a=new ut(e,t,i),l.hasChildren=!0):r===be.type.frame?(a=new Ae(e,t,i),l.hasChildren=!0):r===be.type.section?(a=new Ge(e,t,i),l.hasChildren=!0):r===be.type.barCode?a=new xe(e,t,i):r===be.type.watermarkText?a=new yt(e,t,i):r===be.type.watermarkImage&&(a=new pt(e,t,i)),i.addDocElement(a);var s=a.getContainer().getPanelItem(),u=new ae(r,s,a,l,i);return a.setPanelItem(u),s.insertChild(n,u),a.setup(o),a}}]),r}(d);function vt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wt=function(){function t(r,n,o){e(this,t),this.rootElement=r,this.rb=o,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=n,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=be.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return i(t,[{key:"render",value:function(){var e=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",(function(t){e.rb.isDocElementSelected()&&!t.shiftKey&&e.rb.deselectAll(!0);var r=k(e.elDocContent);e.startSelectionArea(e.getCoordWithoutZoom(t.pageX-r.left),e.getCoordWithoutZoom(t.pageY-r.top))}));var r=E("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(r.addEventListener("mousedown",(function(e){e.stopPropagation()})),this.elTabPdfLayout=E("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",(function(r){e.setDocumentTab(t.tab.pdfLayout)})),r.append(this.elTabPdfLayout),this.elTabPdfPreview=E("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",(function(r){e.setDocumentTab(t.tab.pdfPreview)})),this.rb.getProperty("enableSpreadsheet")){var n=E("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});n.addEventListener("click",(function(t){e.rb.downloadSpreadsheet()})),this.elTabPdfPreview.append(n)}var o=E("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});o.addEventListener("click",(function(t){e.closePdfPreviewTab()})),this.elTabPdfPreview.append(o),r.append(this.elTabPdfPreview),this.elPanel.append(r);var i=this.rb.getDocumentProperties();this.elDoc=E("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=E("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=E("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(E("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=E("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(E("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=E("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(E("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=E("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=E("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=E("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=E("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=E("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=E("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=E("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=E("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var a=i.getPageSize();this.updatePageSize(a.width,a.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(t.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var e=this;this.elDocContent.addEventListener("dragover",(function(t){e.processDragover(t)})),this.elDocContent.addEventListener("dragenter",(function(t){e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount++,t.preventDefault())})),this.elDocContent.addEventListener("dragleave",(function(t){if(e.rb.isBrowserDragActive("docElement")&&(e.dragEnterCount--,0===e.dragEnterCount)){var r,n=vt(document.querySelectorAll(".rbroElementContainer"));try{for(n.s();!(r=n.n()).done;)r.value.classList.remove("rbroElementDragOver")}catch(e){n.e(e)}finally{n.f()}e.dragContainerId=null}})),this.elDocContent.addEventListener("drop",(function(t){return e.processDrop(t),!1}))}},{key:"processMouseMove",value:function(e){if(this.dragging)this.processDrag(e);else if(this.selectionAreaStarted){var t=k(this.elDocContent),r=this.getSelectionArea(this.getCoordWithoutZoom(e.pageX-t.left),this.getCoordWithoutZoom(e.pageY-t.top));this.elSelectionArea.style.left=this.rb.toPixel(r.left),this.elSelectionArea.style.top=this.rb.toPixel(r.top),this.elSelectionArea.style.width=this.rb.toPixel(r.width),this.elSelectionArea.style.height=this.rb.toPixel(r.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(e){if(this.rb.isBrowserDragActive("docElement")){var t=j(e),r=null;null!==t&&(r=this.getContainer(t.x,t.y,this.dragElementType,[]),this.dragCurrentX=t.x,this.dragCurrentY=t.y);var n=null!==r?r.getId():null;if(n!==this.dragContainerId){var o,i=vt(document.querySelectorAll(".rbroElementContainer"));try{for(i.s();!(o=i.n()).done;)o.value.classList.remove("rbroElementDragOver")}catch(e){i.e(e)}finally{i.f()}null!==r&&r.dragOver(),this.dragContainerId=n}e.preventDefault(),e.stopPropagation()}}},{key:"processDrop",value:function(e){if(this.rb.isBrowserDragActive("docElement")){e.preventDefault();var t,r=vt(document.querySelectorAll(".rbroElementContainer"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(e){r.e(e)}finally{r.f()}if(this.dragElementType===be.type.image&&null!==this.rb.getProperty("imageLimit")){var n,o=0,i=vt(this.rb.getDocElements(!0));try{for(i.s();!(n=i.n()).done;)n.value.getElementType()===be.type.image&&o++}catch(e){i.e(e)}finally{i.f()}if(o>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var a=j(e);null!==a&&(this.dragCurrentX=a.x,this.dragCurrentY=a.y);for(var l=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);null!==l&&!l.isElementAllowed(this.dragElementType);)l=l.getParent();if(null!==l&&l.isElementAllowed(this.dragElementType)){var s=k(this.elDocContent),u=this.getCoordWithoutZoom(this.dragCurrentX-s.left),c=this.getCoordWithoutZoom(this.dragCurrentY-s.top),d=l.getOffset();if(u-=d.x,c-=d.y,!e.ctrlKey&&this.rb.getDocument().isGridVisible()){var p=this.rb.getDocument().getGridSize();u=O(u,p),c=O(c,p)}var h={x:""+u,y:""+c,containerId:l.getId()},f=new bt(!0,this.dragElementType,h,this.rb.getUniqueId(),l.getId(),-1,this.rb);this.rb.executeCommand(f)}}}},{key:"processDrag",value:function(e){var t=j(e);if(this.dragType===be.dragType.element){var r=this.getContainer(t.x,t.y,this.dragElementType,this.dragLinkedContainers),n=null!==r?r.getId():null;if(n!==this.dragCurrentContainerId){var o,i=vt(document.querySelectorAll(".rbroElementContainer"));try{for(i.s();!(o=i.n()).done;)o.value.classList.remove("rbroElementDragOver")}catch(e){i.e(e)}finally{i.f()}null!==r&&n!==this.dragContainerId&&r.dragOver()}this.dragCurrentContainerId=n}this.dragCurrentX=t.x,this.dragCurrentY=t.y,this.dragSnapToGrid=!e.ctrlKey;var a=this.rb.getDataObject(this.dragObjectId);if(null!==a){var l=a.getDragDiff(this.getCoordWithoutZoom(t.x-this.dragStartX),this.getCoordWithoutZoom(t.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(l.x,l.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(e,t){this.elDoc.style.width=this.rb.toPixel(e),this.elDoc.style.height=this.rb.toPixel(t)}},{key:"updatePageMargins",value:function(){var e=this.rb.getDocumentProperties(),t=P(e.getValue("marginLeft")),r=P(e.getValue("marginTop")),n=P(e.getValue("marginRight")),o=P(e.getValue("marginBottom")),i=this.rb.toPixel(t),a=this.rb.toPixel(r-1),l=this.rb.toPixel(n),s=this.rb.toPixel(o);this.elDividerMarginLeft.style.left=i,this.elDividerMarginTop.style.top=a,0!==t?(this.elDividerMarginLeft.style.left=i,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",0!==r?(this.elDividerMarginTop.style.top=a,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",0!==n?(this.elDividerMarginRight.style.right=l,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",0!==o?(this.elDividerMarginBottom.style.bottom=s,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=i,this.elDocContent.style.top=a,this.elDocContent.style.right=l,this.elDocContent.style.bottom=s}},{key:"updateHeader",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("header")){var t=this.rb.toPixel(e.getValue("headerSize"));this.elHeader.style.height=t,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(P(e.getValue("marginTop"))+P(e.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=t}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var e=this.rb.getDocumentProperties();if(e.getValue("footer")){var t=this.rb.toPixel(e.getValue("footerSize"));this.elFooter.style.height=t,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(P(e.getValue("marginBottom"))+P(e.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=t}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(e){var r,n=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),o=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),i=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),a=vt(n);try{for(a.s();!(r=a.n()).done;)r.value.classList.remove("rbroActive")}catch(e){a.e(e)}finally{a.f()}if(e===t.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var l,s=vt(o);try{for(s.s();!(l=s.n()).done;){var u=l.value;u.classList.remove("rbroDisabled"),u.draggable=!0}}catch(e){s.e(e)}finally{s.f()}var c,d=vt(i);try{for(d.s();!(c=d.n()).done;)c.value.disabled=!1}catch(e){d.e(e)}finally{d.f()}}else if(this.pdfPreviewExists&&e===t.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var p,h=vt(o);try{for(h.s();!(p=h.n()).done;){var f=p.value;f.classList.add("rbroDisabled"),f.draggable=!1}}catch(e){h.e(e)}finally{h.f()}var y,m=vt(i);try{for(m.s();!(y=m.n()).done;)y.value.disabled=!0}catch(e){m.e(e)}finally{m.f()}}}},{key:"openPdfPreviewTab",value:function(e,r){if(I(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),r&&Object.keys(r).length>0){var n=this,o=new XMLHttpRequest;for(var i in o.responseType="blob",o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status){var e=document.createElement("object");e.type="application/pdf",e.width="100%",e.height="100%",n.pdfPreviewObjectURL=URL.createObjectURL(o.response),e.data=n.pdfPreviewObjectURL,n.elPdfPreview.append(e)}else alert("preview failed")},o.open("GET",e,!0),r)r.hasOwnProperty(i)&&o.setRequestHeader(i,r[i]);o.send()}else{var a=E("object",{data:e,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(a)}this.pdfPreviewExists=!0,this.setDocumentTab(t.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,I(this.elPdfPreview),this.setDocumentTab(t.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var e=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),e++):this.elTabPdfPreview.classList.add("rbroHidden"),e>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(e,t,r,n){var o=k(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(e-o.left),this.getCoordWithoutZoom(t-o.top),r,n)}},{key:"getContentScrollPosY",value:function(){var e=k(this.elDocContent);return k(this.elPanel).top-e.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var e=0;e<this.zoomLevels.length-1;e++)if(this.zoom===this.zoomLevels[e]){this.updateZoomLevel(this.zoomLevels[e+1]);break}}},{key:"zoomOut",value:function(){for(var e=1;e<this.zoomLevels.length;e++)if(this.zoom===this.zoomLevels[e]){this.updateZoomLevel(this.zoomLevels[e-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(e){this.zoom=e;var t=this.rb.getDocumentProperties().getPageSize(),r=t.width*(e/100),n=t.height*(e/100),o=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),i=getComputedStyle(this.elPanel),a=parseInt(i.paddingTop)||0,l=parseInt(i.paddingBottom)||0,s=this.elPanel.clientHeight-a-l,u=0;100!==e?(t.width>o?(this.elDoc.style.transformOrigin="",e<100&&r<o&&(u=Math.round((o-r)/2))):r>o?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(u,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=e+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=r<o?"hidden":"",this.elPanel.style.overflowY=n<s?"hidden":""}},{key:"getCoordWithoutZoom",value:function(e){return Math.round(e*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(e){return e===U.bandType.header?this.elHeader:e===U.bandType.content?this.elContent:e===U.bandType.footer?this.elFooter:null}},{key:"getPageElement",value:function(){return this.elDoc}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(e,t,r,n,o,i){this.dragging=!0,this.dragStartX=this.dragCurrentX=e,this.dragStartY=this.dragCurrentY=t,this.dragElementType=o,this.dragType=i,this.dragObjectId=r,this.dragContainerId=n,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var a=this.rb.getDataObject(this.dragObjectId);a&&(this.dragLinkedContainers=a.getLinkedContainers())}},{key:"stopDrag",value:function(){var e=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),t=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),r=this.rb.getDataObject(this.dragObjectId);if(null===r||0===e&&0===t)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var n=null;this.dragType===be.dragType.element&&(n=this.rb.getDataObject(this.dragCurrentContainerId));var o=this.rb.getSelectedObjects();if(o.length>1&&null!==n)for(var i=o[0].getContainerId(),a=1;a<o.length;a++)if(o[a].getContainerId()!==i){n=null;break}var l=r.getDragDiff(e,t,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(l.x,l.y,this.dragType,n,!0)}this.dragging=!1,this.dragType=be.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var s,u=vt(document.querySelectorAll(".rbroElementContainer"));try{for(u.s();!(s=u.n()).done;)s.value.classList.remove("rbroElementDragOver")}catch(e){u.e(e)}finally{u.f()}}},{key:"startBrowserDrag",value:function(e){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=e,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(e,t){this.selectionAreaStarted=!0,this.selectionAreaStartX=e,this.selectionAreaStartY=t}},{key:"stopSelectionArea",value:function(e,t,r){var n=this.getSelectionArea(e,t);if(n.width>10&&n.height>10){var o,i=vt(this.rb.getDocElements(!0));try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.isAreaSelectionAllowed()){var l=a.getAbsolutePosition();if(n.left<l.x+a.getValue("widthVal")&&n.left+n.width>=l.x&&n.top<l.y+a.getValue("heightVal")&&n.top+n.height>=l.y){var s=!0;if(a.getContainerId()){var u=a.getContainer();null!==u&&u.isSelected()&&(s=!1)}s&&(this.rb.selectObject(a.getId(),r),r=!1)}}}}catch(e){i.e(e)}finally{i.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(e,t){var r={};return e>this.selectionAreaStartX?(r.left=this.selectionAreaStartX,r.width=e-this.selectionAreaStartX):(r.left=e,r.width=this.selectionAreaStartX-e),t>this.selectionAreaStartY?(r.top=this.selectionAreaStartY,r.height=t-this.selectionAreaStartY):(r.top=t,r.height=this.selectionAreaStartY-t),r}},{key:"mouseUp",value:function(e){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var t=k(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(e.pageX-t.left),this.getCoordWithoutZoom(e.pageY-t.top),!e.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),t}();wt.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var Et,It,xt="function"==typeof Map?new Map:(Et=[],It=[],{has:function(e){return Et.indexOf(e)>-1},get:function(e){return It[Et.indexOf(e)]},set:function(e,t){-1===Et.indexOf(e)&&(Et.push(e),It.push(t))},delete:function(e){var t=Et.indexOf(e);t>-1&&(Et.splice(t,1),It.splice(t,1))}}),kt=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(Et){kt=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function Ct(e){var t=xt.get(e);t&&t.destroy()}function St(e){var t=xt.get(e);t&&t.update()}var Pt=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((Pt=function(e){return e}).destroy=function(e){return e},Pt.update=function(e){return e}):((Pt=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!xt.has(e)){var t,r=null,n=null,o=null,i=function(){e.clientWidth!==n&&u()},a=function(t){window.removeEventListener("resize",i,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach((function(r){e.style[r]=t[r]})),xt.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",i,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",xt.set(e,{destroy:a,update:u}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(r)&&(r=0),u()}function l(t){var r=e.style.width;e.style.width="0px",e.style.width=r,e.style.overflowY=t}function s(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&(e.parentNode.style.scrollBehavior="auto",t.push([e.parentNode,e.parentNode.scrollTop])),e=e.parentNode;return function(){return t.forEach((function(e){var t=e[0];t.scrollTop=e[1],t.style.scrollBehavior=null}))}}(e);e.style.height="",e.style.height=e.scrollHeight+r+"px",n=e.clientWidth,t()}}function u(){s();var t=Math.round(parseFloat(e.style.height)),r=window.getComputedStyle(e,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):e.offsetHeight;if(n<t?"hidden"===r.overflowY&&(l("scroll"),s(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==r.overflowY&&(l("hidden"),s(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),o!==n){o=n;var i=kt("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],Ct),e},Pt.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],St),e});const Ot=Pt;function At(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tt=function(){function r(t,n){e(this,r),this.rootElement=t,this.rb=n,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return i(r,[{key:"render",value:function(){var e=this;this.elWindow=E("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=E("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",(function(e){e.stopPropagation()})),this.elWindow.append(this.elContent);var t=E("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});t.addEventListener("click",(function(t){e.hide()})),this.elWindow.append(t),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(e,t,n,o,i,a,l,s,u,c){var d=this,p=window.innerWidth,h=window.innerHeight,f=null,y=null;if(this.input=""!==n?document.getElementById(n):null,this.objId=t,this.field=o,this.type=i,this.items=e,I(this.elContent),this.rootParameter=l,this.rootDataType=s,this.rootFields=u,this.nextRowId=1,this.rowMap={},a&&(y=a.getSelection()),i===r.type.data){l?(console.assert(null===s&&null===u&&null===c),s=l.type,u=l.getParameterFields(),c=l.getTestData(!0)):s===ye.type.map?this.dataEmptyBeforeEdit=0===Object.keys(c).length:s!==ye.type.array&&s!==ye.type.simpleArray||!Array.isArray(c)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=0===c.length,this.createDataTable(this.elContent,l,s,u,c);var m=Math.round(.8*p),g=Math.round(.8*h),b=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((p-m)/2)+"px",this.elWindow.style.top=Math.round((h-g)/2)+b+"px",this.elWindow.style.width=m+"px",this.elWindow.style.height=g+"px",document.body.append(E("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{i!==r.type.parameterSet&&i!==r.type.parameterAppend||((f=E("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",(function(e){d.filterParameters(f.value)})),this.elContent.append(f));var v=E("ul");v.addEventListener("mousedown",(function(e){e.preventDefault()}));var _,w=At(e);try{var x=function(){var e=_.value,t=E("li");if(e.separator){i!==r.type.parameterSet&&i!==r.type.parameterAppend||!e.id||t.setAttribute("id","parameter_group_"+e.id);var n="rbroPopupItemSeparator";e.separatorClass&&(n+=" "+e.separatorClass),t.setAttribute("class",n)}else i!==r.type.parameterSet&&i!==r.type.parameterAppend||!e.id||t.setAttribute("id","parameter_"+e.id),t.addEventListener("mousedown",(function(t){if(i===r.type.pattern)d.input.value=e.name,d.input.dispatchEvent(new Event("input")),d.hide();else if(i===r.type.parameterSet||i===r.type.parameterAppend){var n="${"+(null!==e.dataSourceName?e.dataSourceName+":":"")+e.name+"}";i===r.type.parameterSet?(d.input.value=n,d.input.dispatchEvent(new Event("input")),Ot.update(d.input)):a?y&&a.insertText(y.index,n):(function(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(e.selectionStart||0===e.selectionStart){var r=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,r)+t+e.value.substring(n,e.value.length),e.focus(),e.selectionStart=r+t.length,e.selectionEnd=r+t.length,e.scrollTop=o}else e.value+=t,e.focus()}(d.input,n),Ot.update(d.input),d.input.dispatchEvent(new Event("input"))),d.hide()}t.preventDefault()}));t.append(E("div",{class:"rbroPopupItemHeader"},e.name)),e.description&&""!==e.description&&t.append(E("div",{class:"rbroPopupItemDescription"},e.description)),v.append(t)};for(w.s();!(_=w.n()).done;)x()}catch(e){w.e(e)}finally{w.f()}this.elContent.append(v);var C=k(this.input),S=C.top;S<h/2||S<300?S+this.input.clientHeight+300<h&&(S+=this.input.clientHeight):S-=300,this.elWindow.style.left=C.left+"px",this.elWindow.style.top=S+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,null!==f&&f.focus();var P,O=At(this.elWindow.querySelectorAll("textarea"));try{for(O.s();!(P=O.n()).done;){var A=P.value;Ot.update(A)}}catch(e){O.e(e)}finally{O.f()}}},{key:"hide",value:function(){if(this.visible){if(null!==this.input&&this.input.focus(),this.type===r.type.data){var e,t=!0;if(this.rootParameter?e=this.getTestData(this.elContent,this.rootParameter):(e=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===ye.type.map?t=this.isDataEmpty(e,this.rootFields):this.rootDataType!==ye.type.array&&this.rootDataType!==ye.type.simpleArray||!Array.isArray(e)||(0===e.length?t=!1:1===e.length&&(t=!this.isDataEmpty(e[0],this.rootFields))))),t){var n=this.rb.getDataObject(this.objId),o=JSON.stringify(e);if(null!==n&&n.getValue(this.field)!==o){var i=new b(this.objId,this.field,o,b.type.text,this.rb);this.rb.executeCommand(i)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),I(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(e,r){var n,o=!0,i=At(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.name in e){var l=e[a.name];a.type===ye.type.string||a.type===ye.type.number||a.type===ye.type.date?""!==l&&(o=!1):a.type===ye.type.boolean?l&&(o=!1):a.type===ye.type.image?"object"===t(l)&&"filename"in l&&""!==l.filename&&(o=!1):a.type===ye.type.array||a.type===ye.type.simpleArray?l.length>0&&(o=!1):a.type===ye.type.map&&Object.keys(l).length>0&&(o=!1)}}}catch(e){i.e(e)}finally{i.f()}return o}},{key:"createDataTable",value:function(e,t,r,n,o){var i,a=this,l=E("div"),s=E("table"),u=E("tr"),c=E("tbody");r===ye.type.array||r===ye.type.simpleArray?Array.isArray(o)||(o=[]):r===ye.type.map&&(o&&Object.getPrototypeOf(o)===Object.prototype||(o={}));var d=E("th");r===ye.type.map&&(d.style.display="none"),u.append(d);var p,h=At(n);try{for(h.s();!(p=h.n()).done;){var f=p.value,y=E("th",{},f.label?f.label:f.name);f.type===ye.type.image&&y.append(E("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),u.append(y)}}catch(e){h.e(e)}finally{h.f()}var m=E("thead");if(m.append(u),s.append(m),r===ye.type.map){var g=[o];this.addDataRow(c,t,r,n,g,0)}else{var b=Array.isArray(o)?o:[];if(0===b.length)this.addEmptyDataRow(c,t,r,n);else for(i=0;i<b.length;i++)this.addDataRow(c,t,r,n,b,i)}if(s.append(c),l.append(s),r!==ye.type.map){var v=E("div",{class:"rbroButton rbroFullWidthButton"});v.append(E("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),v.addEventListener("click",(function(e){a.addEmptyDataRow(c,t,r,n)})),l.append(v)}I(e),e.append(l)}},{key:"addEmptyDataRow",value:function(e,t,r,n){var o,i={},a=At(n);try{for(a.s();!(o=a.n()).done;){var l=o.value;l.type===ye.type.array||l.type===ye.type.simpleArray?i[l.name]=[]:l.type===ye.type.map?i[l.name]={}:i[l.name]=""}}catch(e){a.e(e)}finally{a.f()}var s=[i];this.addDataRow(e,t,r,n,s,0)}},{key:"addDataRow",value:function(e,t,r,n,o,i){var a=this,l=o[i],s=E("tr");s.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:l},this.nextRowId++;var u=E("td");if(r!==ye.type.map){var c=E("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});c.addEventListener("click",(function(e){var t=e.target.parentElement.parentElement,r=t.dataset.rowId;t.remove();var n=a.rowMap[r];o.splice(o.indexOf(n.data),1),delete a.rowMap[r]})),u.append(c)}else u.style.display="none";s.append(u);var d,p=n.length,h=At(n);try{for(h.s();!(d=h.n()).done;){var f=d.value,y=f.type===ye.type.array||f.type===ye.type.simpleArray?[]:"";null!==l&&f.name in l&&(y=l[f.name]),this.appendColumn(s,f,y,l,p)}}catch(e){h.e(e)}finally{h.f()}e.append(s)}},{key:"appendColumn",value:function(e,t,r,n,o){var i=this,a=E("td");if(t.type===ye.type.array||t.type===ye.type.simpleArray||t.type===ye.type.map){var l=E("div",{class:"expandableCell"}),s=E("span",{class:"rbroIcon-plus"});l.append(s);var u=E("span");if(l.append(u),l.addEventListener("click",(function(r){var a=!l.classList.contains("rbroExpandedCell"),c=e.nextElementSibling;if(c&&"TR"===c.tagName){var d=c.querySelector("td table");if(d){var p,h=At(e.querySelectorAll(".expandableCell"));try{for(h.s();!(p=h.n()).done;){var f=p.value;if(f.classList.contains("rbroExpandedCell")){f.classList.remove("rbroExpandedCell");var y=f.children[0],m=f.children[1];y.classList.remove("rbroIcon-minus"),y.classList.add("rbroIcon-plus");var g=i.rowMap[c.dataset.rowId];if("table"===g.type&&(g.parentData[g.field.name]=i.getTestData(d,g.field.parameter),g.field.type===ye.type.array||g.field.type===ye.type.simpleArray)){var b=g.field.name in n&&Array.isArray(n[g.field.name])?n[g.field.name].length:0;i.setTableRowCount(m,b)}break}}}catch(e){h.e(e)}finally{h.f()}c.remove()}}if(a){var v=E("tr");v.dataset.rowId=String(i.nextRowId),i.rowMap[String(i.nextRowId)]={type:"table",field:t,parentData:n},i.nextRowId++;var _=E("td",{colspan:String(o+1)}),w=t.parameter.getParameterFields();if(w.length>0){var I=n[t.name];i.createDataTable(_,t.parameter,t.parameter.type,w,I),v.append(_),e.insertAdjacentElement("afterend",v),l.classList.add("rbroExpandedCell"),s.classList.remove("rbroIcon-plus"),s.classList.add("rbroIcon-minus"),u.textContent=""}else t.parameter.getValue("type")===ye.type.map?alert(i.rb.getLabel("parameterEditTestDataMapNoFields")):alert(i.rb.getLabel("parameterEditTestDataArrayNoFields"))}})),t.type===ye.type.array||t.type===ye.type.simpleArray){var c=t.name in n&&Array.isArray(n[t.name])?n[t.name].length:0;this.setTableRowCount(u,c)}a.append(l)}else if(t.type===ye.type.image){var d=E("div",{class:"rbroImageFileContainer"}),p=E("input",{type:"file"});p.addEventListener("change",(function(e){var r=e.target.files;r&&r[0]&&B(r[0],(function(e,r){n[t.name]={data:e,filename:r},h.classList.remove("rbroHidden"),f.textContent=r}),i.rb)})),d.append(p);var h=E("div",{class:"rbroImageFile rbroHidden"}),f=E("div");h.append(f);var y=E("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});y.addEventListener("click",(function(e){p.value="",n[t.name]={data:"",filename:""},h.classList.add("rbroHidden"),f.textContent=""})),h.append(y),d.append(h),r.filename&&(f.textContent=r.filename,h.classList.remove("rbroHidden")),a.append(d)}else{var m;t.attributes&&t.attributes.multiLine?(console.assert(t.type===ye.type.string),m=E("textarea",{rows:1}),r&&(m.value=r),Ot(m)):t.attributes&&t.attributes.select?(console.assert(t.type===ye.type.string||t.type===ye.type.number),m=E("select"),"style"===t.attributes.select&&N(m,be.type.text,r||null,this.rb)):(m=E("input"),t.type===ye.type.boolean?(m.setAttribute("type","checkbox"),r&&(m.checked=!0),a.classList.add("rbroDataCheckbox")):(m.setAttribute("type","text"),r&&m.setAttribute("value",r),t.type===ye.type.number?m.addEventListener("keyup",(function(e){var t=e.target.value,r=t.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),n=e.target.className,o=n?n.indexOf("decimalPlaces"):-1;if(-1!==o){o+=13;var i,a=n.indexOf(" ",o);i=-1!==a?parseInt(n.substring(o,a),10):parseInt(n.substring(o),10),isNaN(i)||(-1===(o=r.indexOf("."))&&(o=r.indexOf(",")),-1!==o&&r.length-1-o>i&&(r=r.substring(0,o+i+1)))}t!==r&&(e.target.value=r)})):t.type===ye.type.date&&m.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),m.addEventListener("focus",(function(e){m.parentElement.classList.add("rbroHasFocus")})),m.addEventListener("blur",(function(e){m.parentElement.classList.remove("rbroHasFocus")})),a.append(m)}e.append(a)}},{key:"getTestData",value:function(e,t){return this.getData(e,t.type,t.getParameterFields())}},{key:"getData",value:function(e,t,r){var n=[];if(t===ye.type.map)n={};else if(t!==ye.type.array&&t!==ye.type.simpleArray)return console.assert(!1),null;var o,i=At(e.querySelector("tbody").children);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=this.rowMap[a.dataset.rowId];if("table"===l.type){var s=l.field.parameter;l.parentData[l.field.name]=this.getData(a,s.type,s.getParameterFields())}else{var u,c=l.data,d=a.querySelectorAll("input,textarea,select"),p=0,h=At(r);try{for(h.s();!(u=h.n()).done;){var f=u.value;if(f.type!==ye.type.array&&f.type!==ye.type.simpleArray&&f.type!==ye.type.map){var y=d[p];f.type===ye.type.boolean?c[f.name]=y.checked:f.type!==ye.type.image&&(c[f.name]=y.value.trim()),p++}}}catch(e){h.e(e)}finally{h.f()}t===ye.type.array||t===ye.type.simpleArray?n.push(c):t===ye.type.map&&(n=c)}}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"setTableRowCount",value:function(e,t){e.textContent=0===t?this.rb.getLabel("parameterTestDataRowCountEmpty"):1===t?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(t))}},{key:"filterParameters",value:function(e){var t=null,r=0;if(null!==this.items){e=e.toLowerCase();var n,o=At(this.items);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.separator?(null!==t&&(document.getElementById("parameter_group_"+t).style.display=r>0?"block":"none"),t=i.id?i.id:null,r=0):-1!==i.nameLowerCase.indexOf(e)?(document.getElementById("parameter_"+i.id).style.display="block",-1!==t&&r++):document.getElementById("parameter_"+i.id).style.display="none"}}catch(e){o.e(e)}finally{o.f()}null!==t&&(document.getElementById("parameter_group_"+t).style.display=r>0?"block":"none")}}}]),r}();function Lt(e,t,r){return t=s(t),l(e,jt()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jt=function(){return!!e})()}Tt.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Bt=function(t){function r(t,n,o){return e(this,r),Lt(this,r,[t,n,o])}return c(r,t),i(r,[{key:"setup",value:function(){this.el=this.rb.getDocument().getPageElement(),this.elContent=this.el}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties();return{width:e.getValue("width"),height:e.getValue("height")}}},{key:"getContentSize",value:function(){return this.getSize()}}]),r}(v);function Nt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mt=function(){function t(r){e(this,t),this.rb=r,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=t.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=t.unit.mm,this.orientation=t.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=t.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=t.display.always,this.headerSizeVal=this.header?P(this.headerSize):0,this.footerSizeVal=this.footer?P(this.footerSize):0,this.watermark=!1,this.patternLocale=r.getProperty("patternLocale"),this.patternCurrencySymbol=r.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=r.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return i(t,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.headerSizeVal=this.header?P(this.headerSize):0,this.footerSizeVal=this.footer?P(this.footerSize):0,this.marginLeftVal=P(this.marginLeft),this.marginTopVal=P(this.marginTop),this.marginRightVal=P(this.marginRight),this.marginBottomVal=P(this.marginBottom)}},{key:"setup",value:function(){var e=this.getPageSize();this.updatePageSize(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter(),this.updateWatermark()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","watermark","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getProperties",value:function(){return this.getFields()}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(e){this.panelItem=e}},{key:"getValue",value:function(e){return this[e]}},{key:"setValue",value:function(e,t){if(this[e]=t,"marginLeft"===e||"marginTop"===e||"marginRight"===e||"marginBottom"===e?(this[e+"Val"]=P(t),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):"header"===e?this.updateHeader():"footer"===e?this.updateFooter():"watermark"===e&&this.updateWatermark(),"header"===e||"headerSize"===e)this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?P(this.headerSize):0;else if("footer"===e||"footerSize"===e)this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?P(this.footerSize):0;else if("pageFormat"===e||"pageWidth"===e||"pageHeight"===e||"unit"===e||"orientation"===e||"contentHeight"===e||"marginTop"===e||"marginBottom"===e){var r=this.getPageSize();this.updatePageSize(r)}}},{key:"getUpdateValue",value:function(e,t){return t}},{key:"updatePageSize",value:function(e){this.width=e.width,this.height=e.height,this.rb.getDocument().updatePageSize(e.width,e.height);var t,r=Nt(this.rb.getDocElements(!0));try{for(r.s();!(t=r.n()).done;){var n=t.value;n instanceof Ge&&n.setWidth(e.width)}}catch(e){r.e(e)}finally{r.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"updateWatermark",value:function(){this.watermark?this.rb.getMainPanel().showWatermarks():this.rb.getMainPanel().hideWatermarks()}},{key:"getPageSize",value:function(){var e,r,n;return this.pageFormat===t.pageFormat.A4?(this.orientation===t.orientation.portrait?(e=210,r=297):(e=297,r=210),n=t.unit.mm):this.pageFormat===t.pageFormat.A5?(this.orientation===t.orientation.portrait?(e=148,r=210):(e=210,r=148),n=t.unit.mm):this.pageFormat===t.pageFormat.letter?(this.orientation===t.orientation.portrait?(e=8.5,r=11):(e=11,r=8.5),n=t.unit.inch):(e=P(this.pageWidth),r=P(this.pageHeight),n=this.unit),n===t.unit.mm?(e=Math.round(72*e/25.4),r=Math.round(72*r/25.4)):(e=Math.round(72*e),r=Math.round(72*r)),""!==this.contentHeight.trim()&&(r=P(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:e,height:r}}},{key:"getContentSize",value:function(){var e,t=this.getPageSize();return e=""!==this.contentHeight.trim()?P(this.contentHeight):t.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:t.width-this.marginLeftVal-this.marginRightVal,height:e}}},{key:"addError",value:function(e){this.errors.push(e)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var e,t={},r=Nt(this.getFields());try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n]=this.getValue(n)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),t}();Mt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Mt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Mt.unit={mm:"mm",inch:"inch"},Mt.orientation={portrait:"portrait",landscape:"landscape"},Mt.display={always:"always",notOnFirstPage:"not_on_first_page"};const Ft={de_de:{bandContent:"Inhalt",bandFooter:"Fußzeile",bandHeader:"Kopfzeile",clear:"Löschen",contentHeight:"Inhaltshöhe",contentHeightInfo:"Höhe des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tatsächliche Seitengröße)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zusätzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"außen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird für diese Einstellung nicht unterstützt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"Höhe",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser benötigt",docElementOpacity:"Deckkraft %",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementRotateDeg:"Drehen °",docElementSection:"Sektion",docElementShowInForeground:"Im Vorderground anzeigen",docElementShrinkToContentHeight:"Auf Inhaltshöhe reduzieren",docElementSize:"Größe (Breite, Höhe)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einfügen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementSpreadsheetType:"Typ",docElementSpreadsheetTypeDate:"Datum",docElementSpreadsheetTypeNone:"Standard",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schließen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage für Regel {info} ausgewählt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterstützt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck benötigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ungültige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ungültiger Barcode Inhalt",errorMsgInvalidDataSource:"Ungültige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ungültiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm für Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ungültiger Inhalt für Text Parameter ${info}",errorMsgInvalidExpression:"Ungültiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ungültigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ungültige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ungültige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ungültige Auflistung",errorMsgInvalidNumber:"Ungültige Zahl",errorMsgInvalidPageSize:"Ungültige Seitengröße",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter überein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ungültiges Pattern",errorMsgInvalidPosition:"Die Position ist außerhalb des Bereichs",errorMsgInvalidRichTextFontNotAvailable:"Der Rich Text enthält eine Schrift, welche am Server nicht vorhanden ist",errorMsgInvalidRichTextParameter:"Der Rich Text enthält ungültige Tags",errorMsgInvalidSize:"Das Element ist außerhalb des Bereichs",errorMsgInvalidSpreadsheetDate:"Inhalt kann nicht zu Datum konvertiert werden, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm für Datum mit Uhrzeit)",errorMsgInvalidSpreadsheetNumber:"Inhalt kann nicht zu Zahl konvertiert werden",errorMsgInvalidTestData:"Ungültige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingGlyph:"Text enthält Zeichen, die in der ausgewählten Schrift nicht verfügbar sind",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten für Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt für Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Benötigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enthält nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterstützt (nur .jpg und .png erlaubt)",footer:"Fußzeile",footerDisplay:"Anzeige",footerSize:"Höhe Fußzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"Höhe Kopfzeile",menuColumnAddLeft:"Spalte links hinzufügen",menuColumnAddRight:"Spalte rechts hinzufügen",menuColumnDelete:"Spalte löschen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einfügen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten rückgängig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzufügen",menuRowAddBelow:"Zeile unterhalb hinzufügen",menuRowDelete:"Zeile löschen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"RÜCKG.",menuUndoTip:"Letzten Befehl rückgängig machen",menuZoomIn:"Vergrößern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"Höhe",pageMargins:"Seitenränder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder für diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder für diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und können die Größe der Berichtsvorlage erheblich erhöhen",parameterTestDataRichTextInfo:'Rich Text kann Html-Tags zur Formatierung enthalten. Siehe <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">erlaubte Tags</a>',parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"Währungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgekürzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit führender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"Währungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen für Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Benötigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter benötigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzufügen",select:"auswählen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollständig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleType:"Element",styleTypeFrame:"Rahmen",styleTypeImage:"Bild",styleTypeLine:"Linie",styleTypeSectionBand:"Sektionsbereich",styleTypeTable:"Tabelle",styleTypeTableBand:"Tabellenzeile",styleTypeText:"Text",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen",watermarkImages:"Bild-Wasserzeichen",watermarkTexts:"Text-Wasserzeichen",watermarks:"Wasserzeichen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementOpacity:"Opacity %",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementRotateDeg:"Rotate °",docElementSection:"Section",docElementShowInForeground:"Show in foreground",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Text wrap",docElementSpreadsheetType:"Type",docElementSpreadsheetTypeDate:"Date",docElementSpreadsheetTypeNone:"Default",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidRichTextFontNotAvailable:"The rich text contains a font which is not available on server",errorMsgInvalidRichTextParameter:"The rich text contains invalid tags",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidSpreadsheetDate:"The data cannot be converted to date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidSpreadsheetNumber:"The data cannot be converted to number",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingGlyph:"Text contains characters that are not available in the selected font",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRichTextInfo:'Rich text can contain html tags for formatting. See <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">allowed tags</a>',parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleType:"Element",styleTypeFrame:"Frame",styleTypeImage:"Image",styleTypeLine:"Line",styleTypeSectionBand:"Section band",styleTypeTable:"Table",styleTypeTableBand:"Table band",styleTypeText:"Text",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles",watermarkImages:"Image watermarks",watermarkTexts:"Text watermarks",watermarks:"Watermarks"}};var Vt=r(5815),qt=r.n(Vt);function zt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wt=function(){function t(r,n,o,i){e(this,t),this.idPrefix=r,this.dataBaseClass=n,this.panelId=r+"_panel",this.rootElement=o,this.rb=i,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={},this.visibleIfFields=[]}return i(t,[{key:"initVisibleIfFields",value:function(){for(var e in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(e)){var t=this.propertyDescriptors[e];if("visibleIf"in t){var r,n=zt(M(t.visibleIf,null));try{for(n.s();!(r=n.n()).done;){var o=r.value;"field"===o.type&&("visibleIfFields"in t?t.visibleIfFields.includes(o.value)||t.visibleIfFields.push(o.value):t.visibleIfFields=[o.value],this.visibleIfFields.includes(o.value)||this.visibleIfFields.push(o.value))}}catch(e){n.e(e)}finally{n.f()}}}}},{key:"render",value:function(e){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(e,t,r){var n="".concat(this.idPrefix,"_").concat(e.fieldId);r?document.getElementById(n).classList.add("rbroDifferentValues"):document.getElementById(n).classList.remove("rbroDifferentValues");var o=document.getElementById(n);if(e.type===b.type.text)r?(o.value="",o.setAttribute("placeholder",this.differentValuesLabel)):(o.value=t,o.setAttribute("placeholder",""));else if(e.type===b.type.richText)this.quill&&(r||!t?this.quill.setContents({},"silent"):this.quill.setContents(t,"silent"));else if(e.type===b.type.select)o.value=t;else if(e.type===b.type.checkbox)o.checked=!r&&t;else if(e.type===b.type.button)r?o.classList.remove("rbroButtonActive"):t?o.classList.add("rbroButtonActive"):o.classList.remove("rbroButtonActive");else if(e.type===b.type.buttonGroup){var i,a=zt(o.querySelectorAll("button"));try{for(a.s();!(i=a.n()).done;)i.value.classList.remove("rbroButtonActive")}catch(e){a.e(e)}finally{a.f()}r||o.querySelector('button[value="'.concat(t,'"]')).classList.add("rbroButtonActive")}else if(e.type===b.type.color){var l=document.getElementById(n+"_select");r?e.allowEmpty?(o.value="",l.style.color="",l.classList.add("rbroTransparentColorSelect")):(o.value="#000000",l.style.color="#000000",l.classList.remove("rbroTransparentColorSelect")):(o.value=t,l.style.color=t,t?l.classList.remove("rbroTransparentColorSelect"):l.classList.add("rbroTransparentColorSelect"))}else e.type===b.type.filename&&(r?(o.textContent=this.differentFilesLabel,document.getElementById(n+"_container").classList.remove("rbroHidden")):(o.textContent=t,""===t?document.getElementById(n+"_container").classList.add("rbroHidden"):document.getElementById(n+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(e){var t,r=this.rb.getSelectedObjects(),n={},o={},i=zt(r);try{for(i.s();!(t=i.n()).done;){var a,l=zt(t.value.getProperties());try{for(l.s();!(a=l.n()).done;){var s=a.value;s in o?o[s]+=1:o[s]=1}}catch(e){l.e(e)}finally{l.f()}}}catch(e){i.e(e)}finally{i.f()}for(var u in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(u)){var c=this.propertyDescriptors[u],d="";if("visibleIf"in c&&(d=c.visibleIf),null===e||u===e||d&&c.visibleIfFields.includes(e)){var p=!1;if(u in o)if(o[u]===r.length){var h,f=null,y=!1,m=zt(r);try{for(m.s();!(h=m.n()).done;){var g=h.value,v=g.getUpdateValue(u,g.getValue(u));if(null===f)f=v;else if(c.type===b.type.richText){if(v&&f&&new(qt())(v).diff(new(qt())(f)).ops.length>0){y=!0;break}}else if(v!==f){y=!0;break}}}catch(e){m.e(e)}finally{m.f()}if(y&&c.type===b.type.select&&c.allowEmpty&&(f=""),this.setValue(c,f,y),"section"in c){var _=c.section;_ in n?n[_]+=1:n[_]=1}p=!0}else delete o[u];if(p&&d){var w,E=zt(r);try{for(E.s();!(w=E.n()).done;)if(!z(d,w.value)){p=!1,delete o[u];break}}catch(e){E.e(e)}finally{E.f()}}if("singleRowProperty"in c&&!c.singleRowProperty){var I="".concat(this.idPrefix,"_").concat(c.fieldId);p?document.getElementById(I).classList.remove("rbroHidden"):document.getElementById(I).classList.add("rbroHidden")}else{var x=this.getRowId(c);p?document.getElementById(x).classList.remove("rbroHidden"):document.getElementById(x).classList.add("rbroHidden")}}}if(null===e||this.visibleIfFields.includes(e))for(var k in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(k)){var C=this.propertyDescriptors[k];if("rowId"in C&&"rowProperties"in C){var S,P=0,O=zt(C.rowProperties);try{for(O.s();!(S=O.n()).done;)S.value in o&&P++}catch(e){O.e(e)}finally{O.f()}if("labelId"in C){var A=C.defaultLabel;if(1===P){var D,T=zt(C.rowProperties);try{for(T.s();!(D=T.n()).done;){var L=D.value;if(L in o){A=this.propertyDescriptors[L].singlePropertyLabel;break}}}catch(e){T.e(e)}finally{T.f()}}document.getElementById(C.labelId).textContent=this.rb.getLabel(A)+":"}P>0?document.getElementById(C.rowId).classList.remove("rbroHidden"):document.getElementById(C.rowId).classList.add("rbroHidden")}}if(null===e){var j,B=zt(this.getSections());try{for(B.s();!(j=B.n()).done;){var N=j.value,R="".concat(this.idPrefix,"_").concat(N,"_section_container");N in n?document.getElementById(R).classList.remove("rbroHidden"):document.getElementById(R).classList.add("rbroHidden")}}catch(e){B.e(e)}finally{B.f()}}this.updateAutosizeInputs(e)}},{key:"updateAutosizeInputs",value:function(e){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(e,t,r){e instanceof this.dataBaseClass&&this.rb.isSelectedObject(e.id)&&t===d.operation.change&&this.updateDisplay(r)}},{key:"updateErrors",value:function(){var e,t=document.getElementById(this.panelId),r=t.querySelectorAll(".rbroFormRow"),n=t.querySelectorAll(".rbroErrorMessage"),o=zt(r);try{for(o.s();!(e=o.n()).done;)e.value.classList.remove("rbroError")}catch(e){o.e(e)}finally{o.f()}var i,a=zt(n);try{for(a.s();!(i=a.n()).done;)i.value.textContent=""}catch(e){a.e(e)}finally{a.f()}var l=this.rb.getSelectedObject();if(null!==l){var s,u=zt(l.getErrors());try{for(u.s();!(s=u.n()).done;){var c=s.value,d=this.propertyDescriptors[c.field];if(d){if("section"in d){var p=d.section;document.getElementById("".concat(this.idPrefix,"_").concat(p,"_header")).classList.add("rbroError")}var h=this.rb.getLabel(c.msg_key);c.info&&(h=h.replaceAll("${info}",'<span class="rbroErrorMessageInfo">'+c.info.replaceAll("<","&lt;").replaceAll(">","&gt;")+"</span>"));var f=this.getRowId(d);document.getElementById(f).classList.add("rbroError");var y;y="errorMsgId"in d?d.errorMsgId:"".concat(this.idPrefix,"_").concat(d.fieldId,"_error"),document.getElementById(y).innerHTML=h}}}catch(e){u.e(e)}finally{u.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"getSections",value:function(){return[]}},{key:"scrollToFirstError",value:function(){var e=this.rb.getSelectedObject();if(null!==e){var t,r=zt(e.getErrors());try{for(r.s();!(t=r.n()).done;){var n=t.value,o=this.propertyDescriptors[n.field];if(o&&"section"in o){var i=o.section,a=document.getElementById("".concat(this.idPrefix,"_").concat(i,"_header"));a.classList.contains("rbroPanelSectionHeaderOpen")||a.dispatchEvent(new Event("click"))}}}catch(e){r.e(e)}finally{r.f()}var l,s="",u=-1,c=zt(e.getErrors());try{for(c.s();!(l=c.n()).done;){var d=l.value,p=this.propertyDescriptors[d.field];if(p){var h=this.getRowId(p),f=k(document.getElementById(h)).top;(""===s||f<u)&&(s=h,u=f)}}}catch(e){c.e(e)}finally{c.f()}""!==s&&document.getElementById(s).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(e){return"rowId"in e?e.rowId:"".concat(this.idPrefix,"_").concat(e.fieldId,"_row")}}]),t}();function Ut(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kt(e,t,r){return t=s(t),l(e,$t()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function $t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($t=function(){return!!e})()}var Xt=function(t){function r(t,n){var o,i;return e(this,r),(i=Kt(this,r,["rbro_style",X,t,n])).propertyDescriptors={name:{type:b.type.text,fieldId:"name"},type:{type:b.type.select,fieldId:"type"},bold:{type:b.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},italic:{type:b.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},underline:{type:b.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},strikethrough:{type:b.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],visibleIf:"type == 'text'"},horizontalAlignment:{type:b.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],visibleIf:"type == 'text' || type == 'image'"},verticalAlignment:{type:b.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'image'"},color:{type:b.type.color,allowEmpty:!1,fieldId:"color",visibleIf:"type == 'line'"},textColor:{type:b.type.color,allowEmpty:!1,fieldId:"text_color",visibleIf:"type == 'text'"},backgroundColor:{type:b.type.color,allowEmpty:!0,fieldId:"background_color",visibleIf:"type == 'text' || type == 'image' || type == 'tableBand' || type == 'frame' || type == 'sectionBand'"},alternateBackgroundColor:{type:b.type.color,allowEmpty:!0,fieldId:"alternate_background_color",visibleIf:"type == 'tableBand' || type == 'sectionBand'"},font:{type:b.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],visibleIf:"type == 'text'"},fontSize:{type:b.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1,visibleIf:"type == 'text'"},lineSpacing:{type:b.type.select,fieldId:"line_spacing",visibleIf:"type == 'text'"},borderAll:{type:b.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],visibleIf:"type == 'text' || type == 'frame'"},borderLeft:{type:b.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderTop:{type:b.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderRight:{type:b.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},borderBottom:{type:b.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1,visibleIf:"type == 'text' || type == 'frame'"},border:{type:b.type.buttonGroup,fieldId:"table_border",rowId:"rbro_style_table_border_row",visibleIf:"type == 'table'"},borderColor:{type:b.type.color,allowEmpty:!1,fieldId:"border_color",visibleIf:"type == 'text' || type == 'table' || type == 'frame'"},borderWidth:{type:b.type.text,fieldId:"border_width",visibleIf:"type == 'text' || type == 'table' || type == 'frame'"},paddingLeft:{type:b.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],visibleIf:"type == 'text'"},paddingTop:{type:b.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"},paddingRight:{type:b.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"},paddingBottom:{type:b.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1,visibleIf:"type == 'text'"}},p((o=a(i),s(r.prototype)),"initVisibleIfFields",o).call(o),i}return c(r,t),i(r,[{key:"render",value:function(){var e=this,t=E("div",{id:"rbro_style_panel",class:"rbroHidden"}),n=E("div",{id:"rbro_style_name_row",class:"rbroFormRow"});x(n,this.rb.getLabel("styleName"),"rbro_style_name");var o=E("div",{class:"rbroFormField"}),i=E("input",{id:"rbro_style_name",autocomplete:"off"});i.addEventListener("input",(function(t){var r=e.rb.getSelectedObject();null!==r&&(""!==i.value.trim()?e.rb.executeCommand(new b(r.getId(),"name",i.value,b.type.text,e.rb)):i.value=r.getName())})),o.append(i),n.append(o),t.append(n),x(n=E("div",{id:"rbro_style_type_row",class:"rbroFormRow"}),this.rb.getLabel("styleType"),"rbro_style_type"),o=E("div",{class:"rbroFormField"});var a=E("select",{id:"rbro_style_type"});a.append(E("option",{value:X.type.text},this.rb.getLabel("styleTypeText"))),a.append(E("option",{value:X.type.line},this.rb.getLabel("styleTypeLine"))),a.append(E("option",{value:X.type.image},this.rb.getLabel("styleTypeImage"))),a.append(E("option",{value:X.type.table},this.rb.getLabel("styleTypeTable"))),a.append(E("option",{value:X.type.tableBand},this.rb.getLabel("styleTypeTableBand"))),a.append(E("option",{value:X.type.frame},this.rb.getLabel("styleTypeFrame"))),a.append(E("option",{value:X.type.sectionBand},this.rb.getLabel("styleTypeSectionBand"))),a.addEventListener("change",(function(t){var r=e.rb.getSelectedObject();null!==r&&e.rb.executeCommand(new b(r.getId(),"type",a.value,b.type.select,e.rb))})),o.append(a),n.append(o),t.append(n),r.renderStyle(t,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(t)}},{key:"destroy",value:function(){r.destroyStyle("",this.controls)}}],[{key:"renderStyle",value:function(e,t,r,n,o,i){var a,l,s=this;x(a=E("div",{id:"rbro_".concat(t,"textstyle_row"),class:"rbroFormRow"}),i.getLabel("styleTextStyle")),l=E("div",{class:"rbroFormField"});var u=E("div",{id:"rbro_".concat(t,"textstyle")}),c=E("button",{id:"rbro_".concat(t,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:i.getLabel("styleBold")});c.addEventListener("click",(function(e){var t=!c.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("bold",t,b.type.button,r,i)})),u.append(c);var d=E("button",{id:"rbro_".concat(t,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:i.getLabel("styleItalic")});d.addEventListener("click",(function(e){var t=!d.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("italic",t,b.type.button,r,i)})),u.append(d);var p=E("button",{id:"rbro_".concat(t,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:i.getLabel("styleUnderline")});p.addEventListener("click",(function(e){var t=!p.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("underline",t,b.type.button,r,i)})),u.append(p);var h=E("button",{id:"rbro_".concat(t,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:i.getLabel("styleStrikethrough")});h.addEventListener("click",(function(e){var t=!h.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("strikethrough",t,b.type.button,r,i)})),u.append(h),l.append(u),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"alignment_row"),class:"rbroFormRow"}),i.getLabel("styleAlignment")),l=E("div",{class:"rbroFormField"});var f=E("div",{id:"rbro_".concat(t,"halignment")}),y=E("button",{id:"rbro_".concat(t,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:i.getLabel("styleHAlignmentLeft")});y.addEventListener("click",(function(e){for(var t=X.alignment.left,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"horizontalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("horizontalAlignment",t,b.type.buttonGroup,r,i)})),f.append(y);var m=E("button",{id:"rbro_".concat(t,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:i.getLabel("styleHAlignmentCenter")});m.addEventListener("click",(function(e){for(var t=X.alignment.center,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"horizontalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("horizontalAlignment",t,b.type.buttonGroup,r,i)})),f.append(m);var g=E("button",{id:"rbro_".concat(t,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:i.getLabel("styleHAlignmentRight")});g.addEventListener("click",(function(e){for(var t=X.alignment.right,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"horizontalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("horizontalAlignment",t,b.type.buttonGroup,r,i)})),f.append(g);var v=E("button",{id:"rbro_".concat(t,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:i.getLabel("styleHAlignmentJustify")});v.addEventListener("click",(function(e){for(var t=X.alignment.justify,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"horizontalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("horizontalAlignment",t,b.type.buttonGroup,r,i)})),f.append(v),l.append(f);var _=E("div",{id:"rbro_".concat(t,"valignment")}),w=E("button",{id:"rbro_".concat(t,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:i.getLabel("styleVAlignmentTop")});w.addEventListener("click",(function(e){for(var t=X.alignment.top,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"verticalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("verticalAlignment",t,b.type.buttonGroup,r,i)})),_.append(w);var I=E("button",{id:"rbro_".concat(t,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:i.getLabel("styleVAlignmentMiddle")});I.addEventListener("click",(function(e){for(var t=X.alignment.middle,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"verticalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("verticalAlignment",t,b.type.buttonGroup,r,i)})),_.append(I);var k=E("button",{id:"rbro_".concat(t,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:i.getLabel("styleVAlignmentBottom")});k.addEventListener("click",(function(e){for(var t=X.alignment.bottom,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"verticalAlignment"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("verticalAlignment",t,b.type.buttonGroup,r,i)})),_.append(k),l.append(_),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"color_row"),class:"rbroFormRow"}),i.getLabel("docElementColor"),"rbro_".concat(t,"color")),l=E("div",{class:"rbroFormField"});var C=E("div",{class:"rbroColorPickerContainer"}),P=E("input",{id:"rbro_".concat(t,"color"),autocomplete:"off"});P.addEventListener("change",(function(e){var t=P.value;L(t)&&s.executeCommandsForChangedProperty("color",t,b.type.color,r,i)})),C.append(P),o.color=T(C,P,!1,i),l.append(C),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"text_color_row"),class:"rbroFormRow"}),i.getLabel("styleTextColor"),"rbro_".concat(t,"text_color")),l=E("div",{class:"rbroFormField"});var O=E("div",{class:"rbroColorPickerContainer"}),A=E("input",{id:"rbro_".concat(t,"text_color"),autocomplete:"off"});A.addEventListener("change",(function(e){var t=A.value;L(t)&&s.executeCommandsForChangedProperty("textColor",t,b.type.color,r,i)})),O.append(A),o[r+"textColor"]=T(O,A,!1,i),l.append(O),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"background_color_row"),class:"rbroFormRow"}),i.getLabel("styleBackgroundColor"),"rbro_".concat(t,"background_color")),l=E("div",{class:"rbroFormField"});var D=E("div",{class:"rbroColorPickerContainer"}),j=E("input",{id:"rbro_".concat(t,"background_color"),autocomplete:"off"});j.addEventListener("change",(function(e){var t=j.value;L(t)&&s.executeCommandsForChangedProperty("backgroundColor",t,b.type.color,r,i)})),D.append(j),o[r+"backgroundColor"]=T(D,j,!0,i),l.append(D),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"alternate_background_color_row"),class:"rbroFormRow"}),i.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(t,"alternate_background_color")),l=E("div",{class:"rbroFormField"});var B=E("div",{class:"rbroColorPickerContainer"}),N=E("input",{id:"rbro_".concat(t,"alternate_background_color")});N.addEventListener("change",(function(e){var t=N.value;L(t)&&s.executeCommandsForChangedProperty("alternateBackgroundColor",t,b.type.color,r,i)})),B.append(N),o[r+"alternateBackgroundColor"]=T(B,N,!0,i),l.append(B),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"font_row"),class:"rbroFormRow"}),i.getLabel("styleFont"),"rbro_".concat(t,"font")),l=E("div",{class:"rbroFormField"});var R,M=E("div",{class:"rbroSplit rbroSelectFont"}),F=E("select",{id:"rbro_".concat(t,"font")}),V=Ut(i.getFonts());try{for(V.s();!(R=V.n()).done;){var q=R.value;F.append(E("option",{value:q.value},q.name))}}catch(e){V.e(e)}finally{V.f()}F.addEventListener("change",(function(e){var t=F.value;s.executeCommandsForChangedProperty("font",t,b.type.select,r,i)})),M.append(F);var z,H=E("select",{id:"rbro_".concat(t,"font_size")}),W=Ut(i.getProperty("fontSizes"));try{for(W.s();!(z=W.n()).done;){var U=z.value;H.append(E("option",{value:U},String(U)))}}catch(e){W.e(e)}finally{W.f()}H.addEventListener("change",(function(e){var t=H.value;s.executeCommandsForChangedProperty("fontSize",t,b.type.select,r,i)})),M.append(H),M.append(E("span",{},i.getLabel("styleFontSizeUnit"))),l.append(M),l.append(E("div",{id:"rbro_".concat(t,"font_error"),class:"rbroErrorMessage"})),a.append(l),e.append(a),x(a=E("div",{id:"rbro_".concat(t,"line_spacing_row"),class:"rbroFormRow"}),i.getLabel("styleLineSpacing"),"rbro_".concat(t,"line_spacing")),l=E("div",{class:"rbroFormField"});for(var G=E("select",{id:"rbro_".concat(t,"line_spacing")}),K=0,$=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];K<$.length;K++){var J=$[K];G.append(E("option",{value:J},J))}G.addEventListener("change",(function(e){var t=G.value;s.executeCommandsForChangedProperty("lineSpacing",t,b.type.select,r,i)})),l.append(G),a.append(l),e.append(a);var Z=E("div",{id:"rbro_".concat(t,"border_div")});x(a=E("div",{id:"rbro_".concat(t,"border_row"),class:"rbroFormRow"}),i.getLabel("styleBorder")),l=E("div",{class:"rbroFormField"});var Y=E("div",{id:"rbro_".concat(t,"border")}),Q=E("button",{id:"rbro_".concat(t,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(r,"borderAll"),title:i.getLabel("styleBorderAll")});Q.addEventListener("click",(function(e){for(var t=!Q.classList.contains("rbroButtonActive"),n=new ne("Set value",i),o=i.getSelectedObjects(),a=o.length-1;a>=0;a--){var l=o[a];n.addSelection(l.getId()),n.addCommand(new b(l.getId(),"".concat(r,"borderLeft"),t,b.type.button,i)),n.addCommand(new b(l.getId(),"".concat(r,"borderTop"),t,b.type.button,i)),n.addCommand(new b(l.getId(),"".concat(r,"borderRight"),t,b.type.button,i)),n.addCommand(new b(l.getId(),"".concat(r,"borderBottom"),t,b.type.button,i)),l instanceof be&&""!==l.getValue("".concat(r,"styleId"))?l.getValue("".concat(r,"borderLeft"))===t&&l.getValue("".concat(r,"borderTop"))===t&&l.getValue("".concat(r,"borderRight"))===t&&l.getValue("".concat(r,"borderBottom"))===t||n.addCommand(new b(l.getId(),"".concat(r,"styleId"),"",b.type.select,i)):l instanceof X&&(l.addCommandsForChangedProperty("borderLeft",t,b.type.button,n),l.addCommandsForChangedProperty("borderTop",t,b.type.button,n),l.addCommandsForChangedProperty("borderRight",t,b.type.button,n),l.addCommandsForChangedProperty("borderBottom",t,b.type.button,n))}n.isEmpty()||i.executeCommand(n)})),Y.append(Q);var ee=E("button",{id:"rbro_".concat(t,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(r,"borderLeft"),title:i.getLabel("orientationLeft")});ee.addEventListener("click",(function(e){var t=!ee.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("borderLeft",t,b.type.button,r,i)})),Y.append(ee);var te=E("button",{id:"rbro_".concat(t,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(r,"borderTop"),title:i.getLabel("orientationTop")});te.addEventListener("click",(function(e){var t=!te.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("borderTop",t,b.type.button,r,i)})),Y.append(te);var re=E("button",{id:"rbro_".concat(t,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(r,"borderRight"),title:i.getLabel("orientationRight")});re.addEventListener("click",(function(e){var t=!re.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("borderRight",t,b.type.button,r,i)})),Y.append(re);var oe=E("button",{id:"rbro_".concat(t,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(r,"borderBottom"),title:i.getLabel("orientationBottom")});oe.addEventListener("click",(function(e){var t=!oe.classList.contains("rbroButtonActive");s.executeCommandsForChangedProperty("borderBottom",t,b.type.button,r,i)})),Y.append(oe),l.append(Y),a.append(l),Z.append(a),x(a=E("div",{id:"rbro_".concat(t,"table_border_row"),class:"rbroFormRow"}),i.getLabel("styleBorder")),l=E("div",{class:"rbroFormField"});var ie=E("div",{id:"rbro_".concat(t,"table_border")}),ae=E("button",{id:"rbro_".concat(t,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(r,"grid"),title:i.getLabel("docElementBorderGrid")});ae.addEventListener("click",(function(e){for(var t=ut.border.grid,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"border"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("border",t,b.type.buttonGroup,r,i)})),ie.append(ae);var le=E("button",{id:"rbro_".concat(t,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(r,"frame_row"),title:i.getLabel("docElementBorderFrameRow")});le.addEventListener("click",(function(e){for(var t=ut.border.frameRow,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"border"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("border",t,b.type.buttonGroup,r,i)})),ie.append(le);var se=E("button",{id:"rbro_".concat(t,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(r,"frame"),title:i.getLabel("docElementBorderFrame")});se.addEventListener("click",(function(e){for(var t=ut.border.frame,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"border"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("border",t,b.type.buttonGroup,r,i)})),ie.append(se);var ue=E("button",{id:"rbro_".concat(t,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(r,"row"),title:i.getLabel("docElementBorderRow")});ue.addEventListener("click",(function(e){for(var t=ut.border.row,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"border"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("border",t,b.type.buttonGroup,r,i)})),ie.append(ue);var ce=E("button",{id:"rbro_".concat(t,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(r,"none"),title:i.getLabel("docElementBorderNone")});ce.addEventListener("click",(function(e){for(var t=ut.border.none,n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"border"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("border",t,b.type.buttonGroup,r,i)})),ie.append(ce),l.append(ie),a.append(l),Z.append(a),x(a=E("div",{id:"rbro_".concat(t,"border_color_row"),class:"rbroFormRow"}),i.getLabel("styleBorderColor"),"rbro_".concat(t,"border_color")),l=E("div",{class:"rbroFormField"});var de=E("div",{class:"rbroColorPickerContainer"}),pe=E("input",{id:"rbro_".concat(t,"border_color"),autocomplete:"off"});pe.addEventListener("change",(function(e){var t=pe.value;L(t)&&s.executeCommandsForChangedProperty("borderColor",t,b.type.color,r,i)})),de.append(pe),o[r+"borderColor"]=T(de,pe,!1,i),l.append(de),a.append(l),Z.append(a),x(a=E("div",{id:"rbro_".concat(t,"border_width_row"),class:"rbroFormRow"}),i.getLabel("styleBorderWidth"),"rbro_".concat(t,"border_width")),l=E("div",{class:"rbroFormField"});var he=E("input",{id:"rbro_".concat(t,"border_width"),type:"number",step:"0.5",autocomplete:"off"});he.addEventListener("input",(function(e){var t=he.value;""!==t&&(t=S(t,.5,99)),t!==he.value&&(he.value=t);for(var n=i.getSelectedObjects(),o=!1,a=n.length-1;a>=0;a--)if(n[a].getValue("".concat(r,"borderWidth"))!==t){o=!0;break}o&&s.executeCommandsForChangedProperty("borderWidth",t,b.type.text,r,i)})),l.append(he),a.append(l),Z.append(a),e.append(Z),x(a=E("div",{id:"rbro_".concat(t,"padding_row"),class:"rbroFormRow"}),i.getLabel("stylePadding"),"rbro_".concat(t,"padding")),l=E("div",{class:"rbroFormField rbroSmallInput"});var fe=E("div",{class:"rbroColumnCenter"}),ye=E("input",{id:"rbro_".concat(t,"padding_top"),placeholder:i.getLabel("orientationTop"),type:"number",autocomplete:"off"});ye.addEventListener("input",(function(e){var t=ye.value;s.executeCommandsForChangedProperty("paddingTop",t,b.type.text,r,i)})),fe.append(ye),l.append(fe);var me=E("div",{class:"rbroSplit"}),ge=E("input",{id:"rbro_".concat(t,"padding_left"),placeholder:i.getLabel("orientationLeft"),type:"number",autocomplete:"off"});ge.addEventListener("input",(function(e){var t=ge.value;s.executeCommandsForChangedProperty("paddingLeft",t,b.type.text,r,i)})),me.append(ge);var ve=E("input",{id:"rbro_".concat(t,"padding_right"),placeholder:i.getLabel("orientationRight"),type:"number",autocomplete:"off"});ve.addEventListener("input",(function(e){var t=ve.value;s.executeCommandsForChangedProperty("paddingRight",t,b.type.text,r,i)})),me.append(ve),l.append(me);var _e=E("div",{class:"rbroColumnCenter"}),we=E("input",{id:"rbro_".concat(t,"padding_bottom"),placeholder:i.getLabel("orientationBottom"),type:"number",autocomplete:"off"});we.addEventListener("input",(function(e){var t=we.value;s.executeCommandsForChangedProperty("paddingBottom",t,b.type.text,r,i)})),_e.append(we),l.append(_e),a.append(l),e.append(a)}},{key:"executeCommandsForChangedProperty",value:function(e,t,r,n,o){for(var i=new ne("Set value",o),a=o.getSelectedObjects(),l=a.length-1;l>=0;l--){var s=a[l];i.addSelection(s.getId()),i.addCommand(new b(s.getId(),"".concat(n).concat(e),t,r,o)),s instanceof be&&""!==s.getValue("".concat(n,"styleId"))?s.getValue("".concat(n,"textColor"))!==t&&i.addCommand(new b(s.getId(),"".concat(n,"styleId"),"",b.type.select,o)):s instanceof X&&s.addCommandsForChangedProperty(e,t,r,i)}i.isEmpty()||o.executeCommand(i)}},{key:"destroyStyle",value:function(e,t){t[e+"textColor"].destroy(),t[e+"backgroundColor"].destroy(),e+"alternateBackgroundColor"in t&&t[e+"alternateBackgroundColor"].destroy(),t[e+"borderColor"].destroy()}}]),r}(Wt),Jt=r(1574),Zt=r.n(Jt);function Yt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t,r){return t=s(t),l(e,tr()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function tr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tr=function(){return!!e})()}var rr=function(t){function r(t,n){var o,i;return e(this,r),(i=er(this,r,["rbro_doc_element",be,t,n])).propertyDescriptors={label:{type:b.type.text,fieldId:"label"},content:{type:b.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:b.type.checkbox,fieldId:"rich_text"},richTextContent:{type:b.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:b.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:b.type.text,fieldId:"data_source"},xReadOnly:{type:b.type.text,fieldId:"x_read_only"},x:{type:b.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:b.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:b.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"docElementType != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:b.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:b.type.text,fieldId:"colspan"},format:{type:b.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:b.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:b.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:b.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:b.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:b.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:b.type.text,fieldId:"source"},image:{type:b.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:b.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:b.type.text,fieldId:"columns"},header:{type:b.type.checkbox,fieldId:"header"},contentRows:{type:b.type.text,fieldId:"content_rows"},footer:{type:b.type.checkbox,fieldId:"footer"},rotateDeg:{type:b.type.text,fieldId:"rotate_deg"},opacity:{type:b.type.text,fieldId:"opacity"},showInForeground:{type:b.type.checkbox,fieldId:"show_in_foreground"},styleId:{type:b.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},color:{type:b.type.color,allowEmpty:!1,fieldId:"color",section:"style"},bold:{type:b.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:b.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:b.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:b.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:b.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:b.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:b.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:b.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:b.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:b.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:b.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:b.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:b.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:b.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:b.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:b.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:b.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:b.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:b.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:b.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:b.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:b.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:b.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:b.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:b.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:b.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:b.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:b.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:b.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:b.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:b.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:b.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:b.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:b.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:b.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:b.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:b.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:b.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:b.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:b.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:b.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:b.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:b.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:b.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:b.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:b.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:b.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:b.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:b.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:b.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:b.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:b.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:b.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:b.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:b.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:b.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:b.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:b.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:b.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:b.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:b.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:b.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:b.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:b.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:b.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_type:{type:b.type.select,fieldId:"spreadsheet_type",section:"spreadsheet"},spreadsheet_pattern:{type:b.type.text,fieldId:"spreadsheet_pattern",section:"spreadsheet",visibleIf:"spreadsheet_type"},spreadsheet_textWrap:{type:b.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},n.getProperty("showPlusFeatures")||(delete i.propertyDescriptors.richText,delete i.propertyDescriptors.richTextContent),p((o=a(i),s(r.prototype)),"initVisibleIfFields",o).call(o),i}return c(r,t),i(r,[{key:"render",value:function(){var e,t,r,n=this,o=E("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});x(e=E("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),t=E("div",{class:"rbroFormField"});var i=E("input",{id:"rbro_doc_element_label",autocomplete:"off"});i.addEventListener("input",(function(e){for(var t=i.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),a=o.length-1;a>=0;a--){var l=o[a];r.addSelection(l.getId()),r.addCommand(new b(l.getId(),"label",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(i),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),t=E("div",{class:"rbroFormField"});var a=E("div",{class:"rbroSplit rbroSelector"}),l=E("textarea",{id:"rbro_doc_element_data_source",rows:1});l.addEventListener("input",(function(e){for(var t=l.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"dataSource",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),Ot(l),a.append(l),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,[ye.type.array]),null,"rbro_doc_element_data_source","dataSource",Tt.type.parameterSet)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var s=E("textarea",{id:"rbro_doc_element_content",rows:1});if(s.addEventListener("input",(function(e){for(var t=s.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"content",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),s.addEventListener("blur",(function(e){n.rb.getPopupWindow().hide()})),Ot(s),a.append(s),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,null),null,"rbro_doc_element_content","content",Tt.type.parameterAppend)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),this.rb.getProperty("showPlusFeatures")){x(e=E("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),t=E("div",{class:"rbroFormField"});var u=E("label",{class:"switch-light switch-material"}),c=E("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});c.addEventListener("change",(function(e){for(var t=c.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"richText",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),u.append(c);var d=E("span");if(d.append(E("span")),d.append(E("span")),d.append(E("a")),u.append(d),t.append(u),t.append(E("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var p=E("div",{class:"rbroInfo"});p.innerHTML=this.rb.getLabel("plusFeatureInfo"),t.append(p)}e.append(t),o.append(e),e=E("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var h,f=this.rb.getProperty("colors"),y=E("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),m=E("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),g=Yt(f);try{for(g.s();!(h=g.n()).done;){var v=h.value;y.append(E("option",{value:v},v)),m.append(E("option",{value:v},v))}}catch(e){g.e(e)}finally{g.f()}y.append(E("option",{value:"clear-color"})),m.append(E("option",{value:"clear-color"}));var _,w=E("select",{class:"ql-font"}),I=this.rb.getProperty("defaultFont"),k=Yt(this.rb.getFonts());try{for(k.s();!(_=k.n()).done;){var C=_.value,O={value:C.value};C.value===I&&(O.selected="selected"),w.append(E("option",O,C.name))}}catch(e){k.e(e)}finally{k.f()}var A,D=E("select",{class:"ql-size"}),T=Yt(this.rb.getProperty("fontSizes"));try{for(T.s();!(A=T.n()).done;){var L=A.value,j={value:L+"px"};12===L&&(j.selected="selected"),D.append(E("option",j,L+"pt"))}}catch(e){T.e(e)}finally{T.f()}var N=E("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),R=E("span",{class:"ql-formats"});R.append(E("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),R.append(E("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),R.append(E("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),R.append(E("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),N.append(R),(R=E("span",{class:"ql-formats"})).append(E("button",{class:"ql-link"})),N.append(R),(R=E("span",{class:"ql-formats"})).append(E("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),N.append(R),(R=E("span",{class:"ql-formats"})).append(y),R.append(m),N.append(R),N.append(w),N.append(D),N.append(E("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),e.append(N);var M=E("div",{id:"rbro_doc_element_rich_text_content"});e.append(M),e.append(E("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),o.append(e)}x(e=E("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),t=E("div",{class:"rbroFormField"});var F=E("input",{id:"rbro_doc_element_eval",type:"checkbox"});F.addEventListener("change",(function(e){for(var t=new ne("Set value",n.rb),r=n.rb.getSelectedObjects(),o=F.checked,i=r.length-1;i>=0;i--){var a=r[i];t.addSelection(a.getId()),t.addCommand(new b(a.getId(),"eval",o,b.type.checkbox,n.rb))}t.isEmpty()||n.rb.executeCommand(t)})),t.append(F),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),t=E("div",{class:"rbroFormField"});var V=E("select",{id:"rbro_doc_element_format"});V.append(E("option",{value:"CODE39"},"CODE39")),V.append(E("option",{value:"CODE128"},"CODE128")),V.append(E("option",{value:"EAN8"},"EAN-8")),V.append(E("option",{value:"EAN13"},"EAN-13")),V.append(E("option",{value:"UPC"},"UPC")),V.append(E("option",{value:"QRCode"},"QR Code")),V.addEventListener("change",(function(e){for(var t=V.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"format",t,b.type.select,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(V),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),t=E("div",{class:"rbroFormField"});var q=E("input",{id:"rbro_doc_element_display_value",type:"checkbox"});q.addEventListener("change",(function(e){for(var t=q.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"displayValue",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(q),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),t=E("div",{class:"rbroFormField"});var z=E("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});z.addEventListener("input",(function(e){var t=z.value;""!==t&&(t=S(t,.3,3)),t!==z.value&&(z.value=t);for(var r=n.rb.getSelectedObjects(),o=!1,i=r.length-1;i>=0;i--)if(r[i].getValue("barWidth")!==t){o=!0;break}if(o){for(var a=new ne("Set value",n.rb),l=r.length-1;l>=0;l--){var s=r[l];a.addSelection(s.getId()),a.addCommand(new b(s.getId(),"barWidth",t,b.type.text,n.rb))}a.isEmpty()||n.rb.executeCommand(a)}})),t.append(z),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),t=E("div",{class:"rbroFormField"});var H=E("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});H.addEventListener("change",(function(e){for(var t=H.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"guardBar",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(H),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),t=E("div",{class:"rbroFormField"});var W=E("input",{id:"rbro_doc_element_rotate",type:"checkbox"});W.addEventListener("change",(function(e){for(var t=W.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"rotate",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(W),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),t=E("div",{class:"rbroFormField"});var U=E("select",{id:"rbro_doc_element_error_correction_level"});U.append(E("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),U.append(E("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),U.append(E("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),U.append(E("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),U.addEventListener("change",(function(e){for(var t=U.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"errorCorrectionLevel",t,b.type.select,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(U),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var G=E("textarea",{id:"rbro_doc_element_source",rows:1});G.addEventListener("input",(function(e){for(var t=G.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"source",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),Ot(G),a.append(G),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,[ye.type.image,ye.type.string]),null,"rbro_doc_element_source","source",Tt.type.parameterSet)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),t=E("div",{class:"rbroFormField"});var K=E("input",{id:"rbro_doc_element_image",type:"file"});K.addEventListener("change",(function(e){var t=n.rb,r=e.target.files;r&&r[0]&&B(r[0],(function(e,r){for(var n=new ne("Load image",t),o=t.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];n.addSelection(a.getId()),n.addCommand(new b(a.getId(),"image",e,b.type.file,t)),n.addCommand(new b(a.getId(),"imageFilename",r,b.type.filename,t))}n.isEmpty()||t.executeCommand(n)}),n.rb)})),t.append(K);var $=E("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});$.append(E("div",{id:"rbro_doc_element_image_filename"}));var X=E("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});X.addEventListener("click",(function(e){K.value="";for(var t=new ne("Clear image",n.rb),r=n.rb.getSelectedObjects(),o=r.length-1;o>=0;o--){var i=r[o];t.addSelection(i.getId()),t.addCommand(new b(i.getId(),"image","",b.type.file,n.rb)),t.addCommand(new b(i.getId(),"imageFilename","",b.type.filename,n.rb))}t.isEmpty()||n.rb.executeCommand(t)})),$.append(X),t.append($),t.append(E("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),t=E("div",{class:"rbroFormField"});var J=E("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});t.append(J),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit"});var Z=E("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});Z.addEventListener("input",(function(e){for(var t=Z.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"x",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(Z);var Y=E("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});Y.addEventListener("input",(function(e){for(var t=Y.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"y",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(Y),t.append(a),t.append(E("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit"});var Q=E("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Q.addEventListener("input",(function(e){for(var t=Q.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"width",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(Q);var ee=E("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});ee.addEventListener("input",(function(e){for(var t=ee.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"height",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(ee),t.append(a),t.append(E("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),t=E("div",{class:"rbroFormField"});var te=E("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});te.addEventListener("change",(function(e){var t=te.value.trim();""!==t&&(t=S(t,1,9)),t!==te.value&&(te.value=t);for(var r=n.rb.getSelectedObjects(),o=!1,i=r.length-1;i>=0;i--)if(r[i].getValue("colspan")!==t){o=!0;break}if(o){for(var a=new ne("Set value",n.rb),l=r.length-1;l>=0;l--){var s=r[l];a.addSelection(s.getId()),a.addCommand(new b(s.getId(),"colspan",t,b.type.text,n.rb))}a.isEmpty()||n.rb.executeCommand(a)}})),t.append(te),t.append(E("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),t=E("div",{class:"rbroFormField"});var re=E("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});re.addEventListener("change",(function(e){var t=S(re.value,1,99);t!==re.value&&(re.value=t);for(var r=P(t),o=n.rb.getSelectedObjects(),i=!1,a=!0,l=o.length-1;l>=0;l--){var s=o[l];s.getValue("columns")!==t&&(i=!0),s.hasEnoughAvailableSpace(r)||(a=!1)}if(a||1!==o.length||(re.value=o[0].getValue("columns")),i&&a){for(var u=new ne("Set value",n.rb),c=o.length-1;c>=0;c--){var d=o[c];u.addSelection(d.getId()),d.addCommandsForChangedColumns(r,u)}u.isEmpty()||n.rb.executeCommand(u)}})),t.append(re),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),t=E("div",{class:"rbroFormField"});var oe=E("label",{class:"switch-light switch-material"}),ie=E("input",{id:"rbro_doc_element_header",type:"checkbox"});ie.addEventListener("change",(function(e){for(var t=ie.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"header",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),oe.append(ie);var ae=E("span");ae.append(E("span")),ae.append(E("span")),ae.append(E("a")),oe.append(ae),t.append(oe),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),t=E("div",{class:"rbroFormField"});var le=E("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});le.addEventListener("change",(function(e){var t=S(le.value,1,99),r=P(t);t!==le.value&&(le.value=t);for(var o=n.rb.getSelectedObjects(),i=!1,a=o.length-1;a>=0;a--)if(o[a].getValue("contentRows")!==t){i=!0;break}if(i){for(var l=new ne("Set value",n.rb),s=o.length-1;s>=0;s--){var u=o[s];l.addSelection(u.getId()),u.addCommandsForChangedContentRows(r,l)}l.isEmpty()||n.rb.executeCommand(l)}})),t.append(le),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),t=E("div",{class:"rbroFormField"});var se=E("label",{class:"switch-light switch-material"}),ue=E("input",{id:"rbro_doc_element_footer",type:"checkbox"});ue.addEventListener("change",(function(e){for(var t=ue.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"footer",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),se.append(ue);var ce=E("span");ce.append(E("span")),ce.append(E("span")),ce.append(E("a")),se.append(ce),t.append(se),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_rotate_deg_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotateDeg"),"rbro_doc_element_rotate_deg"),t=E("div",{class:"rbroFormField"});var de=E("input",{id:"rbro_doc_element_rotate_deg",type:"number",step:"15",autocomplete:"off"});de.addEventListener("input",(function(e){var t=de.value;""!==t&&(t=S(t,0,360)),t!==de.value&&(de.value=t);for(var r=n.rb.getSelectedObjects(),o=!1,i=r.length-1;i>=0;i--)if(r[i].getValue("rotateDeg")!==t){o=!0;break}if(o){for(var a=new ne("Set value",n.rb),l=r.length-1;l>=0;l--){var s=r[l];a.addSelection(s.getId()),a.addCommand(new b(s.getId(),"rotateDeg",t,b.type.text,n.rb))}a.isEmpty()||n.rb.executeCommand(a)}})),t.append(de),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_opacity_row",class:"rbroFormRow"}),this.rb.getLabel("docElementOpacity"),"rbro_doc_element_opacity"),t=E("div",{class:"rbroFormField"});var pe=E("input",{id:"rbro_doc_element_opacity",type:"number",step:"10",autocomplete:"off"});pe.addEventListener("input",(function(e){var t=pe.value;""!==t&&(t=S(t,0,100)),t!==pe.value&&(pe.value=t);for(var r=n.rb.getSelectedObjects(),o=!1,i=r.length-1;i>=0;i--)if(r[i].getValue("opacity")!==t){o=!0;break}if(o){for(var a=new ne("Set value",n.rb),l=r.length-1;l>=0;l--){var s=r[l];a.addSelection(s.getId()),a.addCommand(new b(s.getId(),"opacity",t,b.type.text,n.rb))}a.isEmpty()||n.rb.executeCommand(a)}})),t.append(pe),e.append(t),o.append(e),x(e=E("div",{id:"rbro_doc_element_show_in_foreground_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementShowInForeground"),"rbro_doc_element_show_in_foreground"),t=E("div",{class:"rbroFormField"});var he=E("input",{id:"rbro_doc_element_show_in_foreground",type:"checkbox"});he.addEventListener("change",(function(e){for(var t=new ne("Set value",n.rb),r=n.rb.getSelectedObjects(),o=he.checked,i=r.length-1;i>=0;i--){var a=r[i];t.addSelection(a.getId()),t.addCommand(new b(a.getId(),"showInForeground",o,b.type.checkbox,n.rb))}t.isEmpty()||n.rb.executeCommand(t)})),t.append(he),e.append(t),o.append(e);var fe=E("div",{id:"rbro_doc_element_style_section_container"}),me=E("div",{class:"rbroPanelSectionHeader"}),ge=E("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(e=E("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",(function(e){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),ge.classList.toggle("rbroIcon-plus"),ge.classList.toggle("rbroIcon-minus"),ge.classList.contains("rbroIcon-minus")){var t=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=t}})),me.append(ge),me.append(E("span",{},this.rb.getLabel("docElementStyle"))),e.append(me),fe.append(e);var be=E("div",{id:"rbro_doc_element_style_section"});x(e=E("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),t=E("div",{class:"rbroFormField"}),this.elStyle=E("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",(function(e){for(var t=new ne("Set value",n.rb),r=n.rb.getSelectedObjects(),o=r.length-1;o>=0;o--){var i=r[o];t.addSelection(i.getId()),i.addCommandsForChangedStyle(n.elStyle.value,"",n.propertyDescriptors,t)}t.isEmpty()||n.rb.executeCommand(t)})),t.append(this.elStyle),e.append(t),be.append(e);var ve=E("div",{id:"rbro_doc_element_style_settings"});Xt.renderStyle(ve,"doc_element_","",!0,this.controls,this.rb),be.append(ve),fe.append(be),o.append(fe);var _e=E("div",{id:"rbro_doc_element_print_section_container"}),we=E("div",{class:"rbroPanelSectionHeader"}),Ee=E("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(e=E("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",(function(e){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Ee.classList.toggle("rbroIcon-plus"),Ee.classList.toggle("rbroIcon-minus"),Ee.classList.contains("rbroIcon-minus")){var t=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=t}Ot.update(document.getElementById("rbro_doc_element_print_if"))})),we.append(Ee),we.append(E("span",{},this.rb.getLabel("docElementPrintSettings"))),e.append(we),_e.append(e);var Ie=E("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});x(e=E("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var xe=E("textarea",{id:"rbro_doc_element_group_expression",rows:1});xe.addEventListener("input",(function(e){for(var t=xe.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"groupExpression",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),xe.addEventListener("blur",(function(e){n.rb.getPopupWindow().hide()})),Ot(xe),a.append(xe),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,null),null,"rbro_doc_element_group_expression","groupExpression",Tt.type.parameterSet)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),t=E("div",{class:"rbroFormField"});var ke=E("input",{id:"rbro_doc_element_page_break",type:"checkbox"});ke.addEventListener("change",(function(e){for(var t=ke.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"pageBreak",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(ke),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),t=E("div",{class:"rbroFormField"});var Ce=E("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Ce.addEventListener("change",(function(e){for(var t=Ce.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"repeatGroupHeader",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Ce),t.append(E("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var Se=E("textarea",{id:"rbro_doc_element_print_if",rows:1});Se.addEventListener("input",(function(e){for(var t=Se.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"printIf",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),Ot(Se),a.append(Se),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,null),null,"rbro_doc_element_print_if","printIf",Tt.type.parameterAppend)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),t=E("div",{class:"rbroFormField"});var Pe=E("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Pe.addEventListener("change",(function(e){for(var t=Pe.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"repeatHeader",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Pe),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),t=E("div",{class:"rbroFormField"});var Oe=E("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Oe.addEventListener("change",(function(e){for(var t=Oe.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"removeEmptyElement",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Oe),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),t=E("div",{class:"rbroFormField"});var Ae=E("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});Ae.addEventListener("change",(function(e){for(var t=Ae.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"alwaysPrintOnSamePage",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Ae),t.append(E("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),t=E("div",{class:"rbroFormField"});var De=E("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});De.addEventListener("change",(function(e){for(var t=De.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"shrinkToContentHeight",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(De),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),t=E("div",{class:"rbroFormField"});var Te=E("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Te.addEventListener("change",(function(e){for(var t=Te.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"alignToPageBottom",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Te),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var Le=E("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Le.addEventListener("input",(function(e){for(var t=Le.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"pattern",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(Le),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){n.rb.getPopupWindow().show(n.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",Tt.type.pattern)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var je=E("input",{id:"rbro_doc_element_link",autocomplete:"off"});je.addEventListener("input",(function(e){for(var t=je.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"link",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(je),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,null),null,"rbro_doc_element_link","link",Tt.type.parameterSet)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),e.append(t),Ie.append(e),x(e=E("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),t=E("div",{class:"rbroFormField"});var Be=E("select",{id:"rbro_doc_element_grow_weight"});Be.append(E("option",{value:"0"},"-")),Be.append(E("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),Be.append(E("option",{value:"2"},"2")),Be.append(E("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),Be.addEventListener("change",(function(e){for(var t=Be.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"growWeight",t,b.type.select,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Be),t.append(E("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),e.append(t),Ie.append(e),_e.append(Ie),o.append(_e);var Ne=E("div",{id:"rbro_doc_element_cs_style_section_container"}),Re=E("div",{class:"rbroPanelSectionHeader"}),Me=E("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(e=E("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",(function(e){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Me.classList.toggle("rbroIcon-plus"),Me.classList.toggle("rbroIcon-minus"),Me.classList.contains("rbroIcon-minus")){var t=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=t}})),Re.append(Me),Re.append(E("span",{},this.rb.getLabel("docElementConditionalStyle"))),e.append(Re),Ne.append(e);var Fe=E("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});x(e=E("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var Ve=E("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Ve.addEventListener("input",(function(e){for(var t=Ve.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"cs_condition",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),Ot(Ve),a.append(Ve),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t=n.rb.getSelectedObjects(),r=1===t.length?t[0]:null;n.rb.getPopupWindow().show(n.rb.getParameterItems(r,null),null,"rbro_doc_element_cs_condition","cs_condition",Tt.type.parameterAppend)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),e.append(t),Fe.append(e),x(e=E("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),t=E("div",{class:"rbroFormField"}),this.elCsStyle=E("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",(function(e){for(var t=n.elCsStyle.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),a.addCommandsForChangedStyle(t,"cs_",n.propertyDescriptors,r)}r.isEmpty()||n.rb.executeCommand(r)})),t.append(this.elCsStyle),e.append(t),Fe.append(e),x(e=E("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),t=E("div",{class:"rbroFormField"});var qe=E("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});qe.append(E("span",{},this.rb.getLabel("editData"))),qe.append(E("span",{class:"rbroIcon-edit"})),qe.addEventListener("click",(function(e){var t=n.rb.getSelectedObjects();if(1===t.length){var r=t[0],o=[{name:"condition",label:n.rb.getLabel("docElementConditionalStyleCondition"),type:ye.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:n.rb.getLabel("docElementStyle"),type:ye.type.string,parameter:null,attributes:{select:"style"}}],i=[];if(r.getValue("cs_additionalRules"))try{i=JSON.parse(r.getValue("cs_additionalRules"))}catch(e){}n.rb.getPopupWindow().show(null,r.getId(),"","cs_additionalRules",Tt.type.data,null,null,ye.type.array,o,i)}else t.length>1&&alert(n.rb.getLabel("docElementEditMultipleSelectionNotSupported"))})),t.append(qe),t.append(E("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),e.append(t),Fe.append(e);var ze=E("div",{id:"rbro_doc_element_cs_style_settings"});Xt.renderStyle(ze,"doc_element_cs_","cs_",!1,this.controls,this.rb),Fe.append(ze),Ne.append(Fe),o.append(Ne);var He=E("div",{id:"rbro_doc_element_spreadsheet_section_container"}),We=E("div",{class:"rbroPanelSectionHeader"}),Ue=E("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(e=E("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",(function(e){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Ue.classList.toggle("rbroIcon-plus"),Ue.classList.toggle("rbroIcon-minus"),Ue.classList.contains("rbroIcon-minus")){var t=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=t}})),We.append(Ue),We.append(E("span",{},this.rb.getLabel("docElementSpreadsheet"))),e.append(We),He.append(e);var Ge=E("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});x(e=E("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),t=E("div",{class:"rbroFormField"});var Ke=E("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Ke.addEventListener("change",(function(e){for(var t=Ke.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_hide",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Ke),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),t=E("div",{class:"rbroFormField"});var $e=E("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});$e.addEventListener("input",(function(e){var t=$e.value;""!==t&&(t=S(t,1,99)),t!==$e.value&&($e.value=t);for(var r=n.rb.getSelectedObjects(),o=!1,i=r.length-1;i>=0;i--)if(r[i].getValue("spreadsheet_column")!==t){o=!0;break}if(o){for(var a=new ne("Set value",n.rb),l=r.length-1;l>=0;l--){var s=r[l];a.addSelection(s.getId()),a.addCommand(new b(s.getId(),"spreadsheet_column",t,b.type.text,n.rb))}a.isEmpty()||n.rb.executeCommand(a)}})),t.append($e),t.append(E("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),t=E("div",{class:"rbroFormField"});var Xe=E("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Xe.addEventListener("input",(function(e){for(var t=Xe.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_colspan",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Xe),t.append(E("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),t=E("div",{class:"rbroFormField"});var Je=E("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Je.addEventListener("change",(function(e){for(var t=Je.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_addEmptyRow",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Je),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_type_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetType"),"rbro_doc_element_spreadsheet_type"),t=E("div",{class:"rbroFormField"});var Ze=E("select",{id:"rbro_doc_element_spreadsheet_type"});Ze.append(E("option",{value:""},this.rb.getLabel("docElementSpreadsheetTypeNone"))),Ze.append(E("option",{value:"number"},this.rb.getLabel("docElementSpreadsheetTypeNumber"))),Ze.append(E("option",{value:"date"},this.rb.getLabel("docElementSpreadsheetTypeDate"))),Ze.addEventListener("change",(function(e){for(var t=Ze.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_type",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Ze),t.append(E("div",{id:"rbro_doc_element_spreadsheet_type_error",class:"rbroErrorMessage"})),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetPattern"),"rbro_doc_element_spreadsheet_pattern"),t=E("div",{class:"rbroFormField"}),a=E("div",{class:"rbroSplit rbroSelector"});var Ye=E("input",{id:"rbro_doc_element_spreadsheet_pattern",autocomplete:"off"});Ye.addEventListener("input",(function(e){for(var t=Ye.value,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_pattern",t,b.type.text,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),a.append(Ye),(r=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var t;t="date"===Ze.value?n.rb.getProperty("patternDates"):"number"===Ze.value?n.rb.getProperty("patternNumbers"):n.rb.getPatterns(),n.rb.getPopupWindow().show(t,null,"rbro_doc_element_spreadsheet_pattern","spreadsheet_pattern",Tt.type.pattern)})),a.append(r),t.append(a),t.append(E("div",{id:"rbro_doc_element_spreadsheet_pattern_error",class:"rbroErrorMessage"})),e.append(t),Ge.append(e),x(e=E("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),t=E("div",{class:"rbroFormField"});var Qe=E("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Qe.addEventListener("change",(function(e){for(var t=Qe.checked,r=new ne("Set value",n.rb),o=n.rb.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];r.addSelection(a.getId()),r.addCommand(new b(a.getId(),"spreadsheet_textWrap",t,b.type.checkbox,n.rb))}r.isEmpty()||n.rb.executeCommand(r)})),t.append(Qe),e.append(t),Ge.append(e),He.append(Ge),this.rb.getProperty("enableSpreadsheet")||(He.style.display="none"),o.append(He),document.getElementById("rbro_detail_panel").append(o),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){var e="",t=this.rb.getSelectedObjects();if(t.length>0){e=r.getElementStyleType(t[0]);var n,o=Yt(this.rb.getSelectedObjects());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(e!==r.getElementStyleType(i)){e="mixed";break}}}catch(e){o.e(e)}finally{o.f()}}N(this.elStyle,e,null,this.rb),N(this.elCsStyle,e,null,this.rb)}},{key:"setupRichText",value:function(){var e=this,t=Zt().import("formats/link"),r=t.sanitize;t.sanitize=function(e){var t=e;return/^\w+:/.test(t)||t.startsWith("${")?t:(/^https?:/.test(t)||(t=t.startsWith("/")?"http:"+t:"http://"+t),r.call(this,t))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",(function(t){var r=e.rb.getSelectedObjects(),n=1===r.length?r[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(n,null),null,"rbro_doc_element_rich_text_content","richTextContent",Tt.type.parameterAppend,e.quill)}));var n,o=Zt().import("formats/font"),i=[],a=Yt(this.rb.getFonts());try{for(a.s();!(n=a.n()).done;){var l=n.value;i.push(l.value)}}catch(e){a.e(e)}finally{a.f()}o.whitelist=i,Zt().register(o,!0);var s,u=Zt().import("attributors/style/size"),c=[],d=Yt(this.rb.getProperty("fontSizes"));try{for(d.s();!(s=d.n()).done;){var p=s.value;c.push(p+"px")}}catch(e){d.e(e)}finally{d.f()}u.whitelist=c,Zt().register(u,!0);var h=new(Zt())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});h.getModule("toolbar").addHandler("color",(function(e){"clear-color"===e?h.format("color",""):h.format("color",e)})),h.getModule("toolbar").addHandler("background",(function(e){"clear-color"===e?h.format("background",""):h.format("background",e)}));var f=this.rb;h.on("text-change",(function(e,t,r){for(var n=h.getContents(),o=h.root.innerHTML,i=new ne("Set value",f),a=f.getSelectedObjects(),l=a.length-1;l>=0;l--){var s=a[l];i.addSelection(s.getId()),i.addCommand(new b(s.getId(),"richTextContent",n,b.type.richText,f)),i.addCommand(new b(s.getId(),"richTextHtml",o,b.type.text,f))}i.isEmpty()||f.executeCommand(i)})),this.quill=h}},{key:"destroy",value:function(){this.controls.color.destroy(),Xt.destroyStyle("",this.controls),Xt.destroyStyle("cs_",this.controls)}},{key:"updateAutosizeInputs",value:function(e){null!==e&&"dataSource"!==e||Ot.update(document.getElementById("rbro_doc_element_data_source")),null!==e&&"content"!==e||Ot.update(document.getElementById("rbro_doc_element_content")),null!==e&&"source"!==e||Ot.update(document.getElementById("rbro_doc_element_source")),null!==e&&"groupExpression"!==e||Ot.update(document.getElementById("rbro_doc_element_group_expression")),null!==e&&"printIf"!==e||Ot.update(document.getElementById("rbro_doc_element_print_if")),null!==e&&"cs_condition"!==e||Ot.update(document.getElementById("rbro_doc_element_cs_condition"))}},{key:"show",value:function(){p(s(r.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(e,t,n){e instanceof X?(t===d.operation.add||t===d.operation.remove||t===d.operation.move||t===d.operation.change&&"name"===n)&&this.renderStyleSelect():p(s(r.prototype),"notifyEvent",this).call(this,e,t,n)}},{key:"selectionChanged",value:function(){this.renderStyleSelect(),p(s(r.prototype),"selectionChanged",this).call(this)}},{key:"getSections",value:function(){return["style","print","cs_style","spreadsheet"]}}],[{key:"getElementStyleType",value:function(e){return e instanceof Je||e instanceof Qe?X.type.text:e instanceof Ne?X.type.line:e instanceof Le?X.type.image:e instanceof ut?X.type.table:e instanceof ot?X.type.tableBand:e instanceof Ae?X.type.frame:e instanceof ze?X.type.sectionBand:""}}]),r}(Wt);function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function or(e,t,r){return t=s(t),l(e,ir()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ir=function(){return!!e})()}var ar=function(t){function r(t,n){var o,i;return e(this,r),(i=or(this,r,["rbro_document_properties",Mt,t,n])).propertyDescriptors={pageFormat:{type:b.type.text,fieldId:"page_format",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageWidth:{type:b.type.text,fieldId:"page_width",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},pageHeight:{type:b.type.text,fieldId:"page_height",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},unit:{type:b.type.select,fieldId:"unit",rowId:"rbro_document_properties_page_size_row",errorMsgId:"rbro_document_properties_page_error",visibleIf:"pageFormat == 'user_defined'"},orientation:{type:b.type.select,fieldId:"orientation"},contentHeight:{type:b.type.text,fieldId:"content_height"},marginLeft:{type:b.type.text,fieldId:"page_margin_left",rowId:"rbro_document_properties_page_margin_row"},marginTop:{type:b.type.text,fieldId:"page_margin_top",rowId:"rbro_document_properties_page_margin_row"},marginRight:{type:b.type.text,fieldId:"page_margin_right",rowId:"rbro_document_properties_page_margin_row"},marginBottom:{type:b.type.text,fieldId:"page_margin_bottom",rowId:"rbro_document_properties_page_margin_row"},header:{type:b.type.checkbox,fieldId:"header"},headerSize:{type:b.type.text,fieldId:"header_size",visibleIf:"header"},headerDisplay:{type:b.type.select,fieldId:"header_display",visibleIf:"header"},footer:{type:b.type.checkbox,fieldId:"footer"},footerSize:{type:b.type.text,fieldId:"footer_size",visibleIf:"footer"},footerDisplay:{type:b.type.select,fieldId:"footer_display",visibleIf:"footer"},watermark:{type:b.type.checkbox,fieldId:"watermark"},patternLocale:{type:b.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:b.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:b.type.text,fieldId:"pattern_number_group_symbol"}},p((o=a(i),s(r.prototype)),"initVisibleIfFields",o).call(o),i}return c(r,t),i(r,[{key:"render",value:function(e){var t=this,r=E("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),n=E("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});x(n,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var o=E("div",{class:"rbroFormField"}),i=E("select",{id:"rbro_document_properties_page_format"});i.append(E("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),i.append(E("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),i.append(E("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),i.append(E("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),i.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"pageFormat",i.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(i);var a=E("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),l=E("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});l.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"pageWidth",l.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),C(l),a.append(l);var s=E("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});s.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"pageHeight",s.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(s),a.append(s);var u=E("select",{id:"rbro_document_properties_unit"});u.append(E("option",{value:"mm"},"mm")),u.append(E("option",{value:"inch"},"inch")),a.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"unit",u.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),a.append(u),o.append(a),o.append(E("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),n.append(o),r.append(n),x(n=E("div",{id:"rbro_document_properties_orientation_row",class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),o=E("div",{class:"rbroFormField"});var c=E("select",{id:"rbro_document_properties_orientation"});c.append(E("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),c.append(E("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),c.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"orientation",c.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(c),n.append(o),r.append(n),x(n=E("div",{id:"rbro_document_properties_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),o=E("div",{class:"rbroFormField"});var d=E("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});if(d.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"contentHeight",d.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(d),o.append(d),o.append(E("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),n.append(o),r.append(n),this.renderMarginControls(r),this.renderHeaderFooter(r),this.rb.getProperty("showPlusFeatures")){x(n=E("div",{id:"rbro_document_properties_watermark_row",class:"rbroFormRow"}),this.rb.getLabel("watermarks"),"rbro_document_properties_watermark"),o=E("div",{class:"rbroFormField"});var p=E("label",{class:"switch-light switch-material"}),h=E("input",{id:"rbro_document_properties_watermark",type:"checkbox"});h.addEventListener("change",(function(e){var r=h.checked,n=t.rb.getSelectedObject();if(null!==n){var o=new b(n.getId(),"watermark",r,b.type.checkbox,t.rb);t.rb.executeCommand(o)}})),p.append(h);var f=E("span");if(f.append(E("span")),f.append(E("span")),f.append(E("a")),p.append(f),o.append(p),o.append(E("div",{id:"rbro_document_properties_watermark_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var y=E("div",{class:"rbroInfo"});y.innerHTML=this.rb.getLabel("plusFeatureInfo"),o.append(y)}n.append(o),r.append(n)}x(n=E("div",{id:"rbro_document_properties_pattern_locale_row",class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),o=E("div",{class:"rbroFormField"});var m,g=E("select",{id:"rbro_document_properties_pattern_locale"}),v=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(this.rb.getProperty("patternLocales"));try{for(v.s();!(m=v.n()).done;){var _=m.value;g.append(E("option",{value:_},_))}}catch(e){v.e(e)}finally{v.f()}g.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"patternLocale",g.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(g),n.append(o),r.append(n),x(n=E("div",{id:"rbro_document_properties_pattern_currency_symbol_row",class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),o=E("div",{class:"rbroFormField"});var w=E("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});w.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"patternCurrencySymbol",w.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),o.append(w),n.append(o),r.append(n),x(n=E("div",{id:"rbro_document_properties_pattern_number_group_symbol_row",class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),o=E("div",{class:"rbroFormField"});var I=E("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});I.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"patternNumberGroupSymbol",I.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),o.append(I),o.append(E("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),n.append(o),r.append(n),document.getElementById("rbro_detail_panel").append(r)}},{key:"renderMarginControls",value:function(e){var t=this,r=E("div",{id:"rbro_document_properties_page_margin_row",class:"rbroFormRow"});x(r,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var n=E("div",{class:"rbroFormField rbroSmallInput"}),o=E("div",{class:"rbroColumnCenter"}),i=E("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});i.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"marginTop",i.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(i),o.append(i),n.append(o);var a=E("div",{class:"rbroSplit"}),l=E("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});l.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"marginLeft",l.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(l),a.append(l);var s=E("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});s.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"marginRight",s.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(s),a.append(s),n.append(a);var u=E("div",{class:"rbroColumnCenter"}),c=E("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});c.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"marginBottom",c.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(c),u.append(c),n.append(u),r.append(n),e.append(r)}},{key:"renderHeaderFooter",value:function(e){var t=this,r=E("div",{class:"rbroFormRowContainer"}),n=E("div",{id:"rbro_document_properties_header_row",class:"rbroFormRow"});x(n,this.rb.getLabel("header"),"rbro_document_properties_header");var o=E("div",{class:"rbroFormField"}),i=E("label",{class:"switch-light switch-material"}),a=E("input",{id:"rbro_document_properties_header",type:"checkbox"});a.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"header",a.checked,b.type.checkbox,t.rb);t.rb.executeCommand(n)}})),i.append(a);var l=E("span");l.append(E("span")),l.append(E("span")),l.append(E("a")),i.append(l),o.append(i),n.append(o),r.append(n);var s=E("div",{id:"rbro_document_properties_header_settings"});x(n=E("div",{id:"rbro_document_properties_header_size_row",class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),o=E("div",{class:"rbroFormField"});var u=E("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});u.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"headerSize",u.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(u),o.append(u),n.append(o),s.append(n),x(n=E("div",{id:"rbro_document_properties_header_display_row",class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),o=E("div",{class:"rbroFormField"});var c=E("select",{id:"rbro_document_properties_header_display"});c.append(E("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),c.append(E("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),c.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"headerDisplay",c.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(c),n.append(o),s.append(n),r.append(s),e.append(r);var d=E("div",{class:"rbroFormRowContainer"});x(n=E("div",{id:"rbro_document_properties_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),o=E("div",{class:"rbroFormField"});var p=E("label",{class:"switch-light switch-material"}),h=E("input",{id:"rbro_document_properties_footer",type:"checkbox"});h.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"footer",h.checked,b.type.checkbox,t.rb);t.rb.executeCommand(n)}})),p.append(h);var f=E("span");f.append(E("span")),f.append(E("span")),f.append(E("a")),p.append(f),o.append(p),n.append(o),d.append(n);var y=E("div",{id:"rbro_document_properties_footer_settings"});x(n=E("div",{id:"rbro_document_properties_footer_size_row",class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),o=E("div",{class:"rbroFormField"});var m=E("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});m.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"footerSize",m.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),C(m),o.append(m),n.append(o),y.append(n),x(n=E("div",{id:"rbro_document_properties_footer_display_row",class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),o=E("div",{class:"rbroFormField"});var g=E("select",{id:"rbro_document_properties_footer_display"});g.append(E("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),g.append(E("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),g.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"footerDisplay",g.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(g),n.append(o),y.append(n),d.append(y),e.append(d)}}]),r}(Wt),lr=function(){function t(r,n){e(this,t),this.rootElement=r,this.rb=n}return i(t,[{key:"render",value:function(){var e=E("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});e.append(E("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(e)}},{key:"destroy",value:function(){}},{key:"show",value:function(e){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(e,t){}},{key:"updateErrors",value:function(){}}]),t}();function sr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cr(e,t,r){return t=s(t),l(e,dr()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function dr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dr=function(){return!!e})()}var pr=function(t){function r(t,n){var o,i;return e(this,r),(i=cr(this,r,["rbro_parameter",ye,t,n])).propertyDescriptors={name:{type:b.type.text,fieldId:"name"},type:{type:b.type.select,fieldId:"type"},arrayItemType:{type:b.type.select,fieldId:"array_item_type"},eval:{type:b.type.checkbox,fieldId:"eval"},nullable:{type:b.type.checkbox,fieldId:"nullable"},pattern:{type:b.type.text,fieldId:"pattern"},expression:{type:b.type.text,fieldId:"expression"},testData:{type:b.type.text,fieldId:"test_data"},testDataBoolean:{type:b.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:b.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:b.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1},testDataRichText:{type:b.type.text,fieldId:"test_data_rich_text"}},i.parameterTypeOptions=[],p((o=a(i),s(r.prototype)),"initVisibleIfFields",o).call(o),i}return c(r,t),i(r,[{key:"render",value:function(e){var t=this,r=E("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),n=E("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});x(n,this.rb.getLabel("parameterName"),"rbro_parameter_name");var o=E("div",{class:"rbroFormField"}),i=E("input",{id:"rbro_parameter_name",autocomplete:"off"});i.addEventListener("input",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=i.value;if(n!==r.getName()){var o=new ne("Rename parameter"),a=new b(r.getId(),"name",n,b.type.text,t.rb);o.addCommand(a);for(var l=[],s=null,u=r.getParent();null!==u;)s=u,l.unshift(s),u=s.getParent();r.addUpdateTestDataCmdForChangedParameterName(n,l,o);var c=null;if(null!==(c=null!==s?s.getPanelItem():t.rb.getMainPanel().getParametersItem())&&null===c.getChildByNameExclude(r.getName(),r)&&null===c.getChildByNameExclude(n,r)){var d,p=sr(t.rb.getDocElements(!0));try{for(p.s();!(d=p.n()).done;)d.value.addCommandsForChangedParameterName(r,n,o)}catch(e){p.e(e)}finally{p.f()}var h,f=sr(t.rb.getParameters());try{for(f.s();!(h=f.n()).done;)h.value.addCommandsForChangedParameterName(r,n,o)}catch(e){f.e(e)}finally{f.f()}}t.rb.executeCommand(o)}}})),o.append(i),o.append(E("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),n.append(o),r.append(n),x(n=E("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),o=E("div",{class:"rbroFormField"});var a=E("select",{id:"rbro_parameter_type"});if(a.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new ne("Set parameter type"),o=a.value,i=new b(r.getId(),"type",o,b.type.select,t.rb);n.addCommand(i),r.addCommandsForChangedParameterType(o,n),t.rb.executeCommand(n)}})),o.append(a),o.append(E("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var l=E("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});l.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),o.append(l)}n.append(o),r.append(n),x(n=E("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),o=E("div",{class:"rbroFormField"});var s=E("select",{id:"rbro_parameter_array_item_type"});s.append(E("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),s.append(E("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),s.append(E("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),s.append(E("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),this.rb.getProperty("showPlusFeatures")&&s.append(E("option",{value:"rich_text"},this.rb.getLabel("parameterTypeRichText"))),s.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"arrayItemType",s.value,b.type.select,t.rb);t.rb.executeCommand(n)}})),o.append(s),o.append(E("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),n.append(o),r.append(n);var u={};this.rb.getProperty("adminMode")||(u.style="display: none");var c=E("div",u);x(n=E("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),o=E("div",{class:"rbroFormField"});var d=E("input",{id:"rbro_parameter_eval",type:"checkbox"});d.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"eval",d.checked,b.type.checkbox,t.rb);t.rb.executeCommand(n)}})),o.append(d),n.append(o),c.append(n),r.append(c),x(n=E("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),o=E("div",{class:"rbroFormField"});var p=E("input",{id:"rbro_parameter_nullable",type:"checkbox"});p.addEventListener("change",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"nullable",p.checked,b.type.checkbox,t.rb);t.rb.executeCommand(n)}})),o.append(p),n.append(o),r.append(n),x(n=E("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),o=E("div",{class:"rbroFormField"});var h=E("div",{class:"rbroSplit rbroSelector"}),f=E("input",{id:"rbro_parameter_pattern",autocomplete:"off"});f.addEventListener("input",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"pattern",f.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),h.append(f);var y=E("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});y.addEventListener("click",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n,o=r.getValue("type");n=(o===ye.type.simpleArray?r.getValue("arrayItemType"):o)===ye.type.date?t.rb.getProperty("patternDates"):t.rb.getProperty("patternNumbers"),t.rb.getPopupWindow().show(n,r.getId(),"rbro_parameter_pattern","pattern",Tt.type.pattern)}})),h.append(y),o.append(h),o.append(E("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),n.append(o),r.append(n),x(n=E("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),o=E("div",{class:"rbroFormField"}),h=E("div",{class:"rbroSplit rbroSelector"});var m=E("textarea",{id:"rbro_parameter_expression",rows:"1"});m.addEventListener("input",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"expression",m.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),Ot(m),h.append(m),(y=E("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",(function(e){var r,n,o=t.rb.getSelectedObject();null!==o&&(o.getValue("type")===ye.type.sum||o.getValue("type")===ye.type.average?(r=t.rb.getArrayFieldParameterItems([ye.type.number]),n=Tt.type.parameterSet):(r=t.rb.getParameterItems(o),n=Tt.type.parameterAppend),t.rb.getPopupWindow().show(r,o.getId(),"rbro_parameter_expression","expression",n))})),h.append(y),o.append(h),o.append(E("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),n.append(o),r.append(n);var g=E("div",{id:"rbro_parameter_test_data_container"});x(n=E("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),o=E("div",{class:"rbroFormField"});var v=E("input",{id:"rbro_parameter_test_data",autocomplete:"off"});v.addEventListener("input",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"testData",v.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),o.append(v);var _=E("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});_.append(E("span",{},this.rb.getLabel("parameterEditTestData"))),_.append(E("span",{class:"rbroIcon-edit"})),_.addEventListener("click",(function(e){var r=t.rb.getSelectedObject();null!==r&&(r.getParameterFields().length>0?t.rb.getPopupWindow().show(null,r.getId(),"","testData",Tt.type.data,null,r,null,null,null):r.getValue("type")===ye.type.map?alert(t.rb.getLabel("parameterEditTestDataMapNoFields")):alert(t.rb.getLabel("parameterEditTestDataArrayNoFields")))})),o.append(_),o.append(E("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),n.append(o),g.append(n),x(n=E("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),o=E("div",{class:"rbroFormField"});var w=E("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});w.addEventListener("change",(function(e){var r=w.checked,n=t.rb.getSelectedObject();if(null!==n){var o=new b(n.getId(),"testDataBoolean",r,b.type.checkbox,t.rb);t.rb.executeCommand(o)}})),o.append(w),n.append(o),g.append(n),x(n=E("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),o=E("div",{class:"rbroFormField"});var I=E("input",{id:"rbro_parameter_test_data_image",type:"file"});I.addEventListener("change",(function(e){var r=t.rb,n=e.target.files;n&&n[0]&&B(n[0],(function(e,t){for(var n=new ne("Load image",r),o=r.getSelectedObjects(),i=o.length-1;i>=0;i--){var a=o[i];n.addSelection(a.getId()),n.addCommand(new b(a.getId(),"testDataImage",e,b.type.file,r)),n.addCommand(new b(a.getId(),"testDataImageFilename",t,b.type.filename,r))}n.isEmpty()||r.executeCommand(n)}),t.rb)})),o.append(I);var k=E("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});k.append(E("div",{id:"rbro_parameter_test_data_image_filename"}));var C=E("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});C.addEventListener("click",(function(e){I.value="";var r=new ne("Clear image",t.rb),n=t.rb.getSelectedObject();null!==n&&(r.addSelection(n.getId()),r.addCommand(new b(n.getId(),"testDataImage","",b.type.file,t.rb)),r.addCommand(new b(n.getId(),"testDataImageFilename","",b.type.filename,t.rb))),r.isEmpty()||t.rb.executeCommand(r)})),k.append(C),o.append(k),o.append(E("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),o.append(E("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),n.append(o),g.append(n),x(n=E("div",{id:"rbro_parameter_test_data_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_rich_text"),o=E("div",{class:"rbroFormField"});var S=E("textarea",{id:"rbro_parameter_test_data_rich_text",rows:1,autocomplete:"off"});S.addEventListener("input",(function(e){var r=t.rb.getSelectedObject();if(null!==r){var n=new b(r.getId(),"testDataRichText",S.value,b.type.text,t.rb);t.rb.executeCommand(n)}})),Ot(S),o.append(S);var P=E("div",{id:"rbro_parameter_test_data_rich_text_plus_info",class:"rbroInfo"});P.innerHTML=this.rb.getLabel("parameterTestDataRichTextInfo"),o.append(P),n.append(o),g.append(n),r.append(g),document.getElementById("rbro_detail_panel").append(r)}},{key:"updateVisibileRows",value:function(e,t){var r=e.getValue("type"),n=r===ye.type.simpleArray?e.getValue("arrayItemType"):r,o=e.getValue("showOnlyNameType"),i=null;if(null!==e.getPanelItem()&&e.getPanelItem().getParent().getData()instanceof ye&&(i=e.getPanelItem().getParent().getData()),null===t){var a=e.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!a,document.getElementById("rbro_parameter_type").disabled=!a,document.getElementById("rbro_parameter_eval").disabled=!a,document.getElementById("rbro_parameter_nullable").disabled=!a,document.getElementById("rbro_parameter_pattern").disabled=!a,document.getElementById("rbro_parameter_expression").disabled=!a,a?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(null!==t&&"type"!==t||(r===ye.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",r===ye.type.string||r===ye.type.number||r===ye.type.boolean||r===ye.type.date||r===ye.type.image||r===ye.type.array||r===ye.type.simpleArray||r===ye.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),null!==t&&"type"!==t&&"arrayItemType"!==t||(n!==ye.type.number&&n!==ye.type.date&&n!==ye.type.sum&&n!==ye.type.average||o?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),null!==t&&"type"!==t&&"eval"!==t||(r===ye.type.sum||r===ye.type.average||o?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(r===ye.type.image||r===ye.type.richText||r===ye.type.array||r===ye.type.simpleArray||r===ye.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),null!==i||e.getValue("eval")&&(r===ye.type.string||r===ye.type.number||r===ye.type.boolean||r===ye.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),r===ye.type.array||r===ye.type.simpleArray||r===ye.type.map||r===ye.type.string||r===ye.type.number||r===ye.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",r===ye.type.array||r===ye.type.simpleArray||r===ye.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",r===ye.type.string||r===ye.type.number||r===ye.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",r===ye.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",r===ye.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none",r===ye.type.richText?document.getElementById("rbro_parameter_test_data_rich_text_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_rich_text_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(null===i||r!==ye.type.map&&r!==ye.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!e.getValue("eval")||r!==ye.type.string&&r!==ye.type.number&&r!==ye.type.boolean&&r!==ye.type.date)&&r!==ye.type.sum&&r!==ye.type.average||o?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),null===t){var l=[],s=null!==i&&i.getValue("type")===ye.type.array;l.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),l.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),l.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),l.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),l.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),this.rb.getProperty("showPlusFeatures")&&l.push({value:"rich_text",label:this.rb.getLabel("parameterTypeRichText")}),(null===i||this.rb.getProperty("showPlusFeatures"))&&l.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),l.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(null===i||this.rb.getProperty("showPlusFeatures"))&&l.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),s||(l.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),l.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var u=!1;if(l.length!==this.parameterTypeOptions.length)u=!0;else for(var c=0;c<l.length;c++)if(l[c].value!==this.parameterTypeOptions[c].value){u=!0;break}if(u){var d=document.getElementById("rbro_parameter_type");I(d);for(var p=0;p<l.length;p++){var h=l[p];d.append(E("option",{value:h.value},h.label))}this.parameterTypeOptions=l}}}},{key:"updateDisplay",value:function(e){var t=this.rb.getSelectedObject();null!==t&&t instanceof ye&&(this.updateVisibileRows(t,e),null!==e&&"type"!==e||(t.getValue("type")===ye.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",""))),p(s(r.prototype),"updateDisplay",this).call(this,e)}},{key:"updateAutosizeInputs",value:function(e){null!==e&&"expression"!==e||Ot.update(document.getElementById("rbro_parameter_expression")),null!==e&&"type"!==e||Ot.update(document.getElementById("rbro_parameter_test_data_rich_text"))}}]),r}(Wt);function hr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yr=function(){function t(r,n,o,i,a,l,s){e(this,t),this.rootElement=r,this.rb=s,this.headerItem=new ae("band",null,n,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},s),this.documentItem=new ae("band",null,o,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},s),this.footerItem=new ae("band",null,i,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},s),this.parametersItem=new ae("parameter",null,a,{hasChildren:!0,showAdd:s.getProperty("adminMode"),showDelete:!1,hasDetails:!1},s),this.stylesItem=new ae("style",null,l,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},s),this.watermarksItem=new ae("watermark",null,null,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,id:"0_watermarks",name:s.getLabel("watermarks"),static:!0},s),this.documentPropertiesItem=new ae("documentProperties",null,s.getDocumentProperties(),{showDelete:!1,hasDetails:!0},s),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.watermarksItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,n.setPanelItem(this.headerItem),o.setPanelItem(this.documentItem),i.setPanelItem(this.footerItem),a.setPanelItem(this.parametersItem),l.setPanelItem(this.stylesItem)}return i(t,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getWatermarksItem",value:function(){return this.watermarksItem}},{key:"getContainerByItem",value:function(e){for(;null!==e;){if(e.getData()instanceof v)return e.getData();e=e.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var e=this,t=document.getElementById("rbro_main_panel_list");this.appendChildren(t,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",(function(t){e.dragMainPanelSizer=!0,e.dragMainPanelSizerStartX=t.pageX})),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(e,t){var r,n=hr(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.append(o.getElement());var i=o.getChildren();i.length>0&&this.appendChildren(e,i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"processMouseMove",value:function(e){if(this.dragMainPanelSizer){var t=this.mainPanelWidth+(e.pageX-this.dragMainPanelSizerStartX);return t=this.checkMainPanelWidth(t),this.updateMainPanelWidth(t),!0}return!1}},{key:"mouseUp",value:function(e){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(e.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var e=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(e+=92),e}},{key:"updateMainPanelWidth",value:function(e){document.getElementById("rbro_main_panel").style.width=e+"px",document.getElementById("rbro_main_panel_sizer").style.left=e+"px",document.getElementById("rbro_detail_panel").style.left=e+this.mainPanelSizerWidth+"px";var t=e+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(t+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=e+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(t,"px)")}},{key:"checkMainPanelWidth",value:function(e){return e<150?150:e>500?500:e}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"showWatermarks",value:function(){this.watermarksItem.show()}},{key:"hideWatermarks",value:function(){this.watermarksItem.hide()}},{key:"clearAll",value:function(){var e,t=hr(this.items);try{for(t.s();!(e=t.n()).done;)e.value.clear()}catch(e){t.e(e)}finally{t.f()}}}]),t}(),mr=function(){function r(t,n){e(this,r),this.rootElement=t,this.rb=n}return i(r,[{key:"render",value:function(){var e,r=this,n=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",o=document.getElementById("rbro_menu_panel"),i=E("div",{class:"rbroToolButtonContainer"});(e=E("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(E("span",{class:"rbroIcon-save"})),e.append(E("span",{class:n},this.rb.getLabel("menuSave"))),e.addEventListener("click",(function(e){r.rb.save()})),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(e.style.display="none"),i.append(e),this.rb.getProperty("menuShowDebug")&&((e=E("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(E("span",{class:"rbroIcon-console"})),e.append(E("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),e.addEventListener("click",(function(e){console.log(JSON.stringify(r.rb.getReport()))})),i.append(e),(e=E("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(E("span",{class:"rbroIcon-insert-report"})),e.append(E("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),e.addEventListener("click",(function(e){var n=prompt("Paste report template here to load report");if(n)try{var o=JSON.parse(n);"object"===t(o.docElements)&&"object"===t(o.parameters)&&"object"===t(o.styles)&&"object"===t(o.documentProperties)?(r.rb.load(o),r.rb.setModified(!0)):alert("Invalid report template data")}catch(e){alert("Invalid report template data")}})),i.append(e)),(e=E("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(E("span",{class:"rbroIcon-undo"})),e.append(E("span",{class:n},this.rb.getLabel("menuUndo"))),e.addEventListener("click",(function(e){r.rb.undoCommand()})),i.append(e),(e=E("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(E("span",{class:"rbroIcon-redo"})),e.append(E("span",{class:n},this.rb.getLabel("menuRedo"))),e.addEventListener("click",(function(e){r.rb.redoCommand()})),i.append(e),(e=E("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(E("span",{class:"rbroIcon-play"})),e.append(E("span",{class:n},this.rb.getLabel("menuPreview"))),e.addEventListener("click",(function(e){r.rb.preview()})),i.append(e),o.append(i);var a,l=E("div",{class:"rbroElementButtonContainer"}),s=E("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(a=E("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(E("span",{class:"rbroIcon-text"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.text,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.text,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(E("span",{class:"rbroIcon-line"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.line,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.line,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(E("span",{class:"rbroIcon-image"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.image,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.image,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(E("span",{class:"rbroIcon-barcode"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.barCode,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.barCode,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(E("span",{class:"rbroIcon-table"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.table,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.table,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(E("span",{class:"rbroIcon-frame"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.frame,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.frame,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(E("span",{class:"rbroIcon-section"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.section,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.section,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),(a=E("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(E("span",{class:"rbroIcon-page-break"})),a.addEventListener("dragstart",(function(e){e.dataTransfer.setData("text/plain",""),e.dataTransfer.effectAllowed="copy",r.rb.startBrowserDrag("docElement",be.type.pageBreak,""),e.stopPropagation()})),a.addEventListener("touchstart",(function(e){r.rb.startBrowserDrag("docElement",be.type.pageBreak,""),e.preventDefault()})),a.addEventListener("touchmove",(function(e){r.rb.getDocument().processDragover(e)})),a.addEventListener("touchend",(function(e){r.rb.getDocument().processDrop(e)})),s.append(a),l.append(s);var u=E("div",{class:"rbroActionButtons"}),c=E("div",{id:"rbro_menu_align",style:"display: none;"}),d=E("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});d.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.left)})),c.append(d);var p=E("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});p.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.center)})),c.append(p);var h=E("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});h.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.right)})),c.append(h),u.append(c);var f=E("div",{id:"rbro_menu_valign",style:"display: none;"}),y=E("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});y.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.top)})),f.append(y);var m=E("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});m.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.middle)})),f.append(m);var g=E("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});g.addEventListener("click",(function(e){r.rb.alignSelections(X.alignment.bottom)})),f.append(g),u.append(f);var b=E("div",{id:"rbro_menu_column_actions",style:"display: none;"}),v=E("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});v.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&t.insertColumn(!0)})),b.append(v);var _=E("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});_.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&t.insertColumn(!1)})),b.append(_);var w=E("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});w.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&t.deleteColumn()})),b.append(w),u.append(b);var I=E("div",{id:"rbro_menu_row_actions",style:"display: none;"}),x=E("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});x.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&null!==t.getParent()&&t.getParent().insertRow(!0)})),I.append(x);var k=E("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});k.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&null!==t.getParent()&&t.getParent().insertRow(!1)})),I.append(k);var C=E("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});C.addEventListener("click",(function(e){var t=r.rb.getSelectedObject();t instanceof Qe&&null!==t.getParent()&&t.getParent().deleteRow()})),I.append(C),u.append(I);var S=E("div",{id:"rbro_menu_zoom",class:"rbroZoom"});S.append(E("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var P=E("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});P.addEventListener("click",(function(e){r.rb.getDocument().zoomIn()})),S.append(P);var O=E("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});O.addEventListener("click",(function(e){r.rb.getDocument().zoomOut()})),S.append(O),u.append(S);var A=E("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});A.addEventListener("click",(function(e){A.classList.toggle("rbroButtonActive"),r.rb.getDocument().toggleGrid()})),u.append(A),l.append(u),o.append(l)}},{key:"updateZoomButtons",value:function(e,t){e?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),t?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),r}();function gr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?br(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vr=function(){function t(r,n){var o=this;if(e(this,t),this.element=r,this.nextId=1,this.version=5,this.locale=Ft[n&&n.localeKey||"en_us"],n&&n.locale&&Object.assign(this.locale,n.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:X.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:X.font.courier},{name:"Helvetica",value:X.font.helvetica},{name:"Times New Roman",value:X.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternLocales:["de","en","es","fr","it","pt"],patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},n)for(var i in n)this.properties.hasOwnProperty(i)&&(this.properties[i]=n[i]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var a,l=!1,s=gr(this.properties.fonts);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(this.properties.defaultFont===u.value){l=!0;break}}}catch(e){s.e(e)}finally{s.f()}if(l||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new wt(r,this.properties.showGrid,this),this.popupWindow=new Tt(r,this),this.docElements=[],this.headerBand=new U(U.bandType.header,!1,"","",this),this.contentBand=new U(U.bandType.content,!1,"","",this),this.footerBand=new U(U.bandType.footer,!1,"","",this),this.parameterContainer=new v("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new v("0_styles",this.getLabel("styles"),this),this.watermarkTextContainer=new Bt("0_watermark_texts",this.getLabel("watermarkTexts"),this),this.watermarkImageContainer=new Bt("0_watermark_images",this.getLabel("watermarkImages"),this),this.documentProperties=new Mt(this),this.mainPanel=new yr(r,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new mr(r,this),this.activeDetailPanel="none",this.detailPanels={none:new lr(r,this),docElement:new rr(r,this),parameter:new pr(r,this),style:new Xt(r,this),documentProperties:new ar(r,this)},this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),document.addEventListener("copy",(function(e){if(!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement&&document.activeElement.classList.contains("ql-editor"))&&o.selections.length>0){var t,r,n,i=[],a={},l=gr(o.selections);try{for(l.s();!(n=l.n()).done;){var s=n.value,u=o.getDataObject(s);if((u instanceof be&&!(u instanceof Qe)||u instanceof ye&&!u.showOnlyNameType||u instanceof X)&&!(u.getId()in a))if(a[u.getId()]=!0,t=u.toJS(),i.push(t),u instanceof be){if(t.baseClass="DocElement",u instanceof Ae){var c=[];u.appendContainerChildren(c);for(var d=0,p=c;d<p.length;d++){var h=p[d];if(h.getId()in a){for(r=0;r<i.length;r++)if(h.getId()===i[r].id){i.splice(r,1);break}}else a[h.getId()]=!0;(t=h.toJS()).baseClass="DocElement",i.push(t)}}}else u instanceof ye?t.baseClass="Parameter":u instanceof X&&(t.baseClass="Style")}}catch(e){l.e(e)}finally{l.f()}e.preventDefault();var f=JSON.stringify({elements:i,version:o.version});e.clipboardData.setData("application/json",f)}})),document.addEventListener("paste",(function(e){if(!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement&&document.activeElement.classList.contains("ql-editor"))){var t,r=gr(e.clipboardData.items);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=n.kind,a=n.type;"string"===i&&"application/json"===a&&n.getAsString((function(t){try{var r=JSON.parse(t);if(r.version===o.version){var n,i,a=new ne("Paste from clipboard",o),l={},s=[],u=gr(r.elements);try{for(u.s();!(i=u.n()).done;){var c=i.value,d=Object.assign({},c);if(d.id=o.getUniqueId(),s.push(d),"DocElement"===d.baseClass){if(d.linkedContainerId){var p=o.getUniqueId();l[d.linkedContainerId]=p,d.linkedContainerId=p}d.elementType===be.type.table&&ut.removeIds(d)}}}catch(e){u.e(e)}finally{u.f()}for(var h=0,f=s;h<f.length;h++){var y=f[h];if("DocElement"===y.baseClass){if(y.containerId in l)y.containerId=l[y.containerId];else{var m=0,g=o.getDataObject(y.containerId);if(null!==g){var b=g.getOffset(),v=g.getContentSize(),_=o.getDocument().getContentScrollPosY();_>b.y&&_+y.height<b.y+v.height&&(m=_-b.y)}y.x=0,y.y=m}n=new bt(!0,y.elementType,y,y.id,y.containerId,-1,o),a.addCommand(n)}else if("Parameter"===y.baseClass||"Style"===y.baseClass){var w=o.getLabel("nameCopySuffix"),E=y.name+" (".concat(w,")"),I="Parameter"===y.baseClass?o.parameterContainer.getPanelItem():o.styleContainer.getPanelItem();if(null!==I&&I.getChildByName(E))for(var x=2;x<=99&&(E=y.name+" (".concat(w," ").concat(x,")"),null!==I.getChildByName(E));x++);y.name=E,"Parameter"===y.baseClass?(ye.removeIds(y),n=new ue(!0,y,y.id,o.parameterContainer.getId(),-1,o),a.addCommand(n)):"Style"===y.baseClass&&(n=new Y(!0,y,y.id,o.styleContainer.getId(),-1,o),a.addCommand(n))}}if(!a.isEmpty()){o.executeCommand(a);var k,C=!0,S=gr(s);try{for(S.s();!(k=S.n()).done;){var P=k.value;o.selectObject(P.id,C),C=!1}}catch(e){S.e(e)}finally{S.f()}}e.preventDefault()}}catch(e){}}))}}catch(e){r.e(e)}finally{r.f()}}})),this.keydownEventListener=function(e){if(!o.detailPanels[o.activeDetailPanel].isKeyEventDisabled())if(e.metaKey||e.ctrlKey)switch(e.which){case 89:o.redoCommand(),e.preventDefault();break;case 90:o.undoCommand(),e.preventDefault()}else if(27===e.which)o.popupWindow.hide();else if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))switch(e.which){case 8:case 46:var t,r=new ne("Delete",o),n=gr(o.selections);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=o.getDataObject(i);a instanceof be&&a.addCommandsForDelete(r)}}catch(e){n.e(e)}finally{n.f()}r.isEmpty()||o.executeCommand(r),e.preventDefault();break;case 37:case 38:case 39:case 40:var l,s=new ne("Move element",o),u=37===e.which||39===e.which?"x":"y",c=(o.getDocumentProperties().getContentSize().width,gr(o.selections));try{for(c.s();!(l=c.n()).done;){var d=l.value,p=o.getDataObject(d);if(p instanceof be&&p.hasProperty(u)){var h=null;if(37===e.which)p.getValue("xVal")>0&&(h=p.getValue("xVal")-1);else if(38===e.which)p.getValue("yVal")>0&&(h=p.getValue("yVal")-1);else if(39===e.which){var f=p.getContainerContentSize();p.getValue("xVal")+p.getValue("widthVal")<f.width&&(h=p.getValue("xVal")+1)}else if(40===e.which){var y=p.getContainerContentSize();p.getValue("yVal")+p.getValue("heightVal")<y.height&&(h=p.getValue("yVal")+1)}if(null!==h){var m=new b(d,u,h,b.type.text,o);s.addCommand(m)}}}}catch(e){c.e(e)}finally{c.f()}s.isEmpty()||o.executeCommand(s),e.preventDefault()}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return i(t,[{key:"validateProperties",value:function(e){if(!Array.isArray(e.colors))return console.error('"colors" property must be an array'),!1;var t,r=!1,n=gr(e.colors);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!o||!L(o))return console.error('"colors" property contains invalid color value'),!1;"#000000"===o&&(r=!0)}}catch(e){n.e(e)}finally{n.f()}if(!r)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(e.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var i,a=gr(e.fontSizes);try{for(a.s();!(i=a.n()).done;){var l=i.value;if("number"!=typeof l||l<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(e){a.e(e)}finally{a.f()}return!!Array.isArray(e.patternLocales)||(console.error('"patternLocales" property must be an array'),!1)}},{key:"addMainPanelItemSubCategories",value:function(){var e=new ae("watermarkText",this.mainPanel.getWatermarksItem(),this.watermarkTextContainer,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1,draggable:!1},this);this.watermarkTextContainer.setPanelItem(e),this.mainPanel.getWatermarksItem().appendChild(e),this.watermarkTextContainer.setup();var t=new ae("watermarkImage",this.mainPanel.getWatermarksItem(),this.watermarkImageContainer,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1,draggable:!1},this);this.watermarkImageContainer.setPanelItem(t),this.mainPanel.getWatermarksItem().appendChild(t),this.watermarkImageContainer.setup()}},{key:"addDefaultParameters",value:function(){for(var e=0,t=[{name:"page_count",type:ye.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:ye.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];e<t.length;e++){var r=t[e],n=new ye(this.getUniqueId(),r,this),o=this.mainPanel.getParametersItem(),i=new ae("parameter",o,n,{hasChildren:!1,showAdd:!1,showDelete:!1,draggable:!1},this);n.setPanelItem(i),o.appendChild(i),n.setup(),this.addParameter(n)}}},{key:"render",value:function(){var e=this;I(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),"classic"===this.getProperty("theme")?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(E("div",{class:"rbroLogo"})),this.element.append(E("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var t=E("div",{class:"rbroContainer"}),r=E("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var n in r.append(E("ul",{id:"rbro_main_panel_list"})),t.append(r),t.append(E("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),t.append(E("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),t.append(E("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(t),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[n].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(t){e.mainPanel.mouseUp(t),e.document.mouseUp(t),e.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",(function(t){e.document.windowResized()})),this.element.addEventListener("dragstart",(function(e){e.preventDefault()})),this.element.addEventListener("mousemove",(function(t){e.mainPanel.processMouseMove(t)||e.document.processMouseMove(t)}))}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addMainPanelItemSubCategories(),this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.watermarkTextContainer),this.addDataObject(this.watermarkImageContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(e){return e in this.locale?this.locale[e]:e}},{key:"getProperty",value:function(e){return this.properties[e]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var e=[];if(this.properties.patternNumbers.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var t,r=gr(this.properties.patternNumbers);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n)}}catch(e){r.e(e)}finally{r.f()}}if(this.properties.patternDates.length>0){e.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var o,i=gr(this.properties.patternDates);try{for(i.s();!(o=i.n()).done;){var a=o.value;e.push(a)}}catch(e){i.e(e)}finally{i.f()}}return e}},{key:"getParameterItems",value:function(e,t){var r=[],n=this.getMainPanel().getParametersItem().getChildren(),o=0;if(e instanceof be){var i,a=!0,l=gr(e.getAllDataSources());try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.parameters.length>0){var u;u=a?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",s.name),r.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+o,name:u});var c,d=[],p=a?null:s.name,h=gr(s.parameters);try{for(h.s();!(c=h.n()).done;){var f=c.value;f.type===ye.type.map?f.appendParameterItems(d,t,p):f.appendParameterItems(r,t,p)}}catch(e){h.e(e)}finally{h.f()}for(var y=0,m=d;y<m.length;y++){var g=m[y];r.push(g)}}a=!1,o++}}catch(e){l.e(e)}finally{l.f()}}else if(e instanceof ye)for(var b=e.getParent();null!==b;){if(b.type===ye.type.array){o=1,b.appendFieldParameterItems(r,t,!0,null);break}b=b.getParent()}var v=o>0?"":null;r.push({separator:!0,name:this.getLabel("parameters")});var _,w=[],E=gr(n);try{for(E.s();!(_=E.n()).done;){var I=_.value.getData();I.getValue("type")===ye.type.map?I.appendParameterItems(w,t,v):I.appendParameterItems(r,t,v)}}catch(e){E.e(e)}finally{E.f()}return r.concat(w)}},{key:"getArrayFieldParameterItems",value:function(e){var t=[],r=this.getMainPanel().getParametersItem().getChildren();t.push({separator:!0,name:this.getLabel("parameters")});var n,o=gr(r);try{for(o.s();!(n=o.n()).done;){var i=n.value.getData();i.getValue("type")===ye.type.array&&i.appendFieldParameterItems(t,e,!1,null)}}catch(e){o.e(e)}finally{o.f()}return t}},{key:"appendContainerDocElements",value:function(e,t,r){var n,o=gr(e.getPanelItem().getChildren());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.getData()instanceof be){var a=i.getData();t?(r.push(a),a.addChildren(r)):r.push(a.toJS());var l=[];if(a instanceof Ge)l=a.getLinkedContainers();else{var s=a.getLinkedContainer();null!==s&&l.push(s)}var u,c=gr(l);try{for(c.s();!(u=c.n()).done;){var d=u.value;this.appendContainerDocElements(d,t,r)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){o.e(e)}finally{o.f()}}},{key:"getDocElements",value:function(e){var t=[];return this.appendContainerDocElements(this.headerBand,e,t),this.appendContainerDocElements(this.contentBand,e,t),this.appendContainerDocElements(this.footerBand,e,t),t}},{key:"setDetailPanel",value:function(e){e!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=e,this.detailPanels[e].show())}},{key:"notifyEvent",value:function(e,t,r){this.detailPanels[this.activeDetailPanel].notifyEvent(e,t,r)}},{key:"addParameter",value:function(e){this.addDataObject(e)}},{key:"addStyle",value:function(e){this.addDataObject(e),this.notifyEvent(e,d.operation.add)}},{key:"getStyles",value:function(){var e,t=[],r=gr(this.getMainPanel().getStylesItem().getChildren());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.getData())}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getParameters",value:function(){var e,t=[],r=gr(this.getMainPanel().getParametersItem().getChildren());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.getData())}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getWatermarks",value:function(){var e,t=[],r=gr(this.watermarkTextContainer.getPanelItem().getChildren());try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.getData())}}catch(e){r.e(e)}finally{r.f()}var o,i=gr(this.watermarkImageContainer.getPanelItem().getChildren());try{for(i.s();!(o=i.n()).done;){var a=o.value;t.push(a.getData())}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"addDocElement",value:function(e){this.docElements.push(e),this.addDataObject(e)}},{key:"deleteDocElements",value:function(){for(var e=0;e<this.docElements.length;e++)this.deleteDataObject(this.docElements[e]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(e){if(e.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var t=this.commandStack[this.commandStack.length-1];e.allowReplace(t)&&(e.replace(t),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(e),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var e=this.commandStack[this.lastCommandIndex];e.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var e=this.commandStack[this.lastCommandIndex];e.do(),this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(e,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var e,t=0,r={x:0,y:0},n=!0,o=!0,i=gr(this.selections);try{for(i.s();!(e=i.n()).done;){var a=e.value,l=this.getDataObject(a);if(l instanceof be&&l.hasProperty("x")){t++;var s=l.getContainer().getOffset();1===t?r=s:(s.x!==r.x&&(n=!1),s.y!==r.y&&(o=!1))}}}catch(e){i.e(e)}finally{i.f()}var u=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(t>1){n?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",o?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var c,d=gr(u);try{for(d.s();!(c=d.n()).done;)c.value.style.display="none"}catch(e){d.e(e)}finally{d.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var p=null;if(1===this.selections.length&&(p=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",p instanceof Qe){var h,f=gr(u);try{for(f.s();!(h=f.n()).done;)h.value.style.display="none"}catch(e){f.e(e)}finally{f.f()}var y=p.getTable(),m=p.getParent();null!==y&&1!==P(y.getValue("columns"))?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),null!==y&&null!==m&&m.getValue("bandType")===U.bandType.content?(1!==P(y.getValue("contentRows"))?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var g,b=gr(u);try{for(b.s();!(g=b.n()).done;)g.value.removeAttribute("style")}catch(e){b.e(e)}finally{b.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var e=0;e<this.commandStack.length;e++)e>this.lastCommandIndex?console.log("( "+e+" "+this.commandStack[e].getName()+" )"):console.log(e+" "+this.commandStack[e].getName())}},{key:"addDataObject",value:function(e){this.objectMap[e.getId()]=e}},{key:"deleteDataObject",value:function(e){this.isSelectedObject(e.getId())&&this.deselectObject(e.getId()),e.getId()in this.objectMap&&(e.remove(),delete this.objectMap[e.getId()])}},{key:"getDataObject",value:function(e){return null!==e&&e in this.objectMap?this.objectMap[e]:null}},{key:"getSelectedObjects",value:function(){var e,t=[],r=gr(this.selections);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=this.getDataObject(n);null!==o&&t.push(o)}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getSelectedObject",value:function(){return 1===this.selections.length?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(e){return-1!==this.selections.indexOf(e)}},{key:"isDocElementSelected",value:function(){var e,t=gr(this.selections);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(this.getDataObject(r)instanceof be)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"isTableElementSelected",value:function(e){var t,r=gr(this.selections);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=this.getDataObject(n);if(o instanceof Qe&&o.getValue("tableId")===e)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"selectObject",value:function(e,t){var r="none",n=this.getDataObject(e);if(t){if(null!==n&&1===this.selections.length&&this.selections[0]===e)return;this.deselectAll(!0)}null!==n&&(n instanceof be?r="docElement":n instanceof ye?r="parameter":n instanceof X?r="style":n instanceof Mt&&(r="documentProperties"),this.selections.push(e),n.select(),null!==n.getPanelItem()&&(n.getPanelItem().openParentItems(),n.getPanelItem().setActive()),r!==this.activeDetailPanel&&this.setDetailPanel(r),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(n,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(e){this.deselectObjectInternal(e,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(e,t){var r=this.getDataObject(e);if(null!==r&&(r.deselect(),null!==r.getPanelItem()&&r.getPanelItem().setInactive()),t){var n=this.selections.indexOf(e);-1!==n&&this.selections.splice(n,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}null!==r&&this.properties.selectCallback&&this.properties.selectCallback(r,!1)}},{key:"deselectAll",value:function(e){var t,r=gr(this.selections);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.deselectObjectInternal(n,!1)}}catch(e){r.e(e)}finally{r.f()}this.selections=[],e&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(e,t,r,n){var o=null,i=-1;if(r===be.type.watermarkText)return this.watermarkTextContainer;if(r===be.type.watermarkImage)return this.watermarkImageContainer;for(var a=0;a<this.containers.length;a++){var l=this.containers[a];if(l.getLevel()>i&&l.isElementAllowed(r)&&l.isInside(e,t)){var s,u=!1,c=gr(n);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(l===d||l.isChildOf(d)){u=!0;break}}}catch(e){c.e(e)}finally{c.f()}u||(o=l,i=l.getLevel())}}return o}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(e){this.containers.push(e),this.addDataObject(e)}},{key:"deleteContainer",value:function(e){for(var t=0;t<this.containers.length;t++)if(this.containers[t].getId()===e.getId()){this.containers.splice(t,1);break}this.deleteDataObject(e)}},{key:"startBrowserDrag",value:function(e,t,r){this.browserDragType=e,this.browserDragId=r,this.getDocument().startBrowserDrag(t)}},{key:"isBrowserDragActive",value:function(e){return this.browserDragType===e}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(e,t,r,n,o){var i;o&&(i=new ne(r===be.dragType.element?"Update position":"Resize",this));var a,l=gr(this.selections);try{for(l.s();!(a=l.n()).done;){var s=a.value,u=this.getDataObject(s);null!==u&&(r!==be.dragType.element||u.isDraggingAllowed())&&u.updateDrag(e,t,r,n,o?i:null)}}catch(e){l.e(e)}finally{l.f()}o&&!i.isEmpty()&&this.executeCommand(i)}},{key:"alignSelections",value:function(e){var t,r,n,o,i,a=Number.MAX_VALUE,l=Number.MIN_VALUE,s=Number.MAX_VALUE,u=Number.MIN_VALUE,c=0,d=gr(this.selections);try{for(d.s();!(i=d.n()).done;){var p=i.value,h=this.getDataObject(p);h instanceof be&&h.hasProperty("x")&&(c++,t=h.getValue("xVal"),r=h.getValue("yVal"),n=h.getValue("widthVal"),o=h.getValue("heightVal"),t<a&&(a=t),t+n>l&&(l=t+n),r<s&&(s=r),r+o>u&&(u=r+o))}}catch(e){d.e(e)}finally{d.f()}var f=a+(l-a)/2,y=s+(u-s)/2;if(c>1){var m,g=new ne("Align elements",this),v=gr(this.selections);try{for(v.s();!(m=v.n()).done;){var _=m.value,w=this.getDataObject(_);if(w instanceof be&&!(w instanceof Fe))switch(e){case X.alignment.left:var E=new b(w.getId(),"x",""+a,b.type.text,this);g.addCommand(E);break;case X.alignment.center:var I=new b(w.getId(),"x",""+(f-w.getValue("widthVal")/2),b.type.text,this);g.addCommand(I);break;case X.alignment.right:var x=new b(w.getId(),"x",""+(l-w.getValue("widthVal")),b.type.text,this);g.addCommand(x);break;case X.alignment.top:var k=new b(w.getId(),"y",""+s,b.type.text,this);g.addCommand(k);break;case X.alignment.middle:var C=new b(w.getId(),"y",""+(y-w.getValue("heightVal")/2),b.type.text,this);g.addCommand(C);break;case X.alignment.bottom:var S=new b(w.getId(),"y",""+(u-w.getValue("heightVal")),b.type.text,this);g.addCommand(S)}}}catch(e){v.e(e)}finally{v.f()}this.executeCommand(g)}}},{key:"toPixel",value:function(e){return""===e||"string"==typeof e&&(e=parseFloat(e.replace(",",".")),isNaN(e))?"0px":e+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(E("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var e=document.getElementById("rbro_loading_div");e&&e.remove()}},{key:"getTestData",value:function(){var e,t={},r=gr(this.getParameters());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(!n.getValue("showOnlyNameType")){var o=n.getValue("type");o===ye.type.array||o===ye.type.simpleArray||o===ye.type.map?t[n.getName()]=n.getTestData(!1):o===ye.type.string||o===ye.type.number||o===ye.type.date?t[n.getName()]=n.getValue("testData"):o===ye.type.boolean?t[n.getName()]=n.getValue("testDataBoolean"):o===ye.type.image?t[n.getName()]=n.getValue("testDataImage"):o===ye.type.richText&&(t[n.getName()]=n.getValue("testDataRichText"))}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"previewInternal",value:function(e,t){var r=this,n=this.getRequestParameters();this.clearErrors();var o=n.reportServerHeaders;o["Content-Type"]="application/json",n.reportServerBasicAuth&&(o.Authorization="Basic "+btoa(n.reportServerBasicAuth.username+":"+n.reportServerBasicAuth.password)),this.showLoading();var i=new AbortController,a=setTimeout((function(){return i.abort()}),n.reportServerTimeout);fetch(n.reportServerUrl,{signal:i.signal,method:"PUT",headers:o,body:JSON.stringify({report:this.getReport(),outputFormat:Mt.outputFormat.pdf,data:e,isTestData:t})}).then((function(e){if(!e.ok)throw Error(e.statusText);return r.properties.autoSaveOnPreview&&r.save(),e})).then((function(e){return e.text()})).then((function(e){if(clearTimeout(a),r.hideLoading(),"key:"===e.substring(0,4)){r.reportKey=e.substring(4);var t=new URL(n.reportServerUrl,document.location);t.searchParams.set("key",r.reportKey),t.searchParams.set("outputFormat","pdf"),r.getDocument().openPdfPreviewTab(t.toString(),o)}else{r.reportKey=null;try{var i=JSON.parse(e);i.errors.length>0&&r.processErrors(i.errors,!1)}catch(e){alert("preview failed")}}})).catch((function(e){clearTimeout(a),r.hideLoading(),alert("preview failed")}))}},{key:"getRequestParameters",value:function(){var e={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(e),e}},{key:"setModified",value:function(e){this.modified=e,e||(this.savedCommandIndex=this.lastCommandIndex),this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var e={docElements:[],parameters:[],styles:[],watermarks:[],version:this.version};e.docElements=this.getDocElements(!1);var t,r=gr(this.getParameters());try{for(r.s();!(t=r.n()).done;){var n=t.value;e.parameters.push(n.toJS())}}catch(e){r.e(e)}finally{r.f()}var o,i=gr(this.getStyles());try{for(i.s();!(o=i.n()).done;){var a=o.value;e.styles.push(a.toJS())}}catch(e){i.e(e)}finally{i.f()}var l,s=gr(this.getWatermarks());try{for(s.s();!(l=s.n()).done;){var u=l.value;e.watermarks.push(u.toJS())}}catch(e){s.e(e)}finally{s.f()}return e.documentProperties=this.documentProperties.toJS(),e}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&null!==window.localStorage)try{var e=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(e)),this.setModified(!1)}catch(e){}if(this.getProperty("highlightUnusedParameters")){var t,r=gr(this.getParameters());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.editable&&n.setHighlightUnused(!1)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"load",value:function(e){var t,r=gr(this.getParameters());try{for(r.s();!(t=r.n()).done;){var n=t.value;this.deleteDataObject(n)}}catch(e){r.e(e)}finally{r.f()}var o,i=gr(this.getStyles());try{for(i.s();!(o=i.n()).done;){var a=o.value;this.deleteDataObject(a)}}catch(e){i.e(e)}finally{i.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),this.getMainPanel().getWatermarksItem().close(),e.version<2){var l,s=gr(e.docElements);try{for(s.s();!(l=s.n()).done;){var u=l.value;u.elementType===be.type.table&&(u.contentDataRows=[u.contentData],u.contentRows="1")}}catch(e){s.e(e)}finally{s.f()}}if(e.version<3){var c,d=gr(e.docElements);try{for(d.s();!(c=d.n()).done;){var p=c.value;if(p.elementType===be.type.table){for(var h=0,f=0;f<p.headerData.columnData.length;f++)h+=p.headerData.columnData[f].width;p.width=h}}}catch(e){d.e(e)}finally{d.f()}}if(e.version<4){var y,m=gr(e.parameters);try{for(m.s();!(y=m.n()).done;){var g=y.value;if(g.type===ye.type.map){var b,v={},_=gr(g.children);try{for(_.s();!(b=_.n()).done;){var w=b.value;v[w.name]=w.testData,w.testData=""}}catch(e){_.e(e)}finally{_.f()}g.testData=JSON.stringify(v)}else g.type===ye.type.boolean&&(g.testDataBoolean=Boolean(g.testData))}}catch(e){m.e(e)}finally{m.f()}}e.version<5&&(e.watermarks=[]),this.documentProperties.setInitialData(e.documentProperties),this.documentProperties.setup();var E,I=gr(e.styles);try{for(I.s();!(E=I.n()).done;){var x=E.value;this.createStyle(x)}}catch(e){I.e(e)}finally{I.f()}var k,C=gr(e.parameters);try{for(C.s();!(k=C.n()).done;){var S=k.value;this.createParameter(S,null)}}catch(e){C.e(e)}finally{C.f()}var P,O=gr(e.docElements);try{for(O.s();!(P=O.n()).done;){var A=P.value;this.createDocElement(A)}}catch(e){O.e(e)}finally{O.f()}var D,T=gr(e.watermarks);try{for(T.s();!(D=T.n()).done;){var L=D.value;this.createDocElement(L)}}catch(e){T.e(e)}finally{T.f()}if(this.getProperty("highlightUnusedParameters")){var j,B=this.getDocElements(!0),N=gr(this.getParameters());try{for(N.s();!(j=N.n()).done;){var R=j.value;if(R.editable){var M,F=new ne("Temp group"),V=gr(B);try{for(V.s();!(M=V.n()).done;)M.value.addCommandsForChangedParameterName(R,R.getName(),F)}catch(e){V.e(e)}finally{V.f()}var q,z=gr(this.getParameters());try{for(z.s();!(q=z.n()).done;){var H=q.value;H.getId()!==R.getId()&&H.addCommandsForChangedParameterName(R,R.getName(),F)}}catch(e){z.e(e)}finally{z.f()}F.isEmpty()&&R.setHighlightUnused(!0)}}}catch(e){N.e(e)}finally{N.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&null!==window.localStorage){var e=null;try{e=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(e){}null!==e&&this.load(e)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(e){this.previewInternal(e,!1)}},{key:"downloadSpreadsheet",value:function(){var e=this.getRequestParameters(),t=new URL(e.reportServerUrl,document.location);t.searchParams.set("key",this.reportKey),t.searchParams.set("outputFormat","xlsx");var r=e.reportServerHeaders,n=this;if(null!==this.reportKey)if(r&&Object.keys(r).length>0){var o=new XMLHttpRequest;for(var i in o.responseType="blob",o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)if("application/json"===o.response.type){var e=new FileReader;e.addEventListener("loadend",(function(){var t=e.result;try{var r=JSON.parse(t);r.errors.length>0&&n.processErrors(r.errors,!1)}catch(e){alert("download failed")}})),e.readAsText(o.response)}else{var t=URL.createObjectURL(o.response);window.open(t,"_blank")}else alert("download failed")},o.open("GET",t.toString(),!0),r)r.hasOwnProperty(i)&&o.setRequestHeader(i,r[i]);o.send()}else window.open(t.toString(),"_blank")}},{key:"processErrors",value:function(e,t){(void 0===t||t)&&this.clearErrors();var r,n=gr(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.object_id){document.getElementById("rbro_menu_item".concat(o.object_id)).classList.add("rbroError");var i=this.getDataObject(o.object_id);null!==i&&i.addError(o)}}}catch(e){n.e(e)}finally{n.f()}e.length>0&&(this.deselectAll(!1),this.selectObject(e[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var e,t=gr(document.querySelectorAll(".rbroMenuItem"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroError")}catch(e){t.e(e)}finally{t.f()}var r,n=gr(document.querySelectorAll(".rbroFormRow"));try{for(n.s();!(r=n.n()).done;)r.value.classList.remove("rbroError")}catch(e){n.e(e)}finally{n.f()}var o,i=gr(document.querySelectorAll(".rbroErrorMessage"));try{for(i.s();!(o=i.n()).done;)o.value.textContent=""}catch(e){i.e(e)}finally{i.f()}for(var a in this.objectMap)this.objectMap[a].clearErrors()}},{key:"destroy",value:function(){for(var e in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[e].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(e){var t=this.getDataObject(e);return t instanceof be?t:null}},{key:"getParameterById",value:function(e){var t=this.getDataObject(e);return t instanceof ye?t:null}},{key:"getParameterByName",value:function(e){return this.getParameterByNameInternal(e,null)}},{key:"getParameterByNameInternal",value:function(e,t){var r=null,n=null,o=e.indexOf(".");-1!==o&&(r=e.substring(0,o),n=e.substring(o+1));var i,a=gr(t?t.getChildren():this.getParameters());try{for(a.s();!(i=a.n()).done;){var l=i.value;if(null!==r&&(l.getValue("type")===ye.type.map||l.getValue("type")===ye.type.array)&&l.getValue("name")===r)return this.getParameterByNameInternal(n,l);if(null===r&&l.getValue("name")===e)return l}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"getStyleById",value:function(e){var t=this.getDataObject(e);return t instanceof X?t:null}},{key:"createDocElement",value:function(e){var t=bt.createElement(e.id,e,e.elementType,-1,!1,this),r=t.getMaxId();return r>=this.nextId&&(this.nextId=r+1),t}},{key:"createParameter",value:function(e,t){var r=new ye(e.id,e,this),n=null;n=!t||t.getValue("type")!==ye.type.array&&t.getValue("type")!==ye.type.map?this.mainPanel.getParametersItem():t.getPanelItem();var o=this.getProperty("adminMode"),i=r.getValue("showOnlyNameType"),a=o&&!i,l=new ae("parameter",n,r,{hasChildren:!i,showAdd:a,showDelete:a,draggable:!0},this);r.setPanelItem(l),n.appendChild(l),r.setup(),o&&!i&&r.getValue("type")!==ye.type.array&&r.getValue("type")!==ye.type.map&&(document.getElementById("rbro_menu_item_add".concat(r.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(r.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(r.getId())).style.display="none"),this.addParameter(r);var s=r.getMaxId();return s>=this.nextId&&(this.nextId=s+1),r}},{key:"createStyle",value:function(e){var t=new X(e.id,e,this),r=this.mainPanel.getStylesItem(),n=new ae("style",r,t,{draggable:!0},this);return t.setPanelItem(n),r.appendChild(n),this.addStyle(t),e.id>=this.nextId&&(this.nextId=e.id+1),t}},{key:"deleteDocElement",value:function(e){for(var t=0;t<this.docElements.length;t++)if(this.docElements[t].getId()===e.getId()){this.docElements.splice(t,1),this.deleteDataObject(e),this.notifyEvent(e,d.operation.remove);break}}},{key:"deleteParameter",value:function(e){this.deleteDataObject(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()),this.notifyEvent(e,d.operation.remove)}},{key:"deleteStyle",value:function(e){this.deleteDataObject(e),e.getPanelItem().getParent().removeChild(e.getPanelItem()),this.notifyEvent(e,d.operation.remove)}}]),t}();"undefined"!=typeof exports?exports.ReportBro=vr:window.ReportBro=vr})()})();
//# sourceMappingURL=reportbro.js.map